<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Dipy &mdash; dipy 0.8.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/dipy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="dipy 0.8.0 documentation" href="../index.html" />
  <meta name="keywords" content="dipy, dMRI, DTI, DSI, diffusion MRI, Tensor,
  neuroimaging, python, neuroscience, Eleftherios, Garyfallidis, tractography,
  streamlines, fiber tracking">

  </head>
  <body role="document">
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
 <a href="../index.html">
  <img src="../_static/dipy-banner.png" alt="dipy logo"  border="0" />
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
  <li><a href="../index.html">Home</a> |&nbsp;</li>
  <li><a href="../stateoftheart.html">Overview</a> |&nbsp;</li>
  <li><a href="../examples_index.html">Gallery</a> |&nbsp;</li>
  <li><a href="../installation.html">Download</a> |&nbsp;</li>
  <li><a href="../subscribe.html">Subscribe</a> |&nbsp;</li>
  <li><a href="../developers.html">Developers</a> |&nbsp;</li>
  <li><a href="../cite.html">Cite</a> &nbsp;</li>
 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

  
<h4> Site Navigation </h4>
  <ul>
    <li><a href="../documentation.html">Documentation</a></li>
    <li><a href="../devel/index.html">Development</a></li>
  </ul>

<h4> NIPY Community </h4>
  <ul class="simple">
    <li><a class="reference external"
	href="http://nipy.org/">Community Home</a></li>
    <li><a class="reference external"
	href="http://nipy.org/software/projects/">NIPY Projects</a></li>
    <li><a class="reference external"
	href="http://mail.scipy.org/mailman/listinfo/nipy-devel">Mailing List</a></li>
    <li><a class="reference external"
	href="http://nipy.org/software/license/index.html">License</a></li>
  </ul>


  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="docutils literal"><span class="pre">tracking</span></code></a><ul>
<li><a class="reference internal" href="#module-dipy.tracking._utils">Module: <code class="docutils literal"><span class="pre">tracking._utils</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.tracking.benchmarks">Module: <code class="docutils literal"><span class="pre">tracking.benchmarks</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.tracking.benchmarks.bench_streamline">Module: <code class="docutils literal"><span class="pre">tracking.benchmarks.bench_streamline</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.tracking.eudx">Module: <code class="docutils literal"><span class="pre">tracking.eudx</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.tracking.learning">Module: <code class="docutils literal"><span class="pre">tracking.learning</span></code></a></li>
<li><a class="reference internal" href="#module-tracking-life">Module: <code class="docutils literal"><span class="pre">tracking.life</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.tracking.local">Module: <code class="docutils literal"><span class="pre">tracking.local</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.tracking.local.localtracking">Module: <code class="docutils literal"><span class="pre">tracking.local.localtracking</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.tracking.markov">Module: <code class="docutils literal"><span class="pre">tracking.markov</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.tracking.metrics">Module: <code class="docutils literal"><span class="pre">tracking.metrics</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.tracking.streamline">Module: <code class="docutils literal"><span class="pre">tracking.streamline</span></code></a><ul>
<li><a class="reference internal" href="#bench">bench</a></li>
<li><a class="reference internal" href="#test">test</a></li>
<li><a class="reference internal" href="#warn">warn</a></li>
<li><a class="reference internal" href="#bench-compress-streamlines">bench_compress_streamlines</a></li>
<li><a class="reference internal" href="#bench-length">bench_length</a></li>
<li><a class="reference internal" href="#bench-set-number-of-points">bench_set_number_of_points</a></li>
<li><a class="reference internal" href="#compress-streamlines">compress_streamlines</a></li>
<li><a class="reference internal" href="#compress-streamlines-python">compress_streamlines_python</a></li>
<li><a class="reference internal" href="#get-data">get_data</a></li>
<li><a class="reference internal" href="#length">length</a></li>
<li><a class="reference internal" href="#length-python">length_python</a></li>
<li><a class="reference internal" href="#measure">measure</a></li>
<li><a class="reference internal" href="#set-number-of-points">set_number_of_points</a></li>
<li><a class="reference internal" href="#set-number-of-points-python">set_number_of_points_python</a></li>
<li><a class="reference internal" href="#eudx"><code class="docutils literal"><span class="pre">EuDX</span></code></a></li>
<li><a class="reference internal" href="#eudx-both-directions">eudx_both_directions</a></li>
<li><a class="reference internal" href="#get-sphere">get_sphere</a></li>
<li><a class="reference internal" href="#detect-corresponding-tracks">detect_corresponding_tracks</a></li>
<li><a class="reference internal" href="#detect-corresponding-tracks-plus">detect_corresponding_tracks_plus</a></li>
<li><a class="reference internal" href="#fiberfit"><code class="docutils literal"><span class="pre">FiberFit</span></code></a></li>
<li><a class="reference internal" href="#fibermodel"><code class="docutils literal"><span class="pre">FiberModel</span></code></a></li>
<li><a class="reference internal" href="#lifesignalmaker"><code class="docutils literal"><span class="pre">LifeSignalMaker</span></code></a></li>
<li><a class="reference internal" href="#reconstfit"><code class="docutils literal"><span class="pre">ReconstFit</span></code></a></li>
<li><a class="reference internal" href="#reconstmodel"><code class="docutils literal"><span class="pre">ReconstModel</span></code></a></li>
<li><a class="reference internal" href="#range"><code class="docutils literal"><span class="pre">range</span></code></a></li>
<li><a class="reference internal" href="#grad-tensor">grad_tensor</a></li>
<li><a class="reference internal" href="#gradient">gradient</a></li>
<li><a class="reference internal" href="#streamline-gradients">streamline_gradients</a></li>
<li><a class="reference internal" href="#streamline-signal">streamline_signal</a></li>
<li><a class="reference internal" href="#streamline-tensors">streamline_tensors</a></li>
<li><a class="reference internal" href="#transform-streamlines">transform_streamlines</a></li>
<li><a class="reference internal" href="#unique-rows">unique_rows</a></li>
<li><a class="reference internal" href="#voxel2streamline">voxel2streamline</a></li>
<li><a class="reference internal" href="#acttissueclassifier"><code class="docutils literal"><span class="pre">ActTissueClassifier</span></code></a></li>
<li><a class="reference internal" href="#binarytissueclassifier"><code class="docutils literal"><span class="pre">BinaryTissueClassifier</span></code></a></li>
<li><a class="reference internal" href="#directiongetter"><code class="docutils literal"><span class="pre">DirectionGetter</span></code></a></li>
<li><a class="reference internal" href="#localtracking"><code class="docutils literal"><span class="pre">LocalTracking</span></code></a></li>
<li><a class="reference internal" href="#thresholdtissueclassifier"><code class="docutils literal"><span class="pre">ThresholdTissueClassifier</span></code></a></li>
<li><a class="reference internal" href="#tissueclassifier"><code class="docutils literal"><span class="pre">TissueClassifier</span></code></a></li>
<li><a class="reference internal" href="#bunch"><code class="docutils literal"><span class="pre">Bunch</span></code></a></li>
<li><a class="reference internal" href="#id9"><code class="docutils literal"><span class="pre">LocalTracking</span></code></a></li>
<li><a class="reference internal" href="#local-tracker">local_tracker</a></li>
<li><a class="reference internal" href="#boundarystepper"><code class="docutils literal"><span class="pre">BoundaryStepper</span></code></a></li>
<li><a class="reference internal" href="#cdt-nno"><code class="docutils literal"><span class="pre">CDT_NNO</span></code></a></li>
<li><a class="reference internal" href="#closestdirectiontracker"><code class="docutils literal"><span class="pre">ClosestDirectionTracker</span></code></a></li>
<li><a class="reference internal" href="#directionfinder"><code class="docutils literal"><span class="pre">DirectionFinder</span></code></a></li>
<li><a class="reference internal" href="#fixedsizestepper"><code class="docutils literal"><span class="pre">FixedSizeStepper</span></code></a></li>
<li><a class="reference internal" href="#markovintegrator"><code class="docutils literal"><span class="pre">MarkovIntegrator</span></code></a></li>
<li><a class="reference internal" href="#nearestneighborinterpolator"><code class="docutils literal"><span class="pre">NearestNeighborInterpolator</span></code></a></li>
<li><a class="reference internal" href="#outsideimage"><code class="docutils literal"><span class="pre">OutsideImage</span></code></a></li>
<li><a class="reference internal" href="#probabilisticodfweightedtracker"><code class="docutils literal"><span class="pre">ProbabilisticOdfWeightedTracker</span></code></a></li>
<li><a class="reference internal" href="#xrange"><code class="docutils literal"><span class="pre">xrange</span></code></a></li>
<li><a class="reference internal" href="#markov-streamline">markov_streamline</a></li>
<li><a class="reference internal" href="#peak-directions">peak_directions</a></li>
<li><a class="reference internal" href="#id14"><code class="docutils literal"><span class="pre">xrange</span></code></a></li>
<li><a class="reference internal" href="#arbitrarypoint">arbitrarypoint</a></li>
<li><a class="reference internal" href="#bytes">bytes</a></li>
<li><a class="reference internal" href="#center-of-mass">center_of_mass</a></li>
<li><a class="reference internal" href="#downsample">downsample</a></li>
<li><a class="reference internal" href="#endpoint">endpoint</a></li>
<li><a class="reference internal" href="#frenet-serret">frenet_serret</a></li>
<li><a class="reference internal" href="#generate-combinations">generate_combinations</a></li>
<li><a class="reference internal" href="#inside-sphere">inside_sphere</a></li>
<li><a class="reference internal" href="#inside-sphere-points">inside_sphere_points</a></li>
<li><a class="reference internal" href="#intersect-sphere">intersect_sphere</a></li>
<li><a class="reference internal" href="#id15">length</a></li>
<li><a class="reference internal" href="#longest-track-bundle">longest_track_bundle</a></li>
<li><a class="reference internal" href="#magn">magn</a></li>
<li><a class="reference internal" href="#mean-curvature">mean_curvature</a></li>
<li><a class="reference internal" href="#mean-orientation">mean_orientation</a></li>
<li><a class="reference internal" href="#midpoint">midpoint</a></li>
<li><a class="reference internal" href="#midpoint2point">midpoint2point</a></li>
<li><a class="reference internal" href="#principal-components">principal_components</a></li>
<li><a class="reference internal" href="#splev">splev</a></li>
<li><a class="reference internal" href="#spline">spline</a></li>
<li><a class="reference internal" href="#splprep">splprep</a></li>
<li><a class="reference internal" href="#startpoint">startpoint</a></li>
<li><a class="reference internal" href="#winding">winding</a></li>
<li><a class="reference internal" href="#apply-affine">apply_affine</a></li>
<li><a class="reference internal" href="#cdist">cdist</a></li>
<li><a class="reference internal" href="#center-streamlines">center_streamlines</a></li>
<li><a class="reference internal" href="#id22">compress_streamlines</a></li>
<li><a class="reference internal" href="#deepcopy">deepcopy</a></li>
<li><a class="reference internal" href="#dist-to-corner">dist_to_corner</a></li>
<li><a class="reference internal" href="#id23">length</a></li>
<li><a class="reference internal" href="#orient-by-rois">orient_by_rois</a></li>
<li><a class="reference internal" href="#relist-streamlines">relist_streamlines</a></li>
<li><a class="reference internal" href="#select-by-rois">select_by_rois</a></li>
<li><a class="reference internal" href="#select-random-set-of-streamlines">select_random_set_of_streamlines</a></li>
<li><a class="reference internal" href="#id24">set_number_of_points</a></li>
<li><a class="reference internal" href="#streamline-near-roi">streamline_near_roi</a></li>
<li><a class="reference internal" href="#id25">transform_streamlines</a></li>
<li><a class="reference internal" href="#unlist-streamlines">unlist_streamlines</a></li>
<li><a class="reference internal" href="#values-from-volume">values_from_volume</a></li>
<li><a class="reference internal" href="#id26">warn</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/reference/dipy.tracking.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>

<div id="searchbox-ml" style="display: none">
  <h3>Search mailing list archive</h3>
  <script type="text/javascript">
    function mlsearch(curobj)
    {
    curobj.q.value="site:mail.scipy.org/pipermail/nipy-devel/ "+curobj.userquery.value
    }
  </script>
  <form action="http://www.google.com/search" method="get" onSubmit="mlsearch(this)">
    <input name="userquery" size="13" type="text" /> <input type="submit" value="Go" />
    <input name="q" type="hidden" />
  </form>
</div>
  
<div id="searchbox-site" style="display: none">
  <h3>Search this site</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="13" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    </p>
</div>
<script type="text/javascript">$('#searchbox-ml').show(0);</script>
<script type="text/javascript">$('#searchbox-site').show(0);</script>


        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-dipy.tracking">
<span id="tracking"></span><h1><code class="xref py py-mod docutils literal"><span class="pre">tracking</span></code><a class="headerlink" href="#module-dipy.tracking" title="Permalink to this headline">¶</a></h1>
<p>Tracking objects</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.bench" title="dipy.tracking.bench"><code class="xref py py-obj docutils literal"><span class="pre">bench</span></code></a></td>
<td>Run benchmarks for module using nose.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.test" title="dipy.tracking.test"><code class="xref py py-obj docutils literal"><span class="pre">test</span></code></a></td>
<td>Run tests for module using nose.</td>
</tr>
</tbody>
</table>
<div class="section" id="module-dipy.tracking._utils">
<span id="module-tracking-utils"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">tracking._utils</span></code><a class="headerlink" href="#module-dipy.tracking._utils" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking._utils.warn" title="dipy.tracking._utils.warn"><code class="xref py py-obj docutils literal"><span class="pre">warn</span></code></a></td>
<td>Issue a warning, or maybe ignore it or raise an exception.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.tracking.benchmarks">
<span id="module-tracking-benchmarks"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">tracking.benchmarks</span></code><a class="headerlink" href="#module-dipy.tracking.benchmarks" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
</tbody>
</table>
</div>
<div class="section" id="module-dipy.tracking.benchmarks.bench_streamline">
<span id="module-tracking-benchmarks-bench-streamline"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">tracking.benchmarks.bench_streamline</span></code><a class="headerlink" href="#module-dipy.tracking.benchmarks.bench_streamline" title="Permalink to this headline">¶</a></h2>
<p>Benchmarks for functions related to streamline</p>
<p>Run all benchmarks with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">dipy.tracking</span> <span class="kn">as</span> <span class="nn">dipytracking</span>
<span class="n">dipytracking</span><span class="o">.</span><span class="n">bench</span><span class="p">()</span>
</pre></div>
</div>
<p>If you have doctests enabled by default in nose (with a noserc file or
environment variable), and you have a numpy version &lt;= 1.6.1, this will also run
the doctests, let&#8217;s hope they pass.</p>
<p>Run this benchmark with:</p>
<blockquote>
<div>nosetests -s &#8211;match &#8216;(?:^|[b_.//-])[Bb]ench&#8217; /path/to/bench_streamline.py</div></blockquote>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">bench_compress_streamlines</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.benchmarks.bench_streamline.bench_length" title="dipy.tracking.benchmarks.bench_streamline.bench_length"><code class="xref py py-obj docutils literal"><span class="pre">bench_length</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.benchmarks.bench_streamline.bench_set_number_of_points" title="dipy.tracking.benchmarks.bench_streamline.bench_set_number_of_points"><code class="xref py py-obj docutils literal"><span class="pre">bench_set_number_of_points</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">compress_streamlines</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">compress_streamlines_python</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">get_data</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.benchmarks.bench_streamline.length" title="dipy.tracking.benchmarks.bench_streamline.length"><code class="xref py py-obj docutils literal"><span class="pre">length</span></code></a></td>
<td>Euclidean length of streamlines</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.benchmarks.bench_streamline.length_python" title="dipy.tracking.benchmarks.bench_streamline.length_python"><code class="xref py py-obj docutils literal"><span class="pre">length_python</span></code></a>(xyz[,&nbsp;along])</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.benchmarks.bench_streamline.measure" title="dipy.tracking.benchmarks.bench_streamline.measure"><code class="xref py py-obj docutils literal"><span class="pre">measure</span></code></a>(code_str[,&nbsp;times,&nbsp;label])</td>
<td>Return elapsed time for executing code in the namespace of the caller.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.benchmarks.bench_streamline.set_number_of_points" title="dipy.tracking.benchmarks.bench_streamline.set_number_of_points"><code class="xref py py-obj docutils literal"><span class="pre">set_number_of_points</span></code></a></td>
<td>Change the number of points of streamlines</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.benchmarks.bench_streamline.set_number_of_points_python" title="dipy.tracking.benchmarks.bench_streamline.set_number_of_points_python"><code class="xref py py-obj docutils literal"><span class="pre">set_number_of_points_python</span></code></a>(xyz[,&nbsp;n_pols])</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.tracking.eudx">
<span id="module-tracking-eudx"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">tracking.eudx</span></code><a class="headerlink" href="#module-dipy.tracking.eudx" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.eudx.EuDX" title="dipy.tracking.eudx.EuDX"><code class="xref py py-obj docutils literal"><span class="pre">EuDX</span></code></a>(a,&nbsp;ind,&nbsp;seeds,&nbsp;odf_vertices[,&nbsp;a_low,&nbsp;...])</td>
<td>Euler Delta Crossings</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.eudx.eudx_both_directions" title="dipy.tracking.eudx.eudx_both_directions"><code class="xref py py-obj docutils literal"><span class="pre">eudx_both_directions</span></code></a></td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.eudx.get_sphere" title="dipy.tracking.eudx.get_sphere"><code class="xref py py-obj docutils literal"><span class="pre">get_sphere</span></code></a>([name])</td>
<td>provide triangulated spheres</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.tracking.learning">
<span id="module-tracking-learning"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">tracking.learning</span></code><a class="headerlink" href="#module-dipy.tracking.learning" title="Permalink to this headline">¶</a></h2>
<p>Learning algorithms for tractography</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.learning.detect_corresponding_tracks" title="dipy.tracking.learning.detect_corresponding_tracks"><code class="xref py py-obj docutils literal"><span class="pre">detect_corresponding_tracks</span></code></a>(indices,&nbsp;...)</td>
<td>Detect corresponding tracks from list tracks1 to list tracks2</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.learning.detect_corresponding_tracks_plus" title="dipy.tracking.learning.detect_corresponding_tracks_plus"><code class="xref py py-obj docutils literal"><span class="pre">detect_corresponding_tracks_plus</span></code></a>(indices,&nbsp;...)</td>
<td>Detect corresponding tracks from 1 to 2 where tracks1 &amp; tracks2 are sequences of tracks</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-tracking-life">
<h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">tracking.life</span></code><a class="headerlink" href="#module-tracking-life" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">FiberFit</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">FiberModel</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">LifeSignalMaker</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">ReconstFit</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">ReconstModel</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference external" href="http://docs.python.org/library/functions.html#range" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">range</span></code></a></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">grad_tensor</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">gradient</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">streamline_gradients</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">streamline_signal</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">streamline_tensors</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">transform_streamlines</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">unique_rows</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">voxel2streamline</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.tracking.local">
<span id="module-tracking-local"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">tracking.local</span></code><a class="headerlink" href="#module-dipy.tracking.local" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">ActTissueClassifier</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">BinaryTissueClassifier</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.local.DirectionGetter" title="dipy.tracking.local.DirectionGetter"><code class="xref py py-obj docutils literal"><span class="pre">DirectionGetter</span></code></a></td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.local.LocalTracking" title="dipy.tracking.local.LocalTracking"><code class="xref py py-obj docutils literal"><span class="pre">LocalTracking</span></code></a>(direction_getter,&nbsp;...[,&nbsp;...])</td>
<td>A streamline generator for local tracking methods</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.local.ThresholdTissueClassifier" title="dipy.tracking.local.ThresholdTissueClassifier"><code class="xref py py-obj docutils literal"><span class="pre">ThresholdTissueClassifier</span></code></a></td>
<td># Declarations from tissue_classifier.pxd bellow</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.local.TissueClassifier" title="dipy.tracking.local.TissueClassifier"><code class="xref py py-obj docutils literal"><span class="pre">TissueClassifier</span></code></a></td>
<td><p class="rubric">Methods</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.tracking.local.localtracking">
<span id="module-tracking-local-localtracking"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">tracking.local.localtracking</span></code><a class="headerlink" href="#module-dipy.tracking.local.localtracking" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">Bunch</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.local.localtracking.LocalTracking" title="dipy.tracking.local.localtracking.LocalTracking"><code class="xref py py-obj docutils literal"><span class="pre">LocalTracking</span></code></a>(direction_getter,&nbsp;...[,&nbsp;...])</td>
<td>A streamline generator for local tracking methods</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.local.localtracking.local_tracker" title="dipy.tracking.local.localtracking.local_tracker"><code class="xref py py-obj docutils literal"><span class="pre">local_tracker</span></code></a></td>
<td>Tracks one direction from a seed.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.tracking.markov">
<span id="module-tracking-markov"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">tracking.markov</span></code><a class="headerlink" href="#module-dipy.tracking.markov" title="Permalink to this headline">¶</a></h2>
<p>Implemention of various Tractography methods</p>
<p>these tools are meant to be paired with diffusion reconstruction methods from
dipy.reconst</p>
<p>This module uses the trackvis coordinate system, for more information about
this coordinate system please see dipy.tracking.utils
The following modules also use this coordinate system:
dipy.tracking.utils
dipy.tracking.integration
dipy.reconst.interpolate</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.markov.BoundaryStepper" title="dipy.tracking.markov.BoundaryStepper"><code class="xref py py-obj docutils literal"><span class="pre">BoundaryStepper</span></code></a>([voxel_size,&nbsp;overstep])</td>
<td>Steps along a direction past the closest voxel boundary</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.markov.CDT_NNO" title="dipy.tracking.markov.CDT_NNO"><code class="xref py py-obj docutils literal"><span class="pre">CDT_NNO</span></code></a>(model,&nbsp;interpolator,&nbsp;mask,&nbsp;...[,&nbsp;...])</td>
<td>ClosestDirectionTracker optimized for NearestNeighbor interpolator</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.markov.ClosestDirectionTracker" title="dipy.tracking.markov.ClosestDirectionTracker"><code class="xref py py-obj docutils literal"><span class="pre">ClosestDirectionTracker</span></code></a>(model,&nbsp;interpolator,&nbsp;...)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.markov.DirectionFinder" title="dipy.tracking.markov.DirectionFinder"><code class="xref py py-obj docutils literal"><span class="pre">DirectionFinder</span></code></a></td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.markov.FixedSizeStepper" title="dipy.tracking.markov.FixedSizeStepper"><code class="xref py py-obj docutils literal"><span class="pre">FixedSizeStepper</span></code></a>([step_size])</td>
<td>A stepper that uses a fixed step size</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.markov.MarkovIntegrator" title="dipy.tracking.markov.MarkovIntegrator"><code class="xref py py-obj docutils literal"><span class="pre">MarkovIntegrator</span></code></a>(model,&nbsp;interpolator,&nbsp;mask,&nbsp;...)</td>
<td>An abstract class for fiber-tracking</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.markov.NearestNeighborInterpolator" title="dipy.tracking.markov.NearestNeighborInterpolator"><code class="xref py py-obj docutils literal"><span class="pre">NearestNeighborInterpolator</span></code></a>(data,&nbsp;voxel_size)</td>
<td>Interpolates data using nearest neighbor interpolation</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.markov.OutsideImage" title="dipy.tracking.markov.OutsideImage"><code class="xref py py-obj docutils literal"><span class="pre">OutsideImage</span></code></a></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.markov.ProbabilisticOdfWeightedTracker" title="dipy.tracking.markov.ProbabilisticOdfWeightedTracker"><code class="xref py py-obj docutils literal"><span class="pre">ProbabilisticOdfWeightedTracker</span></code></a>(model,&nbsp;...)</td>
<td>A stochastic (probabilistic) fiber tracking method</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.markov.xrange" title="dipy.tracking.markov.xrange"><code class="xref py py-obj docutils literal"><span class="pre">xrange</span></code></a></td>
<td>xrange(start, stop[, step]) -&gt; xrange object</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.markov.markov_streamline" title="dipy.tracking.markov.markov_streamline"><code class="xref py py-obj docutils literal"><span class="pre">markov_streamline</span></code></a>(get_direction,&nbsp;take_step,&nbsp;...)</td>
<td>Creates a streamline from seed</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.markov.peak_directions" title="dipy.tracking.markov.peak_directions"><code class="xref py py-obj docutils literal"><span class="pre">peak_directions</span></code></a>(odf,&nbsp;sphere[,&nbsp;...])</td>
<td>Get the directions of odf peaks</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.tracking.metrics">
<span id="module-tracking-metrics"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">tracking.metrics</span></code><a class="headerlink" href="#module-dipy.tracking.metrics" title="Permalink to this headline">¶</a></h2>
<p>Metrics for tracks, where tracks are arrays of points</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.metrics.xrange" title="dipy.tracking.metrics.xrange"><code class="xref py py-obj docutils literal"><span class="pre">xrange</span></code></a></td>
<td>xrange(start, stop[, step]) -&gt; xrange object</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.metrics.arbitrarypoint" title="dipy.tracking.metrics.arbitrarypoint"><code class="xref py py-obj docutils literal"><span class="pre">arbitrarypoint</span></code></a>(xyz,&nbsp;distance)</td>
<td>Select an arbitrary point along distance on the track (curve)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.metrics.bytes" title="dipy.tracking.metrics.bytes"><code class="xref py py-obj docutils literal"><span class="pre">bytes</span></code></a>(xyz)</td>
<td>Size of track in bytes.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.metrics.center_of_mass" title="dipy.tracking.metrics.center_of_mass"><code class="xref py py-obj docutils literal"><span class="pre">center_of_mass</span></code></a>(xyz)</td>
<td>Center of mass of streamline</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.metrics.downsample" title="dipy.tracking.metrics.downsample"><code class="xref py py-obj docutils literal"><span class="pre">downsample</span></code></a>(xyz[,&nbsp;n_pols])</td>
<td>downsample for a specific number of points along the curve/track</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.metrics.endpoint" title="dipy.tracking.metrics.endpoint"><code class="xref py py-obj docutils literal"><span class="pre">endpoint</span></code></a>(xyz)</td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.metrics.frenet_serret" title="dipy.tracking.metrics.frenet_serret"><code class="xref py py-obj docutils literal"><span class="pre">frenet_serret</span></code></a>(xyz)</td>
<td>Frenet-Serret Space Curve Invariants</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.metrics.generate_combinations" title="dipy.tracking.metrics.generate_combinations"><code class="xref py py-obj docutils literal"><span class="pre">generate_combinations</span></code></a>(items,&nbsp;n)</td>
<td>Combine sets of size n from items</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.metrics.inside_sphere" title="dipy.tracking.metrics.inside_sphere"><code class="xref py py-obj docutils literal"><span class="pre">inside_sphere</span></code></a>(xyz,&nbsp;center,&nbsp;radius)</td>
<td>If any point of the track is inside a sphere of a specified center and radius return True otherwise False.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.metrics.inside_sphere_points" title="dipy.tracking.metrics.inside_sphere_points"><code class="xref py py-obj docutils literal"><span class="pre">inside_sphere_points</span></code></a>(xyz,&nbsp;center,&nbsp;radius)</td>
<td>If a track intersects with a sphere of a specified center and radius return the points that are inside the sphere otherwise False.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.metrics.intersect_sphere" title="dipy.tracking.metrics.intersect_sphere"><code class="xref py py-obj docutils literal"><span class="pre">intersect_sphere</span></code></a>(xyz,&nbsp;center,&nbsp;radius)</td>
<td>If any segment of the track is intersecting with a sphere of</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.metrics.length" title="dipy.tracking.metrics.length"><code class="xref py py-obj docutils literal"><span class="pre">length</span></code></a>(xyz[,&nbsp;along])</td>
<td>Euclidean length of track line</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.metrics.longest_track_bundle" title="dipy.tracking.metrics.longest_track_bundle"><code class="xref py py-obj docutils literal"><span class="pre">longest_track_bundle</span></code></a>(bundle[,&nbsp;sort])</td>
<td>Return longest track or length sorted track indices in <cite>bundle</cite></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.metrics.magn" title="dipy.tracking.metrics.magn"><code class="xref py py-obj docutils literal"><span class="pre">magn</span></code></a>(xyz[,&nbsp;n])</td>
<td>magnitude of vector</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.metrics.mean_curvature" title="dipy.tracking.metrics.mean_curvature"><code class="xref py py-obj docutils literal"><span class="pre">mean_curvature</span></code></a>(xyz)</td>
<td>Calculates the mean curvature of a curve</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.metrics.mean_orientation" title="dipy.tracking.metrics.mean_orientation"><code class="xref py py-obj docutils literal"><span class="pre">mean_orientation</span></code></a>(xyz)</td>
<td>Calculates the mean orientation of a curve</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.metrics.midpoint" title="dipy.tracking.metrics.midpoint"><code class="xref py py-obj docutils literal"><span class="pre">midpoint</span></code></a>(xyz)</td>
<td>Midpoint of track</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.metrics.midpoint2point" title="dipy.tracking.metrics.midpoint2point"><code class="xref py py-obj docutils literal"><span class="pre">midpoint2point</span></code></a>(xyz,&nbsp;p)</td>
<td>Calculate distance from midpoint of a curve to arbitrary point p</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.metrics.principal_components" title="dipy.tracking.metrics.principal_components"><code class="xref py py-obj docutils literal"><span class="pre">principal_components</span></code></a>(xyz)</td>
<td>We use PCA to calculate the 3 principal directions for a track</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.metrics.splev" title="dipy.tracking.metrics.splev"><code class="xref py py-obj docutils literal"><span class="pre">splev</span></code></a>(x,&nbsp;tck[,&nbsp;der,&nbsp;ext])</td>
<td>Evaluate a B-spline or its derivatives.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.metrics.spline" title="dipy.tracking.metrics.spline"><code class="xref py py-obj docutils literal"><span class="pre">spline</span></code></a>(xyz[,&nbsp;s,&nbsp;k,&nbsp;nest])</td>
<td>Generate B-splines as documented in</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.metrics.splprep" title="dipy.tracking.metrics.splprep"><code class="xref py py-obj docutils literal"><span class="pre">splprep</span></code></a>(x[,&nbsp;w,&nbsp;u,&nbsp;ub,&nbsp;ue,&nbsp;k,&nbsp;task,&nbsp;s,&nbsp;t,&nbsp;...])</td>
<td>Find the B-spline representation of an N-dimensional curve.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.metrics.startpoint" title="dipy.tracking.metrics.startpoint"><code class="xref py py-obj docutils literal"><span class="pre">startpoint</span></code></a>(xyz)</td>
<td>First point of the track</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.metrics.winding" title="dipy.tracking.metrics.winding"><code class="xref py py-obj docutils literal"><span class="pre">winding</span></code></a>(xyz)</td>
<td>Total turning angle projected.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.tracking.streamline">
<span id="module-tracking-streamline"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">tracking.streamline</span></code><a class="headerlink" href="#module-dipy.tracking.streamline" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.streamline.apply_affine" title="dipy.tracking.streamline.apply_affine"><code class="xref py py-obj docutils literal"><span class="pre">apply_affine</span></code></a>(aff,&nbsp;pts)</td>
<td>Apply affine matrix <cite>aff</cite> to points <cite>pts</cite></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">cdist</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.streamline.center_streamlines" title="dipy.tracking.streamline.center_streamlines"><code class="xref py py-obj docutils literal"><span class="pre">center_streamlines</span></code></a>(streamlines)</td>
<td>Move streamlines to the origin</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">compress_streamlines</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">deepcopy</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">dist_to_corner</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.streamline.length" title="dipy.tracking.streamline.length"><code class="xref py py-obj docutils literal"><span class="pre">length</span></code></a></td>
<td>Euclidean length of streamlines</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">orient_by_rois</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.streamline.relist_streamlines" title="dipy.tracking.streamline.relist_streamlines"><code class="xref py py-obj docutils literal"><span class="pre">relist_streamlines</span></code></a>(points,&nbsp;offsets)</td>
<td>Given a representation of a set of streamlines as a large array and an offsets array return the streamlines as a list of shorter arrays.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">select_by_rois</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.streamline.select_random_set_of_streamlines" title="dipy.tracking.streamline.select_random_set_of_streamlines"><code class="xref py py-obj docutils literal"><span class="pre">select_random_set_of_streamlines</span></code></a>(...)</td>
<td>Select a random set of streamlines</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.streamline.set_number_of_points" title="dipy.tracking.streamline.set_number_of_points"><code class="xref py py-obj docutils literal"><span class="pre">set_number_of_points</span></code></a></td>
<td>Change the number of points of streamlines</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">streamline_near_roi</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.streamline.transform_streamlines" title="dipy.tracking.streamline.transform_streamlines"><code class="xref py py-obj docutils literal"><span class="pre">transform_streamlines</span></code></a>(streamlines,&nbsp;mat)</td>
<td>Apply affine transformation to streamlines</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.streamline.unlist_streamlines" title="dipy.tracking.streamline.unlist_streamlines"><code class="xref py py-obj docutils literal"><span class="pre">unlist_streamlines</span></code></a>(streamlines)</td>
<td>Return the streamlines not as a list but as an array and an offset</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">values_from_volume</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">warn</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<div class="section" id="bench">
<h3>bench<a class="headerlink" href="#bench" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.bench">
<code class="descclassname">dipy.tracking.</code><code class="descname">bench</code><span class="sig-paren">(</span><em>self</em>, <em>label='fast'</em>, <em>verbose=1</em>, <em>extra_argv=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.bench" title="Permalink to this definition">¶</a></dt>
<dd><p>Run benchmarks for module using nose.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>label</strong> : {&#8216;fast&#8217;, &#8216;full&#8217;, &#8216;&#8217;, attribute identifier}, optional</p>
<blockquote>
<div><p>Identifies the benchmarks to run. This can be a string to pass to
the nosetests executable with the &#8216;-A&#8217; option, or one of several
special values.  Special values are:
* &#8216;fast&#8217; - the default - which corresponds to the <code class="docutils literal"><span class="pre">nosetests</span> <span class="pre">-A</span></code></p>
<blockquote>
<div><p>option of &#8216;not slow&#8217;.</p>
</div></blockquote>
<ul class="simple">
<li>&#8216;full&#8217; - fast (as above) and slow benchmarks as in the
&#8216;no -A&#8217; option to nosetests - this is the same as &#8216;&#8217;.</li>
<li>None or &#8216;&#8217; - run all tests.</li>
</ul>
<p>attribute_identifier - string passed directly to nosetests as &#8216;-A&#8217;.</p>
</div></blockquote>
<p><strong>verbose</strong> : int, optional</p>
<blockquote>
<div><p>Verbosity value for benchmark outputs, in the range 1-10. Default is 1.</p>
</div></blockquote>
<p><strong>extra_argv</strong> : list, optional</p>
<blockquote>
<div><p>List with any extra arguments to pass to nosetests.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>success</strong> : bool</p>
<blockquote class="last">
<div><p>Returns True if running the benchmarks works, False if an error
occurred.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Benchmarks are like tests, but have names starting with &#8220;bench&#8221; instead
of &#8220;test&#8221;, and can be found under the &#8220;benchmarks&#8221; sub-directory of the
module.</p>
<p>Each NumPy module exposes <cite>bench</cite> in its namespace to run all benchmarks
for it.</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">success</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">lib</span><span class="o">.</span><span class="n">bench</span><span class="p">()</span> 
<span class="go">Running benchmarks for numpy.lib</span>
<span class="gp">...</span>
<span class="go">using 562341 items:</span>
<span class="go">unique:</span>
<span class="go">0.11</span>
<span class="go">unique1d:</span>
<span class="go">0.11</span>
<span class="go">ratio: 1.0</span>
<span class="go">nUnique: 56230 == 56230</span>
<span class="gp">...</span>
<span class="go">OK</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">success</span> 
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="test">
<h3>test<a class="headerlink" href="#test" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.test">
<code class="descclassname">dipy.tracking.</code><code class="descname">test</code><span class="sig-paren">(</span><em>self</em>, <em>label='fast'</em>, <em>verbose=1</em>, <em>extra_argv=None</em>, <em>doctests=False</em>, <em>coverage=False</em>, <em>raise_warnings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.test" title="Permalink to this definition">¶</a></dt>
<dd><p>Run tests for module using nose.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>label</strong> : {&#8216;fast&#8217;, &#8216;full&#8217;, &#8216;&#8217;, attribute identifier}, optional</p>
<blockquote>
<div><p>Identifies the tests to run. This can be a string to pass to
the nosetests executable with the &#8216;-A&#8217; option, or one of several
special values.  Special values are:
* &#8216;fast&#8217; - the default - which corresponds to the <code class="docutils literal"><span class="pre">nosetests</span> <span class="pre">-A</span></code></p>
<blockquote>
<div><p>option of &#8216;not slow&#8217;.</p>
</div></blockquote>
<ul class="simple">
<li>&#8216;full&#8217; - fast (as above) and slow tests as in the
&#8216;no -A&#8217; option to nosetests - this is the same as &#8216;&#8217;.</li>
<li>None or &#8216;&#8217; - run all tests.</li>
</ul>
<p>attribute_identifier - string passed directly to nosetests as &#8216;-A&#8217;.</p>
</div></blockquote>
<p><strong>verbose</strong> : int, optional</p>
<blockquote>
<div><p>Verbosity value for test outputs, in the range 1-10. Default is 1.</p>
</div></blockquote>
<p><strong>extra_argv</strong> : list, optional</p>
<blockquote>
<div><p>List with any extra arguments to pass to nosetests.</p>
</div></blockquote>
<p><strong>doctests</strong> : bool, optional</p>
<blockquote>
<div><p>If True, run doctests in module. Default is False.</p>
</div></blockquote>
<p><strong>coverage</strong> : bool, optional</p>
<blockquote>
<div><p>If True, report coverage of NumPy code. Default is False.
(This requires the <a href="#id1"><span class="problematic" id="id2">`</span></a>coverage module:</p>
<blockquote>
<div><p>&lt;<a class="reference external" href="http://nedbatchelder.com/code/modules/coverage.html">http://nedbatchelder.com/code/modules/coverage.html</a>&gt;`_).</p>
</div></blockquote>
</div></blockquote>
<p><strong>raise_warnings</strong> : str or sequence of warnings, optional</p>
<blockquote>
<div><p>This specifies which warnings to configure as &#8216;raise&#8217; instead
of &#8216;warn&#8217; during the test execution.  Valid strings are:</p>
<blockquote>
<div><ul class="simple">
<li>&#8220;develop&#8221; : equals <code class="docutils literal"><span class="pre">(DeprecationWarning,</span> <span class="pre">RuntimeWarning)</span></code></li>
<li>&#8220;release&#8221; : equals <code class="docutils literal"><span class="pre">()</span></code>, don&#8217;t raise on any warnings.</li>
</ul>
</div></blockquote>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>result</strong> : object</p>
<blockquote class="last">
<div><p>Returns the result of running the tests as a
<code class="docutils literal"><span class="pre">nose.result.TextTestResult</span></code> object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Each NumPy module exposes <cite>test</cite> in its namespace to run all tests for it.
For example, to run all tests for numpy.lib:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">lib</span><span class="o">.</span><span class="n">test</span><span class="p">()</span> 
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">lib</span><span class="o">.</span><span class="n">test</span><span class="p">()</span> 
<span class="go">Running unit tests for numpy.lib</span>
<span class="gp">...</span>
<span class="go">Ran 976 tests in 3.933s</span>
</pre></div>
</div>
<p>OK</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">errors</span> 
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">knownfail</span> 
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="warn">
<h3>warn<a class="headerlink" href="#warn" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking._utils.warn">
<code class="descclassname">dipy.tracking._utils.</code><code class="descname">warn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking._utils.warn" title="Permalink to this definition">¶</a></dt>
<dd><p>Issue a warning, or maybe ignore it or raise an exception.</p>
</dd></dl>

</div>
<div class="section" id="bench-compress-streamlines">
<h3>bench_compress_streamlines<a class="headerlink" href="#bench-compress-streamlines" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="bench-length">
<h3>bench_length<a class="headerlink" href="#bench-length" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.benchmarks.bench_streamline.bench_length">
<code class="descclassname">dipy.tracking.benchmarks.bench_streamline.</code><code class="descname">bench_length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.benchmarks.bench_streamline.bench_length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="bench-set-number-of-points">
<h3>bench_set_number_of_points<a class="headerlink" href="#bench-set-number-of-points" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.benchmarks.bench_streamline.bench_set_number_of_points">
<code class="descclassname">dipy.tracking.benchmarks.bench_streamline.</code><code class="descname">bench_set_number_of_points</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.benchmarks.bench_streamline.bench_set_number_of_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="compress-streamlines">
<h3>compress_streamlines<a class="headerlink" href="#compress-streamlines" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="compress-streamlines-python">
<h3>compress_streamlines_python<a class="headerlink" href="#compress-streamlines-python" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="get-data">
<h3>get_data<a class="headerlink" href="#get-data" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="length">
<h3>length<a class="headerlink" href="#length" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.benchmarks.bench_streamline.length">
<code class="descclassname">dipy.tracking.benchmarks.bench_streamline.</code><code class="descname">length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.benchmarks.bench_streamline.length" title="Permalink to this definition">¶</a></dt>
<dd><p>Euclidean length of streamlines</p>
<p>This will give length in mm if streamlines are expressed in world coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>streamlines</strong> : one or a list of array-like shape (N,3)</p>
<blockquote>
<div><p>array representing x,y,z of N points in a streamline</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>lengths</strong> : scalar or array shape (N,)</p>
<blockquote class="last">
<div><p>scalar representing the length of one streamline, or
array representing the lengths of multiple streamlines.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.streamline</span> <span class="kn">import</span> <span class="n">length</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamline</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expected_length</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">([</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">4</span><span class="o">**</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="p">(</span><span class="n">streamline</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected_length</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamlines</span> <span class="o">=</span> <span class="p">[</span><span class="n">streamline</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">streamline</span><span class="p">,</span> <span class="n">streamline</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expected_lengths</span> <span class="o">=</span> <span class="p">[</span><span class="n">expected_length</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">expected_length</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">expected_lengths</span><span class="p">,</span> <span class="p">[</span><span class="n">length</span><span class="p">(</span><span class="n">streamlines</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">length</span><span class="p">(</span><span class="n">streamlines</span><span class="p">[</span><span class="mi">1</span><span class="p">])])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="p">([])</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]))</span>
<span class="go">0.0</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="length-python">
<h3>length_python<a class="headerlink" href="#length-python" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.benchmarks.bench_streamline.length_python">
<code class="descclassname">dipy.tracking.benchmarks.bench_streamline.</code><code class="descname">length_python</code><span class="sig-paren">(</span><em>xyz</em>, <em>along=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.benchmarks.bench_streamline.length_python" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="measure">
<h3>measure<a class="headerlink" href="#measure" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.benchmarks.bench_streamline.measure">
<code class="descclassname">dipy.tracking.benchmarks.bench_streamline.</code><code class="descname">measure</code><span class="sig-paren">(</span><em>code_str</em>, <em>times=1</em>, <em>label=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.benchmarks.bench_streamline.measure" title="Permalink to this definition">¶</a></dt>
<dd><p>Return elapsed time for executing code in the namespace of the caller.</p>
<p>The supplied code string is compiled with the Python builtin <code class="docutils literal"><span class="pre">compile</span></code>.
The precision of the timing is 10 milli-seconds. If the code will execute
fast on this timescale, it can be executed many times to get reasonable
timing accuracy.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>code_str</strong> : str</p>
<blockquote>
<div><p>The code to be timed.</p>
</div></blockquote>
<p><strong>times</strong> : int, optional</p>
<blockquote>
<div><p>The number of times the code is executed. Default is 1. The code is
only compiled once.</p>
</div></blockquote>
<p><strong>label</strong> : str, optional</p>
<blockquote>
<div><p>A label to identify <cite>code_str</cite> with. This is passed into <code class="docutils literal"><span class="pre">compile</span></code>
as the second argument (for run-time error messages).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>elapsed</strong> : float</p>
<blockquote class="last">
<div><p>Total elapsed time in seconds for executing <cite>code_str</cite> <cite>times</cite> times.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">etime</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="s1">&#39;for i in range(1000): np.sqrt(i**2)&#39;</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">times</span><span class="o">=</span><span class="n">times</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="s2">&quot;Time for a single execution : &quot;</span><span class="p">,</span> <span class="n">etime</span> <span class="o">/</span> <span class="n">times</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span>
<span class="go">Time for a single execution :  0.005 s</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="set-number-of-points">
<h3>set_number_of_points<a class="headerlink" href="#set-number-of-points" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.benchmarks.bench_streamline.set_number_of_points">
<code class="descclassname">dipy.tracking.benchmarks.bench_streamline.</code><code class="descname">set_number_of_points</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.benchmarks.bench_streamline.set_number_of_points" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Change the number of points of streamlines</dt>
<dd>(either by downsampling or upsampling)</dd>
</dl>
<p>Change the number of points of streamlines in order to obtain
<cite>nb_points</cite>-1 segments of equal length. Points of streamlines will be
modified along the curve.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>streamlines</strong> : one or a list of array-like shape (N,3)</p>
<blockquote>
<div><p>array representing x,y,z of N points in a streamline</p>
</div></blockquote>
<p><strong>nb_points</strong> : int</p>
<blockquote>
<div><p>integer representing number of points wanted along the curve.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>modified_streamlines</strong> : one or a list of array-like shape (<cite>nb_points</cite>,3)</p>
<blockquote class="last">
<div><p>array representing x,y,z of <cite>nb_points</cite> points that were interpolated.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.streamline</span> <span class="kn">import</span> <span class="n">set_number_of_points</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># One streamline: a semi-circle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">*</span> <span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamline</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modified_streamline</span> <span class="o">=</span> <span class="n">set_number_of_points</span><span class="p">(</span><span class="n">streamline</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">modified_streamline</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple streamlines</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamlines</span> <span class="o">=</span> <span class="p">[</span><span class="n">streamline</span><span class="p">,</span> <span class="n">streamline</span><span class="p">[::</span><span class="mi">2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modified_streamlines</span> <span class="o">=</span> <span class="n">set_number_of_points</span><span class="p">(</span><span class="n">streamlines</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">streamlines</span><span class="p">]</span>
<span class="go">[100, 50]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">modified_streamlines</span><span class="p">]</span>
<span class="go">[10, 10]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="set-number-of-points-python">
<h3>set_number_of_points_python<a class="headerlink" href="#set-number-of-points-python" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.benchmarks.bench_streamline.set_number_of_points_python">
<code class="descclassname">dipy.tracking.benchmarks.bench_streamline.</code><code class="descname">set_number_of_points_python</code><span class="sig-paren">(</span><em>xyz</em>, <em>n_pols=3</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.benchmarks.bench_streamline.set_number_of_points_python" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="eudx">
<h3><a class="reference internal" href="#dipy.tracking.eudx.EuDX" title="dipy.tracking.eudx.EuDX"><code class="xref py py-class docutils literal"><span class="pre">EuDX</span></code></a><a class="headerlink" href="#eudx" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.eudx.EuDX">
<em class="property">class </em><code class="descclassname">dipy.tracking.eudx.</code><code class="descname">EuDX</code><span class="sig-paren">(</span><em>a</em>, <em>ind</em>, <em>seeds</em>, <em>odf_vertices</em>, <em>a_low=0.0239</em>, <em>step_sz=0.5</em>, <em>ang_thr=60.0</em>, <em>length_thr=0.0</em>, <em>total_weight=0.5</em>, <em>max_points=1000</em>, <em>affine=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.eudx.EuDX" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Euler Delta Crossings</p>
<p>Generates tracks with termination criteria defined by a delta function <a class="reference internal" href="#r231" id="id3">[R231]</a>
and it has similarities with FACT algorithm <a class="reference internal" href="#r232" id="id4">[R232]</a> and Basser&#8217;s method
but uses trilinear interpolation.</p>
<p>Can be used with any reconstruction method as DTI, DSI, QBI, GQI which can
calculate an orientation distribution function and find the local peaks of
that function. For example a single tensor model can give you only
one peak a dual tensor model 2 peaks and quantitative anisotropy
method as used in GQI can give you 3,4,5 or even more peaks.</p>
<p>The parameters of the delta function are checking thresholds for the
direction propagation magnitude and the angle of propagation.</p>
<p>A specific number of seeds is defined randomly and then the tracks
are generated for that seed if the delta function returns true.</p>
<p>Trilinear interpolation is being used for defining the weights of
the propagation.</p>
<p class="rubric">Notes</p>
<p>The coordinate system of the tractography is that of native space of image
coordinates not native space world coordinates therefore voxel size is
always considered as having size (1,1,1).  Therefore, the origin is at the
center of the center of the first voxel of the volume and all i,j,k
coordinates start from the center of the voxel they represent.</p>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r231" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R231]</td><td><em>(<a class="fn-backref" href="#id3">1</a>, <a class="fn-backref" href="#id5">2</a>)</em> Garyfallidis, Towards an accurate brain tractography, PhD thesis,
University of Cambridge, 2012.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r232" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R232]</td><td><em>(<a class="fn-backref" href="#id4">1</a>, <a class="fn-backref" href="#id6">2</a>)</em> Mori et al. Three-dimensional tracking of axonal projections
in the brain by magnetic resonance imaging. Ann. Neurol. 1999.</td></tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.tracking.eudx.EuDX.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>a</em>, <em>ind</em>, <em>seeds</em>, <em>odf_vertices</em>, <em>a_low=0.0239</em>, <em>step_sz=0.5</em>, <em>ang_thr=60.0</em>, <em>length_thr=0.0</em>, <em>total_weight=0.5</em>, <em>max_points=1000</em>, <em>affine=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.eudx.EuDX.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Euler integration with multiple stopping criteria and supporting
multiple multiple fibres in crossings <a class="reference internal" href="#r233" id="id7">[R233]</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : array,</p>
<blockquote>
<div><p>Shape (I, J, K, Np), magnitude of the peak of a scalar anisotropic
function e.g. QA (quantitative anisotropy) where Np is the number of
peaks or a different function of shape (I, J, K) e.g FA or GFA.</p>
</div></blockquote>
<p><strong>ind</strong> : array, shape(x, y, z, Np)</p>
<blockquote>
<div><p>indices of orientations of the scalar anisotropic peaks found on the
resampling sphere</p>
</div></blockquote>
<p><strong>seeds</strong> : int or ndarray</p>
<blockquote>
<div><p>If an int is specified then that number of random seeds is
generated in the volume. If an (N, 3) array of points is given,
each of the N points is used as a seed. Seed points should be given
in the point space of the track (see <code class="docutils literal"><span class="pre">affine</span></code>). The latter is
useful when you need to track from specific regions e.g. the
white/gray matter interface or a specific ROI e.g. in the corpus
callosum.</p>
</div></blockquote>
<p><strong>odf_vertices</strong> : ndarray, shape (N, 3)</p>
<blockquote>
<div><p>sphere points which define a discrete representation of orientations
for the peaks, the same for all voxels. Usually the same sphere is
used as an input for a reconstruction algorithm e.g. DSI.</p>
</div></blockquote>
<p><strong>a_low</strong> : float, optional</p>
<blockquote>
<div><p>low threshold for QA(typical 0.023)  or FA(typical 0.2) or any other
anisotropic function</p>
</div></blockquote>
<p><strong>step_sz</strong> : float, optional</p>
<blockquote>
<div><p>euler propagation step size</p>
</div></blockquote>
<p><strong>ang_thr</strong> : float, optional</p>
<blockquote>
<div><p>if turning angle is bigger than this threshold then tracking stops.</p>
</div></blockquote>
<p><strong>total_weight</strong> : float, optional</p>
<blockquote>
<div><p>total weighting threshold</p>
</div></blockquote>
<p><strong>max_points</strong> : int, optional</p>
<blockquote>
<div><p>maximum number of points in a track. Used to stop tracks from
looping forever.</p>
</div></blockquote>
<p><strong>affine</strong> : array (4, 4) optional</p>
<blockquote>
<div><p>An affine mapping from the voxel indices of the input data to the
point space of the streamlines. That is if <code class="docutils literal"><span class="pre">[x,</span> <span class="pre">y,</span> <span class="pre">z,</span> <span class="pre">1]</span> <span class="pre">==</span>
<span class="pre">point_space</span> <span class="pre">*</span> <span class="pre">[i,</span> <span class="pre">j,</span> <span class="pre">k,</span> <span class="pre">1]</span></code>, then the streamline with point
<code class="docutils literal"><span class="pre">[x,</span> <span class="pre">y,</span> <span class="pre">z]</span></code> passes though the center of voxel <code class="docutils literal"><span class="pre">[i,</span> <span class="pre">j,</span> <span class="pre">k]</span></code>. If
no point_space is given, the point space will be in voxel
coordinates.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>generator</strong> : obj</p>
<blockquote class="last">
<div><p>By iterating this generator you can obtain all the streamlines.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This works as an iterator class because otherwise it could fill your
entire memory if you generate many tracks.  Something very common as
you can easily generate millions of tracks if you have many seeds.</p>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r233" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R233]</td><td><em>(<a class="fn-backref" href="#id7">1</a>, <a class="fn-backref" href="#id8">2</a>)</em> E. Garyfallidis (2012), &#8220;Towards an accurate brain
tractography&#8221;, PhD thesis, University of Cambridge, UK.</td></tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">nibabel</span> <span class="kn">as</span> <span class="nn">nib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.reconst.dti</span> <span class="kn">import</span> <span class="n">TensorModel</span><span class="p">,</span> <span class="n">quantize_evecs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.data</span> <span class="kn">import</span> <span class="n">get_data</span><span class="p">,</span> <span class="n">get_sphere</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.core.gradients</span> <span class="kn">import</span> <span class="n">gradient_table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fimg</span><span class="p">,</span><span class="n">fbvals</span><span class="p">,</span><span class="n">fbvecs</span> <span class="o">=</span> <span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;small_101D&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">nib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fimg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">affine</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">get_affine</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">get_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gtab</span> <span class="o">=</span> <span class="n">gradient_table</span><span class="p">(</span><span class="n">fbvals</span><span class="p">,</span> <span class="n">fbvecs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">TensorModel</span><span class="p">(</span><span class="n">gtab</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ten</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sphere</span> <span class="o">=</span> <span class="n">get_sphere</span><span class="p">(</span><span class="s1">&#39;symmetric724&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ind</span> <span class="o">=</span> <span class="n">quantize_evecs</span><span class="p">(</span><span class="n">ten</span><span class="o">.</span><span class="n">evecs</span><span class="p">,</span> <span class="n">sphere</span><span class="o">.</span><span class="n">vertices</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eu</span> <span class="o">=</span> <span class="n">EuDX</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">ten</span><span class="o">.</span><span class="n">fa</span><span class="p">,</span> <span class="n">ind</span><span class="o">=</span><span class="n">ind</span><span class="p">,</span> <span class="n">seeds</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">odf_vertices</span><span class="o">=</span><span class="n">sphere</span><span class="o">.</span><span class="n">vertices</span><span class="p">,</span> <span class="n">a_low</span><span class="o">=.</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tracks</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">eu</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="eudx-both-directions">
<h3>eudx_both_directions<a class="headerlink" href="#eudx-both-directions" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.eudx.eudx_both_directions">
<code class="descclassname">dipy.tracking.eudx.</code><code class="descname">eudx_both_directions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.eudx.eudx_both_directions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>seed</strong> : array, shape(3,), point where the tracking starts</p>
<p><strong>ref</strong> : cnp.npy_intp int, which peak to follow first</p>
<p><strong>qa</strong> : array, shape(X,Y,Z,Np), float64, anisotropy matrix,</p>
<p><strong>where Np the number of maximum allowed peaks, found using self.Np</strong> :</p>
<p><strong>ind</strong> : array, shape(Np,), float64, index of the track orientation</p>
<p><strong>total_weight</strong> : double</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>track</strong> : array, shape(N,3)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="get-sphere">
<h3>get_sphere<a class="headerlink" href="#get-sphere" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.eudx.get_sphere">
<code class="descclassname">dipy.tracking.eudx.</code><code class="descname">get_sphere</code><span class="sig-paren">(</span><em>name='symmetric362'</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.eudx.get_sphere" title="Permalink to this definition">¶</a></dt>
<dd><p>provide triangulated spheres</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : str</p>
<blockquote>
<div><p>which sphere - one of:
* &#8216;symmetric362&#8217;
* &#8216;symmetric642&#8217;
* &#8216;symmetric724&#8217;
* &#8216;repulsion724&#8217;
* &#8216;repulsion100&#8217;</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>sphere</strong> : a dipy.core.sphere.Sphere class instance</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.data</span> <span class="kn">import</span> <span class="n">get_sphere</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sphere</span> <span class="o">=</span> <span class="n">get_sphere</span><span class="p">(</span><span class="s1">&#39;symmetric362&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verts</span><span class="p">,</span> <span class="n">faces</span> <span class="o">=</span> <span class="n">sphere</span><span class="o">.</span><span class="n">vertices</span><span class="p">,</span> <span class="n">sphere</span><span class="o">.</span><span class="n">faces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verts</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(362, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">faces</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(720, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verts</span><span class="p">,</span> <span class="n">faces</span> <span class="o">=</span> <span class="n">get_sphere</span><span class="p">(</span><span class="s1">&#39;not a sphere name&#39;</span><span class="p">)</span> 
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">DataError</span>: <span class="n">No sphere called &quot;not a sphere name&quot;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="detect-corresponding-tracks">
<h3>detect_corresponding_tracks<a class="headerlink" href="#detect-corresponding-tracks" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.learning.detect_corresponding_tracks">
<code class="descclassname">dipy.tracking.learning.</code><code class="descname">detect_corresponding_tracks</code><span class="sig-paren">(</span><em>indices</em>, <em>tracks1</em>, <em>tracks2</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.learning.detect_corresponding_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect corresponding tracks from list tracks1 to list tracks2
where tracks1 &amp; tracks2 are lists of tracks</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>indices</strong> : sequence</p>
<blockquote>
<div><p>of indices of tracks1 that are to be detected in tracks2</p>
</div></blockquote>
<p><strong>tracks1</strong> : sequence</p>
<blockquote>
<div><p>of tracks as arrays, shape (N1,3) .. (Nm,3)</p>
</div></blockquote>
<p><strong>tracks2</strong> : sequence</p>
<blockquote>
<div><p>of tracks as arrays, shape (M1,3) .. (Mm,3)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>track2track</strong> : array (N,2) where N is len(indices) of int</p>
<blockquote class="last">
<div><p>it shows the correspondance in the following way:       
the first column is the current index in tracks1
the second column is the corresponding index in tracks2</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>To find the corresponding tracks we use mam_distances with &#8216;avg&#8217; option. Then we calculate the 
argmin of all the calculated distances and return it for every index. (See 3rd column of arr
in the example given below.</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">dipy.tracking.learning</span> <span class="kn">as</span> <span class="nn">tl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">]])</span>    
<span class="gp">&gt;&gt;&gt; </span><span class="n">bundle1</span><span class="o">=</span><span class="p">[</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bundle2</span><span class="o">=</span><span class="p">[</span><span class="n">B</span><span class="p">,</span><span class="n">A</span><span class="p">]</span>    
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span><span class="o">=</span><span class="n">tl</span><span class="o">.</span><span class="n">detect_corresponding_tracks</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span><span class="n">bundle1</span><span class="p">,</span><span class="n">bundle2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="detect-corresponding-tracks-plus">
<h3>detect_corresponding_tracks_plus<a class="headerlink" href="#detect-corresponding-tracks-plus" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.learning.detect_corresponding_tracks_plus">
<code class="descclassname">dipy.tracking.learning.</code><code class="descname">detect_corresponding_tracks_plus</code><span class="sig-paren">(</span><em>indices</em>, <em>tracks1</em>, <em>indices2</em>, <em>tracks2</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.learning.detect_corresponding_tracks_plus" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect corresponding tracks from 1 to 2 where tracks1 &amp; tracks2 are sequences of tracks</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>indices</strong> : sequence</p>
<blockquote>
<div><p>of indices of tracks1 that are to be detected in tracks2</p>
</div></blockquote>
<p><strong>tracks1</strong> : sequence</p>
<blockquote>
<div><p>of tracks as arrays, shape (N1,3) .. (Nm,3)</p>
</div></blockquote>
<p><strong>indices2</strong> : sequence</p>
<blockquote>
<div><p>of indices of tracks2 in the initial brain</p>
</div></blockquote>
<p><strong>tracks2</strong> : sequence</p>
<blockquote>
<div><p>of tracks as arrays, shape (M1,3) .. (Mm,3)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>track2track</strong> : array (N,2) where N is len(indices)</p>
<blockquote class="last">
<div><p>of int showing the correspondance in th following way       
the first colum is the current index of tracks1
the second column is the corresponding index in tracks2</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">distances.mam_distances</span></code></p>
</div>
<p class="rubric">Notes</p>
<p>To find the corresponding tracks we use mam_distances with &#8216;avg&#8217; option. Then we calculate the 
argmin of all the calculated distances and return it for every index. (See 3rd column of arr
in the example given below.</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">dipy.tracking.learning</span> <span class="kn">as</span> <span class="nn">tl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">]])</span>    
<span class="gp">&gt;&gt;&gt; </span><span class="n">bundle1</span><span class="o">=</span><span class="p">[</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bundle2</span><span class="o">=</span><span class="p">[</span><span class="n">B</span><span class="p">,</span><span class="n">A</span><span class="p">]</span>    
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices2</span><span class="o">=</span><span class="n">indices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span><span class="o">=</span><span class="n">tl</span><span class="o">.</span><span class="n">detect_corresponding_tracks_plus</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span><span class="n">bundle1</span><span class="p">,</span><span class="n">indices2</span><span class="p">,</span><span class="n">bundle2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="fiberfit">
<h3><code class="xref py py-class docutils literal"><span class="pre">FiberFit</span></code><a class="headerlink" href="#fiberfit" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="fibermodel">
<h3><code class="xref py py-class docutils literal"><span class="pre">FiberModel</span></code><a class="headerlink" href="#fibermodel" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="lifesignalmaker">
<h3><code class="xref py py-class docutils literal"><span class="pre">LifeSignalMaker</span></code><a class="headerlink" href="#lifesignalmaker" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="reconstfit">
<h3><code class="xref py py-class docutils literal"><span class="pre">ReconstFit</span></code><a class="headerlink" href="#reconstfit" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="reconstmodel">
<h3><code class="xref py py-class docutils literal"><span class="pre">ReconstModel</span></code><a class="headerlink" href="#reconstmodel" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="range">
<h3><code class="xref py py-class docutils literal"><span class="pre">range</span></code><a class="headerlink" href="#range" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="grad-tensor">
<h3>grad_tensor<a class="headerlink" href="#grad-tensor" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="gradient">
<h3>gradient<a class="headerlink" href="#gradient" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="streamline-gradients">
<h3>streamline_gradients<a class="headerlink" href="#streamline-gradients" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="streamline-signal">
<h3>streamline_signal<a class="headerlink" href="#streamline-signal" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="streamline-tensors">
<h3>streamline_tensors<a class="headerlink" href="#streamline-tensors" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="transform-streamlines">
<h3>transform_streamlines<a class="headerlink" href="#transform-streamlines" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="unique-rows">
<h3>unique_rows<a class="headerlink" href="#unique-rows" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="voxel2streamline">
<h3>voxel2streamline<a class="headerlink" href="#voxel2streamline" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="acttissueclassifier">
<h3><code class="xref py py-class docutils literal"><span class="pre">ActTissueClassifier</span></code><a class="headerlink" href="#acttissueclassifier" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="binarytissueclassifier">
<h3><code class="xref py py-class docutils literal"><span class="pre">BinaryTissueClassifier</span></code><a class="headerlink" href="#binarytissueclassifier" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="directiongetter">
<h3><a class="reference internal" href="#dipy.tracking.local.DirectionGetter" title="dipy.tracking.local.DirectionGetter"><code class="xref py py-class docutils literal"><span class="pre">DirectionGetter</span></code></a><a class="headerlink" href="#directiongetter" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.local.DirectionGetter">
<em class="property">class </em><code class="descclassname">dipy.tracking.local.</code><code class="descname">DirectionGetter</code><a class="headerlink" href="#dipy.tracking.local.DirectionGetter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.local.DirectionGetter.get_direction" title="dipy.tracking.local.DirectionGetter.get_direction"><code class="xref py py-obj docutils literal"><span class="pre">get_direction</span></code></a></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.tracking.local.DirectionGetter.initial_direction" title="dipy.tracking.local.DirectionGetter.initial_direction"><code class="xref py py-obj docutils literal"><span class="pre">initial_direction</span></code></a></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.tracking.local.DirectionGetter.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.local.DirectionGetter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>x.__init__(...) initializes x; see help(type(x)) for signature</p>
</dd></dl>

<dl class="method">
<dt id="dipy.tracking.local.DirectionGetter.get_direction">
<code class="descname">get_direction</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.local.DirectionGetter.get_direction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.tracking.local.DirectionGetter.initial_direction">
<code class="descname">initial_direction</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.local.DirectionGetter.initial_direction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="localtracking">
<h3><a class="reference internal" href="#dipy.tracking.local.LocalTracking" title="dipy.tracking.local.LocalTracking"><code class="xref py py-class docutils literal"><span class="pre">LocalTracking</span></code></a><a class="headerlink" href="#localtracking" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.local.LocalTracking">
<em class="property">class </em><code class="descclassname">dipy.tracking.local.</code><code class="descname">LocalTracking</code><span class="sig-paren">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>fixedstep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.local.LocalTracking" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>A streamline generator for local tracking methods</p>
<dl class="method">
<dt id="dipy.tracking.local.LocalTracking.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>fixedstep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.local.LocalTracking.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates streamlines by using local fiber-tracking.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>direction_getter</strong> : instance of DirectionGetter</p>
<blockquote>
<div><p>Used to get directions for fiber tracking.</p>
</div></blockquote>
<p><strong>tissue_classifier</strong> : instance of TissueClassifier</p>
<blockquote>
<div><p>Identifies endpoints and invalid points to inform tracking.</p>
</div></blockquote>
<p><strong>seeds</strong> : array (N, 3)</p>
<blockquote>
<div><p>Points to seed the tracking. Seed points should be given in point
space of the track (see <code class="docutils literal"><span class="pre">affine</span></code>).</p>
</div></blockquote>
<p><strong>affine</strong> : array (4, 4)</p>
<blockquote>
<div><p>Coordinate space for the streamline point with respect to voxel
indices of input data. This affine can contain scaling, rotational,
and translational components but should not contain any shearing.
An identity matrix can be used to generate streamlines in &#8220;voxel
coordinates&#8221; as long as isotropic voxels were used to acquire the
data.</p>
</div></blockquote>
<p><strong>step_size</strong> : float</p>
<blockquote>
<div><p>Step size used for tracking.</p>
</div></blockquote>
<p><strong>max_cross</strong> : int or None</p>
<blockquote>
<div><p>The maximum number of direction to track from each seed in crossing
voxels. By default all initial directions are tracked.</p>
</div></blockquote>
<p><strong>maxlen</strong> : int</p>
<blockquote class="last">
<div><p>Maximum number of steps to track from seed. Used to prevent
infinite loops.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="thresholdtissueclassifier">
<h3><a class="reference internal" href="#dipy.tracking.local.ThresholdTissueClassifier" title="dipy.tracking.local.ThresholdTissueClassifier"><code class="xref py py-class docutils literal"><span class="pre">ThresholdTissueClassifier</span></code></a><a class="headerlink" href="#thresholdtissueclassifier" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.local.ThresholdTissueClassifier">
<em class="property">class </em><code class="descclassname">dipy.tracking.local.</code><code class="descname">ThresholdTissueClassifier</code><a class="headerlink" href="#dipy.tracking.local.ThresholdTissueClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">dipy.tracking.local.tissue_classifier.TissueClassifier</span></code></p>
<p># Declarations from tissue_classifier.pxd bellow
cdef:</p>
<blockquote>
<div>double threshold, interp_out_double[1]
double[:]  interp_out_view = interp_out_view
double[:, :, :] metric_map</div></blockquote>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.local.ThresholdTissueClassifier.check_point" title="dipy.tracking.local.ThresholdTissueClassifier.check_point"><code class="xref py py-obj docutils literal"><span class="pre">check_point</span></code></a></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.tracking.local.ThresholdTissueClassifier.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.local.ThresholdTissueClassifier.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>x.__init__(...) initializes x; see help(type(x)) for signature</p>
</dd></dl>

<dl class="method">
<dt id="dipy.tracking.local.ThresholdTissueClassifier.check_point">
<code class="descname">check_point</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.local.ThresholdTissueClassifier.check_point" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="tissueclassifier">
<h3><a class="reference internal" href="#dipy.tracking.local.TissueClassifier" title="dipy.tracking.local.TissueClassifier"><code class="xref py py-class docutils literal"><span class="pre">TissueClassifier</span></code></a><a class="headerlink" href="#tissueclassifier" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.local.TissueClassifier">
<em class="property">class </em><code class="descclassname">dipy.tracking.local.</code><code class="descname">TissueClassifier</code><a class="headerlink" href="#dipy.tracking.local.TissueClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.local.TissueClassifier.check_point" title="dipy.tracking.local.TissueClassifier.check_point"><code class="xref py py-obj docutils literal"><span class="pre">check_point</span></code></a></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.tracking.local.TissueClassifier.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.local.TissueClassifier.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>x.__init__(...) initializes x; see help(type(x)) for signature</p>
</dd></dl>

<dl class="method">
<dt id="dipy.tracking.local.TissueClassifier.check_point">
<code class="descname">check_point</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.local.TissueClassifier.check_point" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="bunch">
<h3><code class="xref py py-class docutils literal"><span class="pre">Bunch</span></code><a class="headerlink" href="#bunch" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id9">
<h3><a class="reference internal" href="#dipy.tracking.local.localtracking.LocalTracking" title="dipy.tracking.local.localtracking.LocalTracking"><code class="xref py py-class docutils literal"><span class="pre">LocalTracking</span></code></a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.local.localtracking.LocalTracking">
<em class="property">class </em><code class="descclassname">dipy.tracking.local.localtracking.</code><code class="descname">LocalTracking</code><span class="sig-paren">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>fixedstep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.local.localtracking.LocalTracking" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>A streamline generator for local tracking methods</p>
<dl class="method">
<dt id="dipy.tracking.local.localtracking.LocalTracking.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>fixedstep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.local.localtracking.LocalTracking.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates streamlines by using local fiber-tracking.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>direction_getter</strong> : instance of DirectionGetter</p>
<blockquote>
<div><p>Used to get directions for fiber tracking.</p>
</div></blockquote>
<p><strong>tissue_classifier</strong> : instance of TissueClassifier</p>
<blockquote>
<div><p>Identifies endpoints and invalid points to inform tracking.</p>
</div></blockquote>
<p><strong>seeds</strong> : array (N, 3)</p>
<blockquote>
<div><p>Points to seed the tracking. Seed points should be given in point
space of the track (see <code class="docutils literal"><span class="pre">affine</span></code>).</p>
</div></blockquote>
<p><strong>affine</strong> : array (4, 4)</p>
<blockquote>
<div><p>Coordinate space for the streamline point with respect to voxel
indices of input data. This affine can contain scaling, rotational,
and translational components but should not contain any shearing.
An identity matrix can be used to generate streamlines in &#8220;voxel
coordinates&#8221; as long as isotropic voxels were used to acquire the
data.</p>
</div></blockquote>
<p><strong>step_size</strong> : float</p>
<blockquote>
<div><p>Step size used for tracking.</p>
</div></blockquote>
<p><strong>max_cross</strong> : int or None</p>
<blockquote>
<div><p>The maximum number of direction to track from each seed in crossing
voxels. By default all initial directions are tracked.</p>
</div></blockquote>
<p><strong>maxlen</strong> : int</p>
<blockquote class="last">
<div><p>Maximum number of steps to track from seed. Used to prevent
infinite loops.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="local-tracker">
<h3>local_tracker<a class="headerlink" href="#local-tracker" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.local.localtracking.local_tracker">
<code class="descclassname">dipy.tracking.local.localtracking.</code><code class="descname">local_tracker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.local.localtracking.local_tracker" title="Permalink to this definition">¶</a></dt>
<dd><p>Tracks one direction from a seed.</p>
<p>This function is the main workhorse of the <code class="docutils literal"><span class="pre">LocalTracking</span></code> class defined
in <code class="docutils literal"><span class="pre">dipy.tracking.local.localtracking</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dg</strong> : DirectionGetter</p>
<blockquote>
<div><p>Used to choosing tracking directions.</p>
</div></blockquote>
<p><strong>tc</strong> : TissueClassifier</p>
<blockquote>
<div><p>Used to check tissue type along path.</p>
</div></blockquote>
<p><strong>seed</strong> : array, float, 1d, (3,)</p>
<blockquote>
<div><p>First point of the (partial) streamline.</p>
</div></blockquote>
<p><strong>first_step</strong> : array, float, 1d, (3,)</p>
<blockquote>
<div><p>Used as <code class="docutils literal"><span class="pre">prev_dir</span></code> for selecting the step direction from the seed
point.</p>
</div></blockquote>
<p><strong>voxel_size</strong> : array, float, 1d, (3,)</p>
<blockquote>
<div><p>Size of voxels in the data set.</p>
</div></blockquote>
<p><strong>streamline</strong> : array, float, 2d, (N, 3)</p>
<blockquote>
<div><p>Output of tracking will be put into this array. The length of this
array, <code class="docutils literal"><span class="pre">N</span></code>, will set the maximum allowable length of the streamline.</p>
</div></blockquote>
<p><strong>stepsize</strong> : float</p>
<blockquote>
<div><p>Size of tracking steps in mm if <code class="docutils literal"><span class="pre">fixed_step</span></code>.</p>
</div></blockquote>
<p><strong>fixedstep</strong> : bool</p>
<blockquote>
<div><p>If true, a fixed stepsize is used, otherwise a variable step size is
used.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>end</strong> : int</p>
<blockquote class="last">
<div><p>This function updates the <code class="docutils literal"><span class="pre">streamline</span></code> array with points as it
tracks. Points in <code class="docutils literal"><span class="pre">streamline[:abs(end)]</span></code> were updated by the
function. The sign of <code class="docutils literal"><span class="pre">end</span></code> and whether the last point was included
depend on the reason that the streamline was terminated.</p>
<dl class="docutils">
<dt>End reasons:</dt>
<dd><ol class="first arabic">
<li><dl class="first docutils">
<dt>maximum length of the streamline was reached.</dt>
<dd><p class="first last"><code class="docutils literal"><span class="pre">end</span> <span class="pre">==</span> <span class="pre">N</span></code></p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">direction_getter</span></code> could not return a direction.</dt>
<dd><p class="first last"><code class="docutils literal"><span class="pre">end</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>
Last point is the point at which no direction could be found.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Streamline encountered an ENDPOINT.</dt>
<dd><p class="first last"><code class="docutils literal"><span class="pre">end</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>
Last point is the ENDPOINT.</p>
</dd>
</dl>
</li>
</ol>
<ol class="arabic" start="3">
<li><dl class="first docutils">
<dt>Streamline encountered an OUTSIDEIMAGE.</dt>
<dd><p class="first last"><code class="docutils literal"><span class="pre">end</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>
Last point is the point before OUTSIDEIMAGE.</p>
</dd>
</dl>
</li>
</ol>
<ol class="last arabic" start="5">
<li><dl class="first docutils">
<dt>Streamline encountered an INVALIDPOINT.</dt>
<dd><p class="first last"><code class="docutils literal"><span class="pre">end</span> <span class="pre">&lt;</span> <span class="pre">0</span></code>
Last point is INVALIDPOINT.</p>
</dd>
</dl>
</li>
</ol>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="boundarystepper">
<h3><a class="reference internal" href="#dipy.tracking.markov.BoundaryStepper" title="dipy.tracking.markov.BoundaryStepper"><code class="xref py py-class docutils literal"><span class="pre">BoundaryStepper</span></code></a><a class="headerlink" href="#boundarystepper" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.markov.BoundaryStepper">
<em class="property">class </em><code class="descclassname">dipy.tracking.markov.</code><code class="descname">BoundaryStepper</code><span class="sig-paren">(</span><em>voxel_size=(1</em>, <em>1</em>, <em>1)</em>, <em>overstep=0.1</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.BoundaryStepper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Steps along a direction past the closest voxel boundary</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>voxel_size</strong> : array-like</p>
<blockquote>
<div><p>Size of voxels in data volume</p>
</div></blockquote>
<p><strong>overstep</strong> : float</p>
<blockquote class="last">
<div><p>A small number used to prevent the track from getting stuck at the
edge of a voxel.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">__call__</span></code>(location,&nbsp;step)</td>
<td>takes a step just past the edge of the next voxel along step</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.tracking.markov.BoundaryStepper.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>voxel_size=(1</em>, <em>1</em>, <em>1)</em>, <em>overstep=0.1</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.BoundaryStepper.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="cdt-nno">
<h3><a class="reference internal" href="#dipy.tracking.markov.CDT_NNO" title="dipy.tracking.markov.CDT_NNO"><code class="xref py py-class docutils literal"><span class="pre">CDT_NNO</span></code></a><a class="headerlink" href="#cdt-nno" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.markov.CDT_NNO">
<em class="property">class </em><code class="descclassname">dipy.tracking.markov.</code><code class="descname">CDT_NNO</code><span class="sig-paren">(</span><em>model</em>, <em>interpolator</em>, <em>mask</em>, <em>take_step</em>, <em>angle_limit</em>, <em>seeds</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>mask_voxel_size=None</em>, <em>affine=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.CDT_NNO" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.tracking.markov.ClosestDirectionTracker" title="dipy.tracking.markov.ClosestDirectionTracker"><code class="xref py py-class docutils literal"><span class="pre">dipy.tracking.markov.ClosestDirectionTracker</span></code></a></p>
<p>ClosestDirectionTracker optimized for NearestNeighbor interpolator</p>
<p>For use with Nearest Neighbor interpolation, directions at each voxel are
remembered to avoid recalculating.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>model</strong> : model</p>
<blockquote>
<div><p>A model used to fit data. Should return a some fit object with
directions.</p>
</div></blockquote>
<p><strong>interpolator</strong> : interpolator</p>
<blockquote>
<div><p>A NearestNeighbor interpolator, for other interpolators do not use this
class.</p>
</div></blockquote>
<p><strong>angle_limit</strong> : float [0, 90]</p>
<blockquote class="last">
<div><p>Maximum angle allowed between prev_step and next_step.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.tracking.markov.CDT_NNO.reset_cache" title="dipy.tracking.markov.CDT_NNO.reset_cache"><code class="xref py py-obj docutils literal"><span class="pre">reset_cache</span></code></a>()</td>
<td>Clear saved directions</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.tracking.markov.CDT_NNO.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>model</em>, <em>interpolator</em>, <em>mask</em>, <em>take_step</em>, <em>angle_limit</em>, <em>seeds</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>mask_voxel_size=None</em>, <em>affine=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.CDT_NNO.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.tracking.markov.CDT_NNO.reset_cache">
<code class="descname">reset_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.CDT_NNO.reset_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear saved directions</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="closestdirectiontracker">
<h3><a class="reference internal" href="#dipy.tracking.markov.ClosestDirectionTracker" title="dipy.tracking.markov.ClosestDirectionTracker"><code class="xref py py-class docutils literal"><span class="pre">ClosestDirectionTracker</span></code></a><a class="headerlink" href="#closestdirectiontracker" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.markov.ClosestDirectionTracker">
<em class="property">class </em><code class="descclassname">dipy.tracking.markov.</code><code class="descname">ClosestDirectionTracker</code><span class="sig-paren">(</span><em>model</em>, <em>interpolator</em>, <em>mask</em>, <em>take_step</em>, <em>angle_limit</em>, <em>seeds</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>mask_voxel_size=None</em>, <em>affine=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.ClosestDirectionTracker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.tracking.markov.MarkovIntegrator" title="dipy.tracking.markov.MarkovIntegrator"><code class="xref py py-class docutils literal"><span class="pre">dipy.tracking.markov.MarkovIntegrator</span></code></a></p>
<dl class="method">
<dt id="dipy.tracking.markov.ClosestDirectionTracker.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>model</em>, <em>interpolator</em>, <em>mask</em>, <em>take_step</em>, <em>angle_limit</em>, <em>seeds</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>mask_voxel_size=None</em>, <em>affine=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.ClosestDirectionTracker.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates streamlines by using a Markov approach.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>model</strong> : model</p>
<blockquote>
<div><p>The model used to fit diffusion data.</p>
</div></blockquote>
<p><strong>interpolator</strong> : interpolator</p>
<blockquote>
<div><p>Diffusion weighted data wrapped in an interpolator. Data should be
normalized.</p>
</div></blockquote>
<p><strong>mask</strong> : array, 3D</p>
<blockquote>
<div><p>Used to confine tracking, streamlines are terminated if the
tracking leaves the mask.</p>
</div></blockquote>
<p><strong>take_step</strong> : callable</p>
<blockquote>
<div><p>Determines the length of each step.</p>
</div></blockquote>
<p><strong>angle_limit</strong> : float [0, 90]</p>
<blockquote>
<div><p>Maximum angle allowed between successive steps of the streamline.</p>
</div></blockquote>
<p><strong>seeds</strong> : array (N, 3)</p>
<blockquote>
<div><p>Points to seed the tracking. Seed points should be given in point
space of the track (see <code class="docutils literal"><span class="pre">affine</span></code>).</p>
</div></blockquote>
<p><strong>max_cross</strong> : int or None</p>
<blockquote>
<div><p>The maximum number of direction to track from each seed in crossing
voxels.  By default track all peaks of the odf, otherwise track the
largest <cite>max_cross</cite> peaks.</p>
</div></blockquote>
<p><strong>maxlen</strong> : int</p>
<blockquote>
<div><p>Maximum number of steps to track from seed. Used to prevent
infinite loops.</p>
</div></blockquote>
<p><strong>mask_voxel_size</strong> : array (3,)</p>
<blockquote>
<div><p>Voxel size for the mask. <cite>mask</cite> should cover the same FOV as data,
but it can have a different voxel size. Same as the data by
default.</p>
</div></blockquote>
<p><strong>affine</strong> : array (4, 4)</p>
<blockquote class="last">
<div><p>Coordinate space for the streamline point with respect to voxel
indices of input data.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="directionfinder">
<h3><a class="reference internal" href="#dipy.tracking.markov.DirectionFinder" title="dipy.tracking.markov.DirectionFinder"><code class="xref py py-class docutils literal"><span class="pre">DirectionFinder</span></code></a><a class="headerlink" href="#directionfinder" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.markov.DirectionFinder">
<em class="property">class </em><code class="descclassname">dipy.tracking.markov.</code><code class="descname">DirectionFinder</code><a class="headerlink" href="#dipy.tracking.markov.DirectionFinder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">__call__</span></code>(fit)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.tracking.markov.DirectionFinder.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.DirectionFinder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>x.__init__(...) initializes x; see help(type(x)) for signature</p>
</dd></dl>

<dl class="attribute">
<dt id="dipy.tracking.markov.DirectionFinder.min_seperation_angle">
<code class="descname">min_seperation_angle</code><em class="property"> = 45</em><a class="headerlink" href="#dipy.tracking.markov.DirectionFinder.min_seperation_angle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dipy.tracking.markov.DirectionFinder.relative_peak_threshold">
<code class="descname">relative_peak_threshold</code><em class="property"> = 0.5</em><a class="headerlink" href="#dipy.tracking.markov.DirectionFinder.relative_peak_threshold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dipy.tracking.markov.DirectionFinder.sphere">
<code class="descname">sphere</code><em class="property"> = &lt;dipy.core.sphere.HemiSphere object&gt;</em><a class="headerlink" href="#dipy.tracking.markov.DirectionFinder.sphere" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="fixedsizestepper">
<h3><a class="reference internal" href="#dipy.tracking.markov.FixedSizeStepper" title="dipy.tracking.markov.FixedSizeStepper"><code class="xref py py-class docutils literal"><span class="pre">FixedSizeStepper</span></code></a><a class="headerlink" href="#fixedsizestepper" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.markov.FixedSizeStepper">
<em class="property">class </em><code class="descclassname">dipy.tracking.markov.</code><code class="descname">FixedSizeStepper</code><span class="sig-paren">(</span><em>step_size=0.5</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.FixedSizeStepper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>A stepper that uses a fixed step size</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">__call__</span></code>(location,&nbsp;step)</td>
<td>Takes a step of step_size from location</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.tracking.markov.FixedSizeStepper.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>step_size=0.5</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.FixedSizeStepper.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="markovintegrator">
<h3><a class="reference internal" href="#dipy.tracking.markov.MarkovIntegrator" title="dipy.tracking.markov.MarkovIntegrator"><code class="xref py py-class docutils literal"><span class="pre">MarkovIntegrator</span></code></a><a class="headerlink" href="#markovintegrator" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.markov.MarkovIntegrator">
<em class="property">class </em><code class="descclassname">dipy.tracking.markov.</code><code class="descname">MarkovIntegrator</code><span class="sig-paren">(</span><em>model</em>, <em>interpolator</em>, <em>mask</em>, <em>take_step</em>, <em>angle_limit</em>, <em>seeds</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>mask_voxel_size=None</em>, <em>affine=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.MarkovIntegrator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>An abstract class for fiber-tracking</p>
<dl class="method">
<dt id="dipy.tracking.markov.MarkovIntegrator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>model</em>, <em>interpolator</em>, <em>mask</em>, <em>take_step</em>, <em>angle_limit</em>, <em>seeds</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>mask_voxel_size=None</em>, <em>affine=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.MarkovIntegrator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates streamlines by using a Markov approach.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>model</strong> : model</p>
<blockquote>
<div><p>The model used to fit diffusion data.</p>
</div></blockquote>
<p><strong>interpolator</strong> : interpolator</p>
<blockquote>
<div><p>Diffusion weighted data wrapped in an interpolator. Data should be
normalized.</p>
</div></blockquote>
<p><strong>mask</strong> : array, 3D</p>
<blockquote>
<div><p>Used to confine tracking, streamlines are terminated if the
tracking leaves the mask.</p>
</div></blockquote>
<p><strong>take_step</strong> : callable</p>
<blockquote>
<div><p>Determines the length of each step.</p>
</div></blockquote>
<p><strong>angle_limit</strong> : float [0, 90]</p>
<blockquote>
<div><p>Maximum angle allowed between successive steps of the streamline.</p>
</div></blockquote>
<p><strong>seeds</strong> : array (N, 3)</p>
<blockquote>
<div><p>Points to seed the tracking. Seed points should be given in point
space of the track (see <code class="docutils literal"><span class="pre">affine</span></code>).</p>
</div></blockquote>
<p><strong>max_cross</strong> : int or None</p>
<blockquote>
<div><p>The maximum number of direction to track from each seed in crossing
voxels.  By default track all peaks of the odf, otherwise track the
largest <cite>max_cross</cite> peaks.</p>
</div></blockquote>
<p><strong>maxlen</strong> : int</p>
<blockquote>
<div><p>Maximum number of steps to track from seed. Used to prevent
infinite loops.</p>
</div></blockquote>
<p><strong>mask_voxel_size</strong> : array (3,)</p>
<blockquote>
<div><p>Voxel size for the mask. <cite>mask</cite> should cover the same FOV as data,
but it can have a different voxel size. Same as the data by
default.</p>
</div></blockquote>
<p><strong>affine</strong> : array (4, 4)</p>
<blockquote class="last">
<div><p>Coordinate space for the streamline point with respect to voxel
indices of input data.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="nearestneighborinterpolator">
<h3><a class="reference internal" href="#dipy.tracking.markov.NearestNeighborInterpolator" title="dipy.tracking.markov.NearestNeighborInterpolator"><code class="xref py py-class docutils literal"><span class="pre">NearestNeighborInterpolator</span></code></a><a class="headerlink" href="#nearestneighborinterpolator" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.markov.NearestNeighborInterpolator">
<em class="property">class </em><code class="descclassname">dipy.tracking.markov.</code><code class="descname">NearestNeighborInterpolator</code><span class="sig-paren">(</span><em>data</em>, <em>voxel_size</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.NearestNeighborInterpolator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="dipy.reconst.html#dipy.reconst.interpolate.Interpolator" title="dipy.reconst.interpolate.Interpolator"><code class="xref py py-class docutils literal"><span class="pre">dipy.reconst.interpolate.Interpolator</span></code></a></p>
<p>Interpolates data using nearest neighbor interpolation</p>
<dl class="method">
<dt id="dipy.tracking.markov.NearestNeighborInterpolator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>data</em>, <em>voxel_size</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.NearestNeighborInterpolator.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="outsideimage">
<h3><a class="reference internal" href="#dipy.tracking.markov.OutsideImage" title="dipy.tracking.markov.OutsideImage"><code class="xref py py-class docutils literal"><span class="pre">OutsideImage</span></code></a><a class="headerlink" href="#outsideimage" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.markov.OutsideImage">
<em class="property">class </em><code class="descclassname">dipy.tracking.markov.</code><code class="descname">OutsideImage</code><a class="headerlink" href="#dipy.tracking.markov.OutsideImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/exceptions.html#exceptions.Exception" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></a></p>
<dl class="method">
<dt id="dipy.tracking.markov.OutsideImage.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.OutsideImage.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>x.__init__(...) initializes x; see help(type(x)) for signature</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="probabilisticodfweightedtracker">
<h3><a class="reference internal" href="#dipy.tracking.markov.ProbabilisticOdfWeightedTracker" title="dipy.tracking.markov.ProbabilisticOdfWeightedTracker"><code class="xref py py-class docutils literal"><span class="pre">ProbabilisticOdfWeightedTracker</span></code></a><a class="headerlink" href="#probabilisticodfweightedtracker" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.markov.ProbabilisticOdfWeightedTracker">
<em class="property">class </em><code class="descclassname">dipy.tracking.markov.</code><code class="descname">ProbabilisticOdfWeightedTracker</code><span class="sig-paren">(</span><em>model</em>, <em>interpolator</em>, <em>mask</em>, <em>take_step</em>, <em>angle_limit</em>, <em>seeds</em>, <em>sphere</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>mask_voxel_size=None</em>, <em>affine=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.ProbabilisticOdfWeightedTracker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.tracking.markov.MarkovIntegrator" title="dipy.tracking.markov.MarkovIntegrator"><code class="xref py py-class docutils literal"><span class="pre">dipy.tracking.markov.MarkovIntegrator</span></code></a></p>
<p>A stochastic (probabilistic) fiber tracking method</p>
<p>Stochastically tracks streamlines by randomly choosing directions from
sphere. The likelihood of a direction being chosen is taken from
<cite>model.fit(data).odf(sphere)</cite>. Negative values are set to 0. If no
directions less than <cite>angle_limit</cite> degrees are from the incoming direction
have a positive likelihood, the streamline is terminated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>model</strong> : model</p>
<blockquote>
<div><p>The model used to fit diffusion data.</p>
</div></blockquote>
<p><strong>interpolator</strong> : interpolator</p>
<blockquote>
<div><p>Diffusion weighted data wrapped in an interpolator. Data should be
normalized.</p>
</div></blockquote>
<p><strong>mask</strong> : array, 3D</p>
<blockquote>
<div><p>Used to confine tracking, streamlines end when they leave the mask.</p>
</div></blockquote>
<p><strong>take_step</strong> : callable</p>
<blockquote>
<div><p>Determines the length of each step.</p>
</div></blockquote>
<p><strong>angle_limit</strong> : float [0, 90]</p>
<blockquote>
<div><p>The angle between successive steps in the streamlines cannot be more
than <cite>angle_limit</cite> degrees.</p>
</div></blockquote>
<p><strong>seeds</strong> : array (N, 3)</p>
<blockquote>
<div><p>Points to seed the tracking.</p>
</div></blockquote>
<p><strong>sphere</strong> : Sphere</p>
<blockquote>
<div><p>sphere used to evaluate the likelihood. A Sphere or a HemiSphere can be
used here. A HemiSphere is more efficient.</p>
</div></blockquote>
<p><strong>max_cross</strong> : int or None</p>
<blockquote>
<div><p>Max number of directions to follow at each seed. By default follow all
peaks of the odf.</p>
</div></blockquote>
<p><strong>maxlen</strong> : int</p>
<blockquote>
<div><p>Maximum number of segments to follow from seed. Used to prevent
infinite loops.</p>
</div></blockquote>
<p><strong>mask_voxel_size</strong> : array (3,)</p>
<blockquote class="last">
<div><p>Voxel size for the mask. <cite>mask</cite> should cover the same FOV as data, but
it can have a different voxel size. Same as the data by default.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The tracker is based on a method described in <a class="reference internal" href="#r234" id="id10">[R234]</a> and <a class="reference internal" href="#r235" id="id11">[R235]</a> as fiber
orientation distribution (FOD) sampling.</p>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r234" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R234]</td><td><em>(<a class="fn-backref" href="#id10">1</a>, <a class="fn-backref" href="#id12">2</a>)</em> Jeurissen, B., Leemans, A., Jones, D. K., Tournier, J.-D., &amp; Sijbers,
J. (2011). Probabilistic fiber tracking using the residual bootstrap
with constrained spherical deconvolution. Human Brain Mapping, 32(3),
461-479. doi:10.1002/hbm.21032</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r235" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R235]</td><td><em>(<a class="fn-backref" href="#id11">1</a>, <a class="fn-backref" href="#id13">2</a>)</em> J-D. Tournier, F. Calamante, D. G. Gadian, A. Connelly (2005).
Probabilistic fibre tracking through regions containing crossing
fibres. <a class="reference external" href="http://cds.ismrm.org/ismrm-2005/Files/01343.pdf">http://cds.ismrm.org/ismrm-2005/Files/01343.pdf</a></td></tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.tracking.markov.ProbabilisticOdfWeightedTracker.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>model</em>, <em>interpolator</em>, <em>mask</em>, <em>take_step</em>, <em>angle_limit</em>, <em>seeds</em>, <em>sphere</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>mask_voxel_size=None</em>, <em>affine=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.ProbabilisticOdfWeightedTracker.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="xrange">
<h3><a class="reference internal" href="#dipy.tracking.markov.xrange" title="dipy.tracking.markov.xrange"><code class="xref py py-class docutils literal"><span class="pre">xrange</span></code></a><a class="headerlink" href="#xrange" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.markov.xrange">
<em class="property">class </em><code class="descclassname">dipy.tracking.markov.</code><code class="descname">xrange</code><a class="headerlink" href="#dipy.tracking.markov.xrange" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>xrange(start, stop[, step]) -&gt; xrange object</p>
<p>Like range(), but instead of returning a list, returns an object that
generates the numbers in the range on demand.  For looping, this is 
slightly faster than range() and more memory efficient.</p>
<dl class="method">
<dt id="dipy.tracking.markov.xrange.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.xrange.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>x.__init__(...) initializes x; see help(type(x)) for signature</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="markov-streamline">
<h3>markov_streamline<a class="headerlink" href="#markov-streamline" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.markov.markov_streamline">
<code class="descclassname">dipy.tracking.markov.</code><code class="descname">markov_streamline</code><span class="sig-paren">(</span><em>get_direction</em>, <em>take_step</em>, <em>seed</em>, <em>first_step</em>, <em>maxlen</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.markov_streamline" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a streamline from seed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>get_direction</strong> : callable</p>
<blockquote>
<div><p>This function should return a direction for the streamline given a
location and the previous direction.</p>
</div></blockquote>
<p><strong>take_step</strong> : callable</p>
<blockquote>
<div><p>Take step should take a step from a location given a direction.</p>
</div></blockquote>
<p><strong>seed</strong> : array (3,)</p>
<blockquote>
<div><p>The seed point of the streamline</p>
</div></blockquote>
<p><strong>first_step</strong> : array (3,)</p>
<blockquote>
<div><p>A unit vector giving the direction of the first step</p>
</div></blockquote>
<p><strong>maxlen</strong> : int</p>
<blockquote>
<div><p>The maximum number of segments allowed in the streamline. This is good
for preventing infinite loops.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>streamline</strong> : array (N, 3)</p>
<blockquote class="last">
<div><p>A streamline.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="peak-directions">
<h3>peak_directions<a class="headerlink" href="#peak-directions" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.markov.peak_directions">
<code class="descclassname">dipy.tracking.markov.</code><code class="descname">peak_directions</code><span class="sig-paren">(</span><em>odf</em>, <em>sphere</em>, <em>relative_peak_threshold=0.5</em>, <em>min_separation_angle=25</em>, <em>minmax_norm=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.markov.peak_directions" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the directions of odf peaks</p>
<p>Peaks are defined as points on the odf that are greater than at least one
neighbor and greater than or equal to all neighbors. Peaks are sorted in
descending order by their values then filtered based on their relative size
and spacing on the sphere. An odf may have 0 peaks, for example if the odf
is perfectly isotropic.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>odf</strong> : 1d ndarray</p>
<blockquote>
<div><p>The odf function evaluated on the vertices of <cite>sphere</cite></p>
</div></blockquote>
<p><strong>sphere</strong> : Sphere</p>
<blockquote>
<div><p>The Sphere providing discrete directions for evaluation.</p>
</div></blockquote>
<p><strong>relative_peak_threshold</strong> : float in [0., 1.]</p>
<blockquote>
<div><p>Only peaks greater than <code class="docutils literal"><span class="pre">min</span> <span class="pre">+</span> <span class="pre">relative_peak_threshold</span> <span class="pre">*</span> <span class="pre">scale</span></code> are
kept, where <code class="docutils literal"><span class="pre">min</span> <span class="pre">=</span> <span class="pre">max(0,</span> <span class="pre">odf.min())</span></code> and
<code class="docutils literal"><span class="pre">scale</span> <span class="pre">=</span> <span class="pre">odf.max()</span> <span class="pre">-</span> <span class="pre">min</span></code>.</p>
</div></blockquote>
<p><strong>min_separation_angle</strong> : float in [0, 90]</p>
<blockquote>
<div><p>The minimum distance between directions. If two peaks are too close
only the larger of the two is returned.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>directions</strong> : (N, 3) ndarray</p>
<blockquote>
<div><p>N vertices for sphere, one for each peak</p>
</div></blockquote>
<p><strong>values</strong> : (N,) ndarray</p>
<blockquote>
<div><p>peak values</p>
</div></blockquote>
<p><strong>indices</strong> : (N,) ndarray</p>
<blockquote class="last">
<div><p>peak indices of the directions on the sphere</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>If the odf has any negative values, they will be clipped to zeros.</p>
</dd></dl>

</div>
<div class="section" id="id14">
<h3><a class="reference internal" href="#dipy.tracking.metrics.xrange" title="dipy.tracking.metrics.xrange"><code class="xref py py-class docutils literal"><span class="pre">xrange</span></code></a><a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.tracking.metrics.xrange">
<em class="property">class </em><code class="descclassname">dipy.tracking.metrics.</code><code class="descname">xrange</code><a class="headerlink" href="#dipy.tracking.metrics.xrange" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>xrange(start, stop[, step]) -&gt; xrange object</p>
<p>Like range(), but instead of returning a list, returns an object that
generates the numbers in the range on demand.  For looping, this is 
slightly faster than range() and more memory efficient.</p>
<dl class="method">
<dt id="dipy.tracking.metrics.xrange.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.xrange.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>x.__init__(...) initializes x; see help(type(x)) for signature</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="arbitrarypoint">
<h3>arbitrarypoint<a class="headerlink" href="#arbitrarypoint" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.arbitrarypoint">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">arbitrarypoint</code><span class="sig-paren">(</span><em>xyz</em>, <em>distance</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.arbitrarypoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Select an arbitrary point along distance on the track (curve)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array-like shape (N,3)</p>
<blockquote>
<div><p>array representing x,y,z of N points in a track</p>
</div></blockquote>
<p><strong>distance</strong> : float</p>
<blockquote>
<div><p>float representing distance travelled from the xyz[0] point of
the curve along the curve.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>ap</strong> : array shape (3,)</p>
<blockquote class="last">
<div><p>Arbitrary point of line, such that, if the arbitrary point is not
a point in <cite>xyz</cite>, then we take the interpolation between the two
nearest <cite>xyz</cite> points.  If <cite>xyz</cite> is empty, return a ValueError</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">arbitrarypoint</span><span class="p">,</span> <span class="n">length</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ap</span><span class="o">=</span><span class="n">arbitrarypoint</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span><span class="n">length</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="bytes">
<h3>bytes<a class="headerlink" href="#bytes" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.bytes">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">bytes</code><span class="sig-paren">(</span><em>xyz</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Size of track in bytes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array-like shape (N,3)</p>
<blockquote>
<div><p>Array representing x,y,z of N points in a track.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>b</strong> : int</p>
<blockquote class="last">
<div><p>Number of bytes.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="center-of-mass">
<h3>center_of_mass<a class="headerlink" href="#center-of-mass" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.center_of_mass">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">center_of_mass</code><span class="sig-paren">(</span><em>xyz</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.center_of_mass" title="Permalink to this definition">¶</a></dt>
<dd><p>Center of mass of streamline</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array-like shape (N,3)</p>
<blockquote>
<div><p>array representing x,y,z of N points in a track</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>com</strong> : array shape (3,)</p>
<blockquote class="last">
<div><p>center of mass of streamline</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">center_of_mass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">center_of_mass</span><span class="p">([])</span>
<span class="gt">Traceback (most recent call last):</span>
   <span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">xyz array cannot be empty</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">center_of_mass</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="go">array([ 1.,  1.,  1.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">center_of_mass</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="go">array([ 1.,  1.,  1.])</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="downsample">
<h3>downsample<a class="headerlink" href="#downsample" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.downsample">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">downsample</code><span class="sig-paren">(</span><em>xyz</em>, <em>n_pols=3</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.downsample" title="Permalink to this definition">¶</a></dt>
<dd><p>downsample for a specific number of points along the curve/track</p>
<p>Uses the length of the curve. It works in a similar fashion to
midpoint and arbitrarypoint but it also reduces the number of segments
of a track.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array-like shape (N,3)</p>
<blockquote>
<div><p>array representing x,y,z of N points in a track</p>
</div></blockquote>
<p><strong>n_pol</strong> : int</p>
<blockquote>
<div><p>integer representing number of points (poles) we need along the curve.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>xyz2</strong> : array shape (M,3)</p>
<blockquote class="last">
<div><p>array representing x,y,z of M points that where extrapolated. M
should be equal to n_pols</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># a semi-circle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz2</span><span class="o">=</span><span class="n">downsample</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># a cosine</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz2</span><span class="o">=</span><span class="n">downsample</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">xyz2</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz3</span><span class="o">=</span><span class="n">downsample</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">xyz3</span><span class="p">)</span>
<span class="go">10</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="endpoint">
<h3>endpoint<a class="headerlink" href="#endpoint" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.endpoint">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">endpoint</code><span class="sig-paren">(</span><em>xyz</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.endpoint" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array, shape(N,3)</p>
<blockquote>
<div><p>Track.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>ep</strong> : array, shape(3,)</p>
<blockquote class="last">
<div><p>First track point.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">endpoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ep</span><span class="o">=</span><span class="n">endpoint</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ep</span><span class="o">.</span><span class="n">any</span><span class="p">()</span><span class="o">==</span><span class="n">xyz</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">any</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="frenet-serret">
<h3>frenet_serret<a class="headerlink" href="#frenet-serret" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.frenet_serret">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">frenet_serret</code><span class="sig-paren">(</span><em>xyz</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.frenet_serret" title="Permalink to this definition">¶</a></dt>
<dd><p>Frenet-Serret Space Curve Invariants</p>
<p>Calculates the 3 vector and 2 scalar invariants of a space curve
defined by vectors r = (x,y,z).  If z is omitted (i.e. the array xyz has
shape (N,2)), then the curve is
only 2D (planar), but the equations are still valid.</p>
<p>Similar to
<a class="reference external" href="http://www.mathworks.com/matlabcentral/fileexchange/11169">http://www.mathworks.com/matlabcentral/fileexchange/11169</a></p>
<p>In the following equations the prime (<img class="math" src="../_images/math/b1d066f663c44eb27cc54592e5301901d8dced91.png" alt="'"/>) indicates differentiation
with respect to the parameter <img class="math" src="../_images/math/6859317dd1b439cef34131bcd4bafee8393444e0.png" alt="s"/> of a parametrised curve <img class="math" src="../_images/math/604e5daac359088d31afd353d46b83f6948d8ab2.png" alt="\mathbf{r}(s)"/>.</p>
<ul class="simple">
<li><img class="math" src="../_images/math/53aed10835033527818d16ad03a48900a6d251c5.png" alt="\mathbf{T}=\mathbf{r'}/|\mathbf{r'}|\qquad"/> (Tangent vector)}</li>
<li><img class="math" src="../_images/math/636fb1de2e43f9621b87084247b8dbfbe3418e0d.png" alt="\mathbf{N}=\mathbf{T'}/|\mathbf{T'}|\qquad"/> (Normal vector)</li>
<li><img class="math" src="../_images/math/6d8b46705fc3f495cc20f11b7b7f5c9d3e9cc2ba.png" alt="\mathbf{B}=\mathbf{T}\times\mathbf{N}\qquad"/> (Binormal vector)</li>
<li><img class="math" src="../_images/math/e09ba021ccd262e9dea900af517920a9e061665d.png" alt="\kappa=|\mathbf{T'}|\qquad"/> (Curvature)</li>
<li><img class="math" src="../_images/math/478a7ab644357b13bbfb5bb23472e31ea88891b1.png" alt="\mathrm{\tau}=-\mathbf{B'}\cdot\mathbf{N}"/> (Torsion)</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array-like shape (N,3)</p>
<blockquote>
<div><p>array representing x,y,z of N points in a track</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>T</strong> : array shape (N,3)</p>
<blockquote>
<div><p>array representing the tangent of the curve xyz</p>
</div></blockquote>
<p><strong>N</strong> : array shape (N,3)</p>
<blockquote>
<div><p>array representing the normal of the curve xyz</p>
</div></blockquote>
<p><strong>B</strong> : array shape (N,3)</p>
<blockquote>
<div><p>array representing the binormal of the curve xyz</p>
</div></blockquote>
<p><strong>k</strong> : array shape (N,1)</p>
<blockquote>
<div><p>array representing the curvature of the curve xyz</p>
</div></blockquote>
<p><strong>t</strong> : array shape (N,1)</p>
<blockquote class="last">
<div><p>array representing the torsion of the curve xyz</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Create a helix and calculate its tangent, normal, binormal, curvature
and torsion</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking</span> <span class="kn">import</span> <span class="n">metrics</span> <span class="k">as</span> <span class="n">tm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="n">theta</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">t</span><span class="o">=</span><span class="n">tm</span><span class="o">.</span><span class="n">frenet_serret</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="generate-combinations">
<h3>generate_combinations<a class="headerlink" href="#generate-combinations" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.generate_combinations">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">generate_combinations</code><span class="sig-paren">(</span><em>items</em>, <em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.generate_combinations" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine sets of size n from items</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>items</strong> : sequence</p>
<p><strong>n</strong> : int</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ic</strong> : iterator</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">generate_combinations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">=</span><span class="n">generate_combinations</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ic</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">[0, 1]</span>
<span class="go">[0, 2]</span>
<span class="go">[1, 2]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="inside-sphere">
<h3>inside_sphere<a class="headerlink" href="#inside-sphere" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.inside_sphere">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">inside_sphere</code><span class="sig-paren">(</span><em>xyz</em>, <em>center</em>, <em>radius</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.inside_sphere" title="Permalink to this definition">¶</a></dt>
<dd><p>If any point of the track is inside a sphere of a specified
center and radius return True otherwise False.  Mathematicaly this
can be simply described by <img class="math" src="../_images/math/7aad2c5d7ca9d56499c71fbd16440465fa062c60.png" alt="|x-c|\le r"/> where <img class="math" src="../_images/math/188c175aac0a8a9c22499336711b5d7256407254.png" alt="x"/> a point <img class="math" src="../_images/math/65868d23a5bfe5b3b2d819386b19c14fa36af134.png" alt="c"/> the
center of the sphere and <img class="math" src="../_images/math/2ede365ad144ab396916ec60458da03860803078.png" alt="r"/> the radius of the sphere.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array, shape (N,3)</p>
<blockquote>
<div><p>representing x,y,z of the N points of the track</p>
</div></blockquote>
<p><strong>center</strong> : array, shape (3,)</p>
<blockquote>
<div><p>center of the sphere</p>
</div></blockquote>
<p><strong>radius</strong> : float</p>
<blockquote>
<div><p>radius of the sphere</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>tf</strong> : {True,False}</p>
<blockquote class="last">
<div><p>Whether point is inside sphere.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">inside_sphere</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sph_cent</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sph_radius</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inside_sphere</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="n">sph_cent</span><span class="p">,</span><span class="n">sph_radius</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="inside-sphere-points">
<h3>inside_sphere_points<a class="headerlink" href="#inside-sphere-points" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.inside_sphere_points">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">inside_sphere_points</code><span class="sig-paren">(</span><em>xyz</em>, <em>center</em>, <em>radius</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.inside_sphere_points" title="Permalink to this definition">¶</a></dt>
<dd><p>If a track intersects with a sphere of a specified center and
radius return the points that are inside the sphere otherwise False.
Mathematicaly this can be simply described by <img class="math" src="../_images/math/e188d8861db95f84a96c50ab0c29e6482fe04ba8.png" alt="|x-c| \le r"/> where <img class="math" src="../_images/math/188c175aac0a8a9c22499336711b5d7256407254.png" alt="x"/>
a point <img class="math" src="../_images/math/65868d23a5bfe5b3b2d819386b19c14fa36af134.png" alt="c"/> the center of the sphere and <img class="math" src="../_images/math/2ede365ad144ab396916ec60458da03860803078.png" alt="r"/> the radius of the
sphere.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array, shape (N,3)</p>
<blockquote>
<div><p>representing x,y,z of the N points of the track</p>
</div></blockquote>
<p><strong>center</strong> : array, shape (3,)</p>
<blockquote>
<div><p>center of the sphere</p>
</div></blockquote>
<p><strong>radius</strong> : float</p>
<blockquote>
<div><p>radius of the sphere</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>xyzn</strong> : array, shape(M,3)</p>
<blockquote class="last">
<div><p>array representing x,y,z of the M points inside the sphere</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">inside_sphere_points</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sph_cent</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sph_radius</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inside_sphere_points</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="n">sph_cent</span><span class="p">,</span><span class="n">sph_radius</span><span class="p">)</span>
<span class="go">array([[1, 1, 1]])</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="intersect-sphere">
<h3>intersect_sphere<a class="headerlink" href="#intersect-sphere" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.intersect_sphere">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">intersect_sphere</code><span class="sig-paren">(</span><em>xyz</em>, <em>center</em>, <em>radius</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.intersect_sphere" title="Permalink to this definition">¶</a></dt>
<dd><p>If any segment of the track is intersecting with a sphere of
specific center and radius return True otherwise False</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array, shape (N,3)</p>
<blockquote>
<div><p>representing x,y,z of the N points of the track</p>
</div></blockquote>
<p><strong>center</strong> : array, shape (3,)</p>
<blockquote>
<div><p>center of the sphere</p>
</div></blockquote>
<p><strong>radius</strong> : float</p>
<blockquote>
<div><p>radius of the sphere</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>tf</strong> : {True, False}</p>
<blockquote>
<div><p>True if track <cite>xyz</cite> intersects sphere</p>
</div></blockquote>
<p><strong>&gt;&gt;&gt; from dipy.tracking.metrics import intersect_sphere</strong> :</p>
<p><strong>&gt;&gt;&gt; line=np.array(([0,0,0],[1,1,1],[2,2,2]))</strong> :</p>
<p><strong>&gt;&gt;&gt; sph_cent=np.array([1,1,1])</strong> :</p>
<p><strong>&gt;&gt;&gt; sph_radius = 1</strong> :</p>
<p><strong>&gt;&gt;&gt; intersect_sphere(line,sph_cent,sph_radius)</strong> :</p>
<p class="last"><strong>True</strong> :</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The ray to sphere intersection method used here is similar with
<a class="reference external" href="http://local.wasp.uwa.edu.au/~pbourke/geometry/sphereline/">http://local.wasp.uwa.edu.au/~pbourke/geometry/sphereline/</a>
<a class="reference external" href="http://local.wasp.uwa.edu.au/~pbourke/geometry/sphereline/source.cpp">http://local.wasp.uwa.edu.au/~pbourke/geometry/sphereline/source.cpp</a>
we just applied it for every segment neglecting the intersections where
the intersecting points are not inside the segment</p>
</dd></dl>

</div>
<div class="section" id="id15">
<h3>length<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.length">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">length</code><span class="sig-paren">(</span><em>xyz</em>, <em>along=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.length" title="Permalink to this definition">¶</a></dt>
<dd><p>Euclidean length of track line</p>
<p>This will give length in mm if tracks are expressed in world coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array-like shape (N,3)</p>
<blockquote>
<div><p>array representing x,y,z of N points in a track</p>
</div></blockquote>
<p><strong>along</strong> : bool, optional</p>
<blockquote>
<div><p>If True, return array giving cumulative length along track,
otherwise (default) return scalar giving total length.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>L</strong> : scalar or array shape (N-1,)</p>
<blockquote class="last">
<div><p>scalar in case of <cite>along</cite> == False, giving total length, array if
<cite>along</cite> == True, giving cumulative lengths.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">length</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expected_lens</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">([</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">4</span><span class="o">**</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected_lens</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">len_along</span> <span class="o">=</span> <span class="n">length</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span> <span class="n">along</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">len_along</span><span class="p">,</span> <span class="n">expected_lens</span><span class="o">.</span><span class="n">cumsum</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="p">([])</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="p">([],</span> <span class="n">along</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">array([0])</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="longest-track-bundle">
<h3>longest_track_bundle<a class="headerlink" href="#longest-track-bundle" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.longest_track_bundle">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">longest_track_bundle</code><span class="sig-paren">(</span><em>bundle</em>, <em>sort=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.longest_track_bundle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return longest track or length sorted track indices in <cite>bundle</cite></p>
<p>If <cite>sort</cite> == True, return the indices of the sorted tracks in the
bundle, otherwise return the longest track.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>bundle</strong> : sequence</p>
<blockquote>
<div><p>of tracks as arrays, shape (N1,3) ... (Nm,3)</p>
</div></blockquote>
<p><strong>sort</strong> : bool, optional</p>
<blockquote>
<div><p>If False (default) return longest track.  If True, return length
sorted indices for tracks in bundle</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>longest_or_indices</strong> : array</p>
<blockquote class="last">
<div><p>longest track - shape (N,3) -  (if <cite>sort</cite> is False), or indices
of length sorted tracks (if <cite>sort</cite> is True)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">longest_track_bundle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bundle</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]]),</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">]])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">longest_track_bundle</span><span class="p">(</span><span class="n">bundle</span><span class="p">)</span>
<span class="go">array([[0, 0, 0],</span>
<span class="go">       [4, 4, 4]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">longest_track_bundle</span><span class="p">(</span><span class="n">bundle</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span> 
<span class="go">array([0, 1]...)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="magn">
<h3>magn<a class="headerlink" href="#magn" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.magn">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">magn</code><span class="sig-paren">(</span><em>xyz</em>, <em>n=1</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.magn" title="Permalink to this definition">¶</a></dt>
<dd><p>magnitude of vector</p>
</dd></dl>

</div>
<div class="section" id="mean-curvature">
<h3>mean_curvature<a class="headerlink" href="#mean-curvature" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.mean_curvature">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">mean_curvature</code><span class="sig-paren">(</span><em>xyz</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.mean_curvature" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the mean curvature of a curve</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array-like shape (N,3)</p>
<blockquote>
<div><p>array representing x,y,z of N points in a curve</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>m</strong> : float</p>
<blockquote class="last">
<div><p>Mean curvature.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Create a straight line and a semi-circle and print their mean curvatures</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking</span> <span class="kn">import</span> <span class="n">metrics</span> <span class="k">as</span> <span class="n">tm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">=</span><span class="n">tm</span><span class="o">.</span><span class="n">mean_curvature</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span> <span class="c1">#mean curvature straight line</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">=</span><span class="n">tm</span><span class="o">.</span><span class="n">mean_curvature</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span> <span class="c1">#mean curvature for semi-circle</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="mean-orientation">
<h3>mean_orientation<a class="headerlink" href="#mean-orientation" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.mean_orientation">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">mean_orientation</code><span class="sig-paren">(</span><em>xyz</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.mean_orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the mean orientation of a curve</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array-like shape (N,3)</p>
<blockquote>
<div><p>array representing x,y,z of N points in a curve</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>m</strong> : float</p>
<blockquote class="last">
<div><p>Mean orientation.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="midpoint">
<h3>midpoint<a class="headerlink" href="#midpoint" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.midpoint">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">midpoint</code><span class="sig-paren">(</span><em>xyz</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.midpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Midpoint of track</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array-like shape (N,3)</p>
<blockquote>
<div><p>array representing x,y,z of N points in a track</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mp</strong> : array shape (3,)</p>
<blockquote class="last">
<div><p>Middle point of line, such that, if L is the line length then
<cite>np</cite> is the point such that the length xyz[0] to <cite>mp</cite> and from
<cite>mp</cite> to xyz[-1] is L/2.  If the middle point is not a point in
<cite>xyz</cite>, then we take the interpolation between the two nearest
<cite>xyz</cite> points.  If <cite>xyz</cite> is empty, return a ValueError</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">midpoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">midpoint</span><span class="p">([])</span>
<span class="gt">Traceback (most recent call last):</span>
   <span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">xyz array cannot be empty</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">midpoint</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="go">array([1, 2, 3])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">midpoint</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="go">array([ 1.5,  2. ,  2.5])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">midpoint</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="go">array([ 1.,  1.,  1.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">midpoint</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="go">array([ 1.5,  0. ,  0. ])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">midpoint</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="go">array([ 1.5,  9. ,  7. ])</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="midpoint2point">
<h3>midpoint2point<a class="headerlink" href="#midpoint2point" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.midpoint2point">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">midpoint2point</code><span class="sig-paren">(</span><em>xyz</em>, <em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.midpoint2point" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate distance from midpoint of a curve to arbitrary point p</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array-like shape (N,3)</p>
<blockquote>
<div><p>array representing x,y,z of N points in a track</p>
</div></blockquote>
<p><strong>p</strong> : array shape (3,)</p>
<blockquote>
<div><p>array representing an arbitrary point with x,y,z coordinates in
space.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>d</strong> : float</p>
<blockquote class="last">
<div><p>a float number representing Euclidean distance</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">midpoint2point</span><span class="p">,</span> <span class="n">midpoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist</span><span class="o">=</span><span class="n">midpoint2point</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]))</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="principal-components">
<h3>principal_components<a class="headerlink" href="#principal-components" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.principal_components">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">principal_components</code><span class="sig-paren">(</span><em>xyz</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.principal_components" title="Permalink to this definition">¶</a></dt>
<dd><p>We use PCA to calculate the 3 principal directions for a track</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array-like shape (N,3)</p>
<blockquote>
<div><p>array representing x,y,z of N points in a track</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>va</strong> : array_like</p>
<blockquote>
<div><p>eigenvalues</p>
</div></blockquote>
<p><strong>ve</strong> : array_like</p>
<blockquote class="last">
<div><p>eigenvectors</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">principal_components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">va</span><span class="p">,</span> <span class="n">ve</span> <span class="o">=</span> <span class="n">principal_components</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">va</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.51010101</span><span class="p">,</span> <span class="mf">0.09883545</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="splev">
<h3>splev<a class="headerlink" href="#splev" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.splev">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">splev</code><span class="sig-paren">(</span><em>x</em>, <em>tck</em>, <em>der=0</em>, <em>ext=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.splev" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate a B-spline or its derivatives.</p>
<p>Given the knots and coefficients of a B-spline representation, evaluate
the value of the smoothing polynomial and its derivatives.  This is a
wrapper around the FORTRAN routines splev and splder of FITPACK.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : array_like</p>
<blockquote>
<div><p>An array of points at which to return the value of the smoothed
spline or its derivatives.  If <cite>tck</cite> was returned from <cite>splprep</cite>,
then the parameter values, u should be given.</p>
</div></blockquote>
<p><strong>tck</strong> : tuple</p>
<blockquote>
<div><p>A sequence of length 3 returned by <cite>splrep</cite> or <cite>splprep</cite> containing
the knots, coefficients, and degree of the spline.</p>
</div></blockquote>
<p><strong>der</strong> : int, optional</p>
<blockquote>
<div><p>The order of derivative of the spline to compute (must be less than
or equal to k).</p>
</div></blockquote>
<p><strong>ext</strong> : int, optional</p>
<blockquote>
<div><p>Controls the value returned for elements of <code class="docutils literal"><span class="pre">x</span></code> not in the
interval defined by the knot sequence.</p>
<ul class="simple">
<li>if ext=0, return the extrapolated value.</li>
<li>if ext=1, return 0</li>
<li>if ext=2, raise a ValueError</li>
<li>if ext=3, return the boundary value.</li>
</ul>
<p>The default value is 0.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>y</strong> : ndarray or list of ndarrays</p>
<blockquote class="last">
<div><p>An array of values representing the spline function evaluated at
the points in <code class="docutils literal"><span class="pre">x</span></code>.  If <cite>tck</cite> was returned from <cite>splprep</cite>, then this
is a list of arrays representing the curve in N-dimensional space.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#dipy.tracking.metrics.splprep" title="dipy.tracking.metrics.splprep"><code class="xref py py-obj docutils literal"><span class="pre">splprep</span></code></a>, <code class="xref py py-obj docutils literal"><span class="pre">splrep</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">sproot</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">spalde</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">splint</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">bisplrep</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">bisplev</span></code></p>
</div>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r236" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id16">[R236]</a></td><td>C. de Boor, &#8220;On calculating with b-splines&#8221;, J. Approximation
Theory, 6, p.50-62, 1972.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r237" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id17">[R237]</a></td><td>M.G. Cox, &#8220;The numerical evaluation of b-splines&#8221;, J. Inst. Maths
Applics, 10, p.134-149, 1972.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r238" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id18">[R238]</a></td><td>P. Dierckx, &#8220;Curve and surface fitting with splines&#8221;, Monographs
on Numerical Analysis, Oxford University Press, 1993.</td></tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="spline">
<h3>spline<a class="headerlink" href="#spline" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.spline">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">spline</code><span class="sig-paren">(</span><em>xyz</em>, <em>s=3</em>, <em>k=2</em>, <em>nest=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.spline" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate B-splines as documented in
<a class="reference external" href="http://www.scipy.org/Cookbook/Interpolation">http://www.scipy.org/Cookbook/Interpolation</a></p>
<p>The scipy.interpolate packages wraps the netlib FITPACK routines
(Dierckx) for calculating smoothing splines for various kinds of
data and geometries. Although the data is evenly spaced in this
example, it need not be so to use this routine.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array, shape (N,3)</p>
<blockquote>
<div><p>array representing x,y,z of N points in 3d space</p>
</div></blockquote>
<p><strong>s</strong> : float, optional</p>
<blockquote>
<div><p>A smoothing condition.  The amount of smoothness is determined by
satisfying the conditions: sum((w * (y - g))**2,axis=0) &lt;= s
where g(x) is the smoothed interpolation of (x,y).  The user can
use s to control the tradeoff between closeness and smoothness of
fit.  Larger satisfying the conditions: sum((w * (y -
g))**2,axis=0) &lt;= s where g(x) is the smoothed interpolation of
(x,y).  The user can use s to control the tradeoff between
closeness and smoothness of fit.  Larger s means more smoothing
while smaller values of s indicate less smoothing. Recommended
values of s depend on the weights, w.  If the weights represent
the inverse of the standard-deviation of y, then a: good s value
should be found in the range (m-sqrt(2*m),m+sqrt(2*m)) where m is
the number of datapoints in x, y, and w.</p>
</div></blockquote>
<p><strong>k</strong> : int, optional</p>
<blockquote>
<div><p>Degree of the spline.  Cubic splines are recommended.  Even
values of k should be avoided especially with a small s-value.
for the same set of data.  If task=-1 find the weighted least
square spline for a given set of knots, t.</p>
</div></blockquote>
<p><strong>nest</strong> : None or int, optional</p>
<blockquote>
<div><p>An over-estimate of the total number of knots of the spline to
help in determining the storage space.  None results in value
m+2*k. -1 results in m+k+1. Always large enough is nest=m+k+1.
Default is -1.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>xyzn</strong> : array, shape (M,3)</p>
<blockquote class="last">
<div><p>array representing x,y,z of the M points inside the sphere</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">scipy.interpolate.splprep</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">scipy.interpolate.splev</span></code></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.75</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="c1"># make ascending spiral in 3-space</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="n">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="c1"># add noise</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">z</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyzn</span><span class="o">=</span><span class="n">spline</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">xyzn</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="splprep">
<h3>splprep<a class="headerlink" href="#splprep" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.splprep">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">splprep</code><span class="sig-paren">(</span><em>x</em>, <em>w=None</em>, <em>u=None</em>, <em>ub=None</em>, <em>ue=None</em>, <em>k=3</em>, <em>task=0</em>, <em>s=None</em>, <em>t=None</em>, <em>full_output=0</em>, <em>nest=None</em>, <em>per=0</em>, <em>quiet=1</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.splprep" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the B-spline representation of an N-dimensional curve.</p>
<p>Given a list of N rank-1 arrays, <cite>x</cite>, which represent a curve in
N-dimensional space parametrized by <cite>u</cite>, find a smooth approximating
spline curve g(<cite>u</cite>). Uses the FORTRAN routine parcur from FITPACK.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : array_like</p>
<blockquote>
<div><p>A list of sample vector arrays representing the curve.</p>
</div></blockquote>
<p><strong>w</strong> : array_like, optional</p>
<blockquote>
<div><p>Strictly positive rank-1 array of weights the same length as <cite>x[0]</cite>.
The weights are used in computing the weighted least-squares spline
fit. If the errors in the <cite>x</cite> values have standard-deviation given by
the vector d, then <cite>w</cite> should be 1/d. Default is <code class="docutils literal"><span class="pre">ones(len(x[0]))</span></code>.</p>
</div></blockquote>
<p><strong>u</strong> : array_like, optional</p>
<blockquote>
<div><p>An array of parameter values. If not given, these values are
calculated automatically as <code class="docutils literal"><span class="pre">M</span> <span class="pre">=</span> <span class="pre">len(x[0])</span></code>, where</p>
<blockquote>
<div><p>v[0] = 0</p>
<p>v[i] = v[i-1] + distance(<cite>x[i]</cite>, <cite>x[i-1]</cite>)</p>
<p>u[i] = v[i] / v[M-1]</p>
</div></blockquote>
</div></blockquote>
<p><strong>ub, ue</strong> : int, optional</p>
<blockquote>
<div><p>The end-points of the parameters interval.  Defaults to
u[0] and u[-1].</p>
</div></blockquote>
<p><strong>k</strong> : int, optional</p>
<blockquote>
<div><p>Degree of the spline. Cubic splines are recommended.
Even values of <cite>k</cite> should be avoided especially with a small s-value.
<code class="docutils literal"><span class="pre">1</span> <span class="pre">&lt;=</span> <span class="pre">k</span> <span class="pre">&lt;=</span> <span class="pre">5</span></code>, default is 3.</p>
</div></blockquote>
<p><strong>task</strong> : int, optional</p>
<blockquote>
<div><p>If task==0 (default), find t and c for a given smoothing factor, s.
If task==1, find t and c for another value of the smoothing factor, s.
There must have been a previous call with task=0 or task=1
for the same set of data.
If task=-1 find the weighted least square spline for a given set of
knots, t.</p>
</div></blockquote>
<p><strong>s</strong> : float, optional</p>
<blockquote>
<div><p>A smoothing condition.  The amount of smoothness is determined by
satisfying the conditions: <code class="docutils literal"><span class="pre">sum((w</span> <span class="pre">*</span> <span class="pre">(y</span> <span class="pre">-</span> <span class="pre">g))**2,axis=0)</span> <span class="pre">&lt;=</span> <span class="pre">s</span></code>,
where g(x) is the smoothed interpolation of (x,y).  The user can
use <cite>s</cite> to control the trade-off between closeness and smoothness
of fit.  Larger <cite>s</cite> means more smoothing while smaller values of <cite>s</cite>
indicate less smoothing. Recommended values of <cite>s</cite> depend on the
weights, w.  If the weights represent the inverse of the
standard-deviation of y, then a good <cite>s</cite> value should be found in
the range <code class="docutils literal"><span class="pre">(m-sqrt(2*m),m+sqrt(2*m))</span></code>, where m is the number of
data points in x, y, and w.</p>
</div></blockquote>
<p><strong>t</strong> : int, optional</p>
<blockquote>
<div><p>The knots needed for task=-1.</p>
</div></blockquote>
<p><strong>full_output</strong> : int, optional</p>
<blockquote>
<div><p>If non-zero, then return optional outputs.</p>
</div></blockquote>
<p><strong>nest</strong> : int, optional</p>
<blockquote>
<div><p>An over-estimate of the total number of knots of the spline to
help in determining the storage space.  By default nest=m/2.
Always large enough is nest=m+k+1.</p>
</div></blockquote>
<p><strong>per</strong> : int, optional</p>
<blockquote>
<div><p>If non-zero, data points are considered periodic with period
<code class="docutils literal"><span class="pre">x[m-1]</span> <span class="pre">-</span> <span class="pre">x[0]</span></code> and a smooth periodic spline approximation is
returned.  Values of <code class="docutils literal"><span class="pre">y[m-1]</span></code> and <code class="docutils literal"><span class="pre">w[m-1]</span></code> are not used.</p>
</div></blockquote>
<p><strong>quiet</strong> : int, optional</p>
<blockquote>
<div><p>Non-zero to suppress messages.
This parameter is deprecated; use standard Python warning filters
instead.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>tck</strong> : tuple</p>
<blockquote>
<div><p>A tuple (t,c,k) containing the vector of knots, the B-spline
coefficients, and the degree of the spline.</p>
</div></blockquote>
<p><strong>u</strong> : array</p>
<blockquote>
<div><p>An array of the values of the parameter.</p>
</div></blockquote>
<p><strong>fp</strong> : float</p>
<blockquote>
<div><p>The weighted sum of squared residuals of the spline approximation.</p>
</div></blockquote>
<p><strong>ier</strong> : int</p>
<blockquote>
<div><p>An integer flag about splrep success.  Success is indicated
if ier&lt;=0. If ier in [1,2,3] an error occurred but was not raised.
Otherwise an error is raised.</p>
</div></blockquote>
<p><strong>msg</strong> : str</p>
<blockquote class="last">
<div><p>A message corresponding to the integer flag, ier.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">splrep</span></code>, <a class="reference internal" href="#dipy.tracking.metrics.splev" title="dipy.tracking.metrics.splev"><code class="xref py py-obj docutils literal"><span class="pre">splev</span></code></a>, <code class="xref py py-obj docutils literal"><span class="pre">sproot</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">spalde</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">splint</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">bisplrep</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">bisplev</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">UnivariateSpline</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">BivariateSpline</span></code></p>
</div>
<p class="rubric">Notes</p>
<p>See <cite>splev</cite> for evaluation of the spline and its derivatives.
The number of dimensions N must be smaller than 11.</p>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r239" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id19">[R239]</a></td><td>P. Dierckx, &#8220;Algorithms for smoothing data with periodic and
parametric splines, Computer Graphics and Image Processing&#8221;,
20 (1982) 171-184.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r240" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id20">[R240]</a></td><td>P. Dierckx, &#8220;Algorithms for smoothing data with periodic and
parametric splines&#8221;, report tw55, Dept. Computer Science,
K.U.Leuven, 1981.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r241" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id21">[R241]</a></td><td>P. Dierckx, &#8220;Curve and surface fitting with splines&#8221;, Monographs on
Numerical Analysis, Oxford University Press, 1993.</td></tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="startpoint">
<h3>startpoint<a class="headerlink" href="#startpoint" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.startpoint">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">startpoint</code><span class="sig-paren">(</span><em>xyz</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.startpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>First point of the track</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array, shape(N,3)</p>
<blockquote>
<div><p>Track.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>sp</strong> : array, shape(3,)</p>
<blockquote class="last">
<div><p>First track point.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">startpoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span><span class="o">=</span><span class="n">startpoint</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span><span class="o">.</span><span class="n">any</span><span class="p">()</span><span class="o">==</span><span class="n">xyz</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">any</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="winding">
<h3>winding<a class="headerlink" href="#winding" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.metrics.winding">
<code class="descclassname">dipy.tracking.metrics.</code><code class="descname">winding</code><span class="sig-paren">(</span><em>xyz</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.metrics.winding" title="Permalink to this definition">¶</a></dt>
<dd><p>Total turning angle projected.</p>
<p>Project space curve to best fitting plane. Calculate the cumulative signed
angle between each line segment and the previous one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xyz</strong> : array-like shape (N,3)</p>
<blockquote>
<div><p>Array representing x,y,z of N points in a track.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>a</strong> : scalar</p>
<blockquote class="last">
<div><p>Total turning angle in degrees.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="apply-affine">
<h3>apply_affine<a class="headerlink" href="#apply-affine" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.streamline.apply_affine">
<code class="descclassname">dipy.tracking.streamline.</code><code class="descname">apply_affine</code><span class="sig-paren">(</span><em>aff</em>, <em>pts</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.streamline.apply_affine" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply affine matrix <cite>aff</cite> to points <cite>pts</cite></p>
<p>Returns result of application of <cite>aff</cite> to the <em>right</em> of <cite>pts</cite>.  The
coordinate dimension of <cite>pts</cite> should be the last.</p>
<p>For the 3D case, <cite>aff</cite> will be shape (4,4) and <cite>pts</cite> will have final axis
length 3 - maybe it will just be N by 3. The return value is the
transformed points, in this case:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">res</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">aff</span><span class="p">[:</span><span class="mi">3</span><span class="p">,:</span><span class="mi">3</span><span class="p">],</span> <span class="n">pts</span><span class="o">.</span><span class="n">T</span><span class="p">)</span> <span class="o">+</span> <span class="n">aff</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="n">transformed_pts</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
<p>This routine is more general than 3D, in that <cite>aff</cite> can have any shape
(N,N), and <cite>pts</cite> can have any shape, as long as the last dimension is for
the coordinates, and is therefore length N-1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>aff</strong> : (N, N) array-like</p>
<blockquote>
<div><p>Homogenous affine, for 3D points, will be 4 by 4. Contrary to first
appearance, the affine will be applied on the left of <cite>pts</cite>.</p>
</div></blockquote>
<p><strong>pts</strong> : (..., N-1) array-like</p>
<blockquote>
<div><p>Points, where the last dimension contains the coordinates of each
point.  For 3D, the last dimension will be length 3.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>transformed_pts</strong> : (..., N-1) array</p>
<blockquote class="last">
<div><p>transformed points</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">aff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">11</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">12</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_affine</span><span class="p">(</span><span class="n">aff</span><span class="p">,</span> <span class="n">pts</span><span class="p">)</span> 
<span class="go">array([[14, 14, 24],</span>
<span class="go">       [16, 17, 28],</span>
<span class="go">       [20, 23, 36],</span>
<span class="go">       [24, 29, 44]]...)</span>
</pre></div>
</div>
<p>Just to show that in the simple 3D case, it is equivalent to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">aff</span><span class="p">[:</span><span class="mi">3</span><span class="p">,:</span><span class="mi">3</span><span class="p">],</span> <span class="n">pts</span><span class="o">.</span><span class="n">T</span><span class="p">)</span> <span class="o">+</span> <span class="n">aff</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">T</span> 
<span class="go">array([[14, 14, 24],</span>
<span class="go">       [16, 17, 28],</span>
<span class="go">       [20, 23, 36],</span>
<span class="go">       [24, 29, 44]]...)</span>
</pre></div>
</div>
<p>But <cite>pts</cite> can be a more complicated shape:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pts</span> <span class="o">=</span> <span class="n">pts</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_affine</span><span class="p">(</span><span class="n">aff</span><span class="p">,</span> <span class="n">pts</span><span class="p">)</span> 
<span class="go">array([[[14, 14, 24],</span>
<span class="go">        [16, 17, 28]],</span>

<span class="go">       [[20, 23, 36],</span>
<span class="go">        [24, 29, 44]]]...)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="cdist">
<h3>cdist<a class="headerlink" href="#cdist" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="center-streamlines">
<h3>center_streamlines<a class="headerlink" href="#center-streamlines" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.streamline.center_streamlines">
<code class="descclassname">dipy.tracking.streamline.</code><code class="descname">center_streamlines</code><span class="sig-paren">(</span><em>streamlines</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.streamline.center_streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Move streamlines to the origin</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>streamlines</strong> : list</p>
<blockquote>
<div><p>List of 2D ndarrays of shape[-1]==3</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>new_streamlines</strong> : list</p>
<blockquote>
<div><p>List of 2D ndarrays of shape[-1]==3</p>
</div></blockquote>
<p><strong>inv_shift</strong> : ndarray</p>
<blockquote class="last">
<div><p>Translation in x,y,z to go back in the initial position</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="id22">
<h3>compress_streamlines<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="deepcopy">
<h3>deepcopy<a class="headerlink" href="#deepcopy" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="dist-to-corner">
<h3>dist_to_corner<a class="headerlink" href="#dist-to-corner" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id23">
<h3>length<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.streamline.length">
<code class="descclassname">dipy.tracking.streamline.</code><code class="descname">length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.streamline.length" title="Permalink to this definition">¶</a></dt>
<dd><p>Euclidean length of streamlines</p>
<p>This will give length in mm if streamlines are expressed in world coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>streamlines</strong> : one or a list of array-like shape (N,3)</p>
<blockquote>
<div><p>array representing x,y,z of N points in a streamline</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>lengths</strong> : scalar or array shape (N,)</p>
<blockquote class="last">
<div><p>scalar representing the length of one streamline, or
array representing the lengths of multiple streamlines.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.streamline</span> <span class="kn">import</span> <span class="n">length</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamline</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expected_length</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">([</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">4</span><span class="o">**</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="p">(</span><span class="n">streamline</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected_length</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamlines</span> <span class="o">=</span> <span class="p">[</span><span class="n">streamline</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">streamline</span><span class="p">,</span> <span class="n">streamline</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expected_lengths</span> <span class="o">=</span> <span class="p">[</span><span class="n">expected_length</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">expected_length</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">expected_lengths</span><span class="p">,</span> <span class="p">[</span><span class="n">length</span><span class="p">(</span><span class="n">streamlines</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">length</span><span class="p">(</span><span class="n">streamlines</span><span class="p">[</span><span class="mi">1</span><span class="p">])])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="p">([])</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]))</span>
<span class="go">0.0</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="orient-by-rois">
<h3>orient_by_rois<a class="headerlink" href="#orient-by-rois" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="relist-streamlines">
<h3>relist_streamlines<a class="headerlink" href="#relist-streamlines" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.streamline.relist_streamlines">
<code class="descclassname">dipy.tracking.streamline.</code><code class="descname">relist_streamlines</code><span class="sig-paren">(</span><em>points</em>, <em>offsets</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.streamline.relist_streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a representation of a set of streamlines as a large array and
an offsets array return the streamlines as a list of shorter arrays.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>points</strong> : array</p>
<p><strong>offsets</strong> : array</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>streamlines: sequence</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="select-by-rois">
<h3>select_by_rois<a class="headerlink" href="#select-by-rois" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="select-random-set-of-streamlines">
<h3>select_random_set_of_streamlines<a class="headerlink" href="#select-random-set-of-streamlines" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.streamline.select_random_set_of_streamlines">
<code class="descclassname">dipy.tracking.streamline.</code><code class="descname">select_random_set_of_streamlines</code><span class="sig-paren">(</span><em>streamlines</em>, <em>select</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.streamline.select_random_set_of_streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Select a random set of streamlines</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>streamlines</strong> : list</p>
<blockquote>
<div><p>List of 2D ndarrays of shape[-1]==3</p>
</div></blockquote>
<p><strong>select</strong> : int</p>
<blockquote>
<div><p>Number of streamlines to select. If there are less streamlines
than <code class="docutils literal"><span class="pre">select</span></code> then <code class="docutils literal"><span class="pre">select=len(streamlines)</span></code>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>selected_streamlines</strong> : list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="id24">
<h3>set_number_of_points<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.streamline.set_number_of_points">
<code class="descclassname">dipy.tracking.streamline.</code><code class="descname">set_number_of_points</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.streamline.set_number_of_points" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Change the number of points of streamlines</dt>
<dd>(either by downsampling or upsampling)</dd>
</dl>
<p>Change the number of points of streamlines in order to obtain
<cite>nb_points</cite>-1 segments of equal length. Points of streamlines will be
modified along the curve.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>streamlines</strong> : one or a list of array-like shape (N,3)</p>
<blockquote>
<div><p>array representing x,y,z of N points in a streamline</p>
</div></blockquote>
<p><strong>nb_points</strong> : int</p>
<blockquote>
<div><p>integer representing number of points wanted along the curve.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>modified_streamlines</strong> : one or a list of array-like shape (<cite>nb_points</cite>,3)</p>
<blockquote class="last">
<div><p>array representing x,y,z of <cite>nb_points</cite> points that were interpolated.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.streamline</span> <span class="kn">import</span> <span class="n">set_number_of_points</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># One streamline: a semi-circle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">*</span> <span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamline</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modified_streamline</span> <span class="o">=</span> <span class="n">set_number_of_points</span><span class="p">(</span><span class="n">streamline</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">modified_streamline</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple streamlines</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamlines</span> <span class="o">=</span> <span class="p">[</span><span class="n">streamline</span><span class="p">,</span> <span class="n">streamline</span><span class="p">[::</span><span class="mi">2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modified_streamlines</span> <span class="o">=</span> <span class="n">set_number_of_points</span><span class="p">(</span><span class="n">streamlines</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">streamlines</span><span class="p">]</span>
<span class="go">[100, 50]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">modified_streamlines</span><span class="p">]</span>
<span class="go">[10, 10]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="streamline-near-roi">
<h3>streamline_near_roi<a class="headerlink" href="#streamline-near-roi" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id25">
<h3>transform_streamlines<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.streamline.transform_streamlines">
<code class="descclassname">dipy.tracking.streamline.</code><code class="descname">transform_streamlines</code><span class="sig-paren">(</span><em>streamlines</em>, <em>mat</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.streamline.transform_streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply affine transformation to streamlines</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>streamlines</strong> : list</p>
<blockquote>
<div><p>List of 2D ndarrays of shape[-1]==3</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>new_streamlines</strong> : list</p>
<blockquote class="last">
<div><p>List of the transformed 2D ndarrays of shape[-1]==3</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="unlist-streamlines">
<h3>unlist_streamlines<a class="headerlink" href="#unlist-streamlines" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.tracking.streamline.unlist_streamlines">
<code class="descclassname">dipy.tracking.streamline.</code><code class="descname">unlist_streamlines</code><span class="sig-paren">(</span><em>streamlines</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.tracking.streamline.unlist_streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the streamlines not as a list but as an array and an offset</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>streamlines: sequence</strong> :</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>points</strong> : array</p>
<p class="last"><strong>offsets</strong> : array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="values-from-volume">
<h3>values_from_volume<a class="headerlink" href="#values-from-volume" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id26">
<h3>warn<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
  <li><a href="../index.html">Home</a> |&nbsp;</li>
  <li><a href="../stateoftheart.html">Overview</a> |&nbsp;</li>
  <li><a href="../examples_index.html">Gallery</a> |&nbsp;</li>
  <li><a href="../installation.html">Download</a> |&nbsp;</li>
  <li><a href="../subscribe.html">Subscribe</a> |&nbsp;</li>
  <li><a href="../developers.html">Developers</a> |&nbsp;</li>
  <li><a href="../cite.html">Cite</a> &nbsp;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2008-2015, dipy developers &lt;nipy-devel@neuroimaging.scipy.org&gt;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.5.
    </div>
  </body>
</html>