<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Dipy &mdash; dipy 0.5.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/dipy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.5.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="dipy 0.5.0 documentation" href="../index.html" />
  <meta name="keywords" content="nipy, neuroimaging, python, neuroscience, time
				 series">

  </head>
  <body role="document">
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
 <a href="../index.html">
  <img src="../_static/dipy-banner.png" alt="dipy logo"  border="0" />
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
  <li><a href="../index.html">Dipy Home</a> |&nbsp;</li>
 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

  
<h4> Site Navigation </h4>
  <ul>
    <li><a href="../documentation.html">Documentation</a></li>
    <li><a href="../devel/index.html">Development</a></li>
  </ul>

<h4> NIPY Community </h4>
  <ul class="simple">
    <li><a class="reference external"
	href="http://nipy.sourceforge.net/">Community Home</a></li>
    <li><a class="reference external"
	href="http://nipy.sourceforge.net/software/projects/">NIPY Projects</a></li>
    <li><a class="reference external"
	href="http://mail.scipy.org/mailman/listinfo/nipy-devel">Mailing List</a></li>
    <li><a class="reference external"
	href="http://nipy.sourceforge.net/software/license/index.html">License</a></li>
  </ul>


  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="docutils literal"><span class="pre">core</span></code></a><ul>
<li><a class="reference internal" href="#module-dipy.core.geometry">Module: <code class="docutils literal"><span class="pre">core.geometry</span></code></a></li>
<li><a class="reference internal" href="#module-core-gradients">Module: <code class="docutils literal"><span class="pre">core.gradients</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.core.graph">Module: <code class="docutils literal"><span class="pre">core.graph</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.core.histeq">Module: <code class="docutils literal"><span class="pre">core.histeq</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.core.ndindex">Module: <code class="docutils literal"><span class="pre">core.ndindex</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.core.onetime">Module: <code class="docutils literal"><span class="pre">core.onetime</span></code></a><ul>
<li><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-dipy.core.optimize">Module: <code class="docutils literal"><span class="pre">core.optimize</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.core.profile">Module: <code class="docutils literal"><span class="pre">core.profile</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.core.rng">Module: <code class="docutils literal"><span class="pre">core.rng</span></code></a></li>
<li><a class="reference internal" href="#module-core-sphere">Module: <code class="docutils literal"><span class="pre">core.sphere</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.core.sphere_stats">Module: <code class="docutils literal"><span class="pre">core.sphere_stats</span></code></a></li>
<li><a class="reference internal" href="#module-core-subdivide-octahedron">Module: <code class="docutils literal"><span class="pre">core.subdivide_octahedron</span></code></a><ul>
<li><a class="reference internal" href="#test">test</a></li>
<li><a class="reference internal" href="#cart2sphere">cart2sphere</a></li>
<li><a class="reference internal" href="#cart-distance">cart_distance</a></li>
<li><a class="reference internal" href="#circumradius">circumradius</a></li>
<li><a class="reference internal" href="#compose-matrix">compose_matrix</a></li>
<li><a class="reference internal" href="#compose-transformations">compose_transformations</a></li>
<li><a class="reference internal" href="#decompose-matrix">decompose_matrix</a></li>
<li><a class="reference internal" href="#dist-to-corner">dist_to_corner</a></li>
<li><a class="reference internal" href="#euler-matrix">euler_matrix</a></li>
<li><a class="reference internal" href="#lambert-equal-area-projection-cart">lambert_equal_area_projection_cart</a></li>
<li><a class="reference internal" href="#lambert-equal-area-projection-polar">lambert_equal_area_projection_polar</a></li>
<li><a class="reference internal" href="#nearest-pos-semi-def">nearest_pos_semi_def</a></li>
<li><a class="reference internal" href="#normalized-vector">normalized_vector</a></li>
<li><a class="reference internal" href="#perpendicular-directions">perpendicular_directions</a></li>
<li><a class="reference internal" href="#rodrigues-axis-rotation">rodrigues_axis_rotation</a></li>
<li><a class="reference internal" href="#sph2latlon">sph2latlon</a></li>
<li><a class="reference internal" href="#sphere2cart">sphere2cart</a></li>
<li><a class="reference internal" href="#sphere-distance">sphere_distance</a></li>
<li><a class="reference internal" href="#vec2vec-rotmat">vec2vec_rotmat</a></li>
<li><a class="reference internal" href="#vector-cosine">vector_cosine</a></li>
<li><a class="reference internal" href="#vector-norm">vector_norm</a></li>
<li><a class="reference internal" href="#gradienttable"><code class="docutils literal"><span class="pre">GradientTable</span></code></a></li>
<li><a class="reference internal" href="#auto-attr">auto_attr</a></li>
<li><a class="reference internal" href="#gradient-table">gradient_table</a></li>
<li><a class="reference internal" href="#gradient-table-from-bvals-bvecs">gradient_table_from_bvals_bvecs</a></li>
<li><a class="reference internal" href="#inv">inv</a></li>
<li><a class="reference internal" href="#polar">polar</a></li>
<li><a class="reference internal" href="#reorient-bvecs">reorient_bvecs</a></li>
<li><a class="reference internal" href="#id5">vector_norm</a></li>
<li><a class="reference internal" href="#graph"><code class="docutils literal"><span class="pre">Graph</span></code></a></li>
<li><a class="reference internal" href="#histeq">histeq</a></li>
<li><a class="reference internal" href="#as-strided">as_strided</a></li>
<li><a class="reference internal" href="#ndindex">ndindex</a></li>
<li><a class="reference internal" href="#onetimeproperty"><code class="docutils literal"><span class="pre">OneTimeProperty</span></code></a></li>
<li><a class="reference internal" href="#resetmixin"><code class="docutils literal"><span class="pre">ResetMixin</span></code></a></li>
<li><a class="reference internal" href="#id6">auto_attr</a></li>
<li><a class="reference internal" href="#setattr-on-read">setattr_on_read</a></li>
<li><a class="reference internal" href="#looseversion"><code class="docutils literal"><span class="pre">LooseVersion</span></code></a></li>
<li><a class="reference internal" href="#nonnegativeleastsquares"><code class="docutils literal"><span class="pre">NonNegativeLeastSquares</span></code></a></li>
<li><a class="reference internal" href="#optimizer"><code class="docutils literal"><span class="pre">Optimizer</span></code></a></li>
<li><a class="reference internal" href="#sklearnlinearsolver"><code class="docutils literal"><span class="pre">SKLearnLinearSolver</span></code></a></li>
<li><a class="reference internal" href="#minimize">minimize</a></li>
<li><a class="reference internal" href="#sparse-nnls">sparse_nnls</a></li>
<li><a class="reference internal" href="#spdot">spdot</a></li>
<li><a class="reference internal" href="#with-metaclass">with_metaclass</a></li>
<li><a class="reference internal" href="#profiler"><code class="docutils literal"><span class="pre">Profiler</span></code></a></li>
<li><a class="reference internal" href="#optional-package">optional_package</a></li>
<li><a class="reference internal" href="#lecuyer">LEcuyer</a></li>
<li><a class="reference internal" href="#wichmannhill1982">WichmannHill1982</a></li>
<li><a class="reference internal" href="#wichmannhill2006">WichmannHill2006</a></li>
<li><a class="reference internal" href="#architecture">architecture</a></li>
<li><a class="reference internal" href="#floor">floor</a></li>
<li><a class="reference internal" href="#hemisphere"><code class="docutils literal"><span class="pre">HemiSphere</span></code></a></li>
<li><a class="reference internal" href="#sphere"><code class="docutils literal"><span class="pre">Sphere</span></code></a></li>
<li><a class="reference internal" href="#xrange"><code class="docutils literal"><span class="pre">xrange</span></code></a></li>
<li><a class="reference internal" href="#id40">auto_attr</a></li>
<li><a class="reference internal" href="#id41">cart2sphere</a></li>
<li><a class="reference internal" href="#disperse-charges">disperse_charges</a></li>
<li><a class="reference internal" href="#euler-characteristic-check">euler_characteristic_check</a></li>
<li><a class="reference internal" href="#faces-from-sphere-vertices">faces_from_sphere_vertices</a></li>
<li><a class="reference internal" href="#interp-rbf">interp_rbf</a></li>
<li><a class="reference internal" href="#remove-similar-vertices">remove_similar_vertices</a></li>
<li><a class="reference internal" href="#id42">sphere2cart</a></li>
<li><a class="reference internal" href="#unique-edges">unique_edges</a></li>
<li><a class="reference internal" href="#unique-sets">unique_sets</a></li>
<li><a class="reference internal" href="#id43">vector_norm</a></li>
<li><a class="reference internal" href="#permutations"><code class="docutils literal"><span class="pre">permutations</span></code></a></li>
<li><a class="reference internal" href="#angular-similarity">angular_similarity</a></li>
<li><a class="reference internal" href="#compare-orientation-sets">compare_orientation_sets</a></li>
<li><a class="reference internal" href="#eigenstats">eigenstats</a></li>
<li><a class="reference internal" href="#random-uniform-on-sphere">random_uniform_on_sphere</a></li>
<li><a class="reference internal" href="#id44"><code class="docutils literal"><span class="pre">HemiSphere</span></code></a></li>
<li><a class="reference internal" href="#create-unit-hemisphere">create_unit_hemisphere</a></li>
<li><a class="reference internal" href="#create-unit-sphere">create_unit_sphere</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/reference/dipy.core.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>

<div id="searchbox-ml" style="display: none">
  <h3>Search mailing list archive</h3>
  <script type="text/javascript">
    function mlsearch(curobj)
    {
    curobj.q.value="site:mail.scipy.org/pipermail/nipy-devel/ "+curobj.userquery.value
    }
  </script>
  <form action="http://www.google.com/search" method="get" onSubmit="mlsearch(this)">
    <input name="userquery" size="13" type="text" /> <input type="submit" value="Go" />
    <input name="q" type="hidden" />
  </form>
</div>
  
<div id="searchbox-site" style="display: none">
  <h3>Search this site</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="13" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    </p>
</div>
<script type="text/javascript">$('#searchbox-ml').show(0);</script>
<script type="text/javascript">$('#searchbox-site').show(0);</script>


        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-dipy.core">
<span id="core"></span><h1><code class="xref py py-mod docutils literal"><span class="pre">core</span></code><a class="headerlink" href="#module-dipy.core" title="Permalink to this headline">¶</a></h1>
<p>Core objects</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.test" title="dipy.core.test"><code class="xref py py-obj docutils literal"><span class="pre">test</span></code></a></td>
<td>Run tests for module using nose.</td>
</tr>
</tbody>
</table>
<div class="section" id="module-dipy.core.geometry">
<span id="module-core-geometry"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">core.geometry</span></code><a class="headerlink" href="#module-dipy.core.geometry" title="Permalink to this headline">¶</a></h2>
<p>Utility functions for algebra etc</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.cart2sphere" title="dipy.core.geometry.cart2sphere"><code class="xref py py-obj docutils literal"><span class="pre">cart2sphere</span></code></a>(x,&nbsp;y,&nbsp;z)</td>
<td>Return angles for Cartesian 3D coordinates <cite>x</cite>, <cite>y</cite>, and <cite>z</cite></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.cart_distance" title="dipy.core.geometry.cart_distance"><code class="xref py py-obj docutils literal"><span class="pre">cart_distance</span></code></a>(pts1,&nbsp;pts2)</td>
<td>Cartesian distance between <cite>pts1</cite> and <cite>pts2</cite></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.circumradius" title="dipy.core.geometry.circumradius"><code class="xref py py-obj docutils literal"><span class="pre">circumradius</span></code></a>(a,&nbsp;b,&nbsp;c)</td>
<td>a, b and c are 3-dimensional vectors which are the vertices of a</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.compose_matrix" title="dipy.core.geometry.compose_matrix"><code class="xref py py-obj docutils literal"><span class="pre">compose_matrix</span></code></a>([scale,&nbsp;shear,&nbsp;angles,&nbsp;...])</td>
<td>Return 4x4 transformation matrix from sequence of transformations.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">compose_transformations</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.decompose_matrix" title="dipy.core.geometry.decompose_matrix"><code class="xref py py-obj docutils literal"><span class="pre">decompose_matrix</span></code></a>(matrix)</td>
<td>Return sequence of transformations from transformation matrix.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">dist_to_corner</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.euler_matrix" title="dipy.core.geometry.euler_matrix"><code class="xref py py-obj docutils literal"><span class="pre">euler_matrix</span></code></a>(ai,&nbsp;aj,&nbsp;ak[,&nbsp;axes])</td>
<td>Return homogeneous rotation matrix from Euler angles and axis sequence.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.lambert_equal_area_projection_cart" title="dipy.core.geometry.lambert_equal_area_projection_cart"><code class="xref py py-obj docutils literal"><span class="pre">lambert_equal_area_projection_cart</span></code></a>(x,&nbsp;y,&nbsp;z)</td>
<td>Lambert Equal Area Projection from cartesian vector to plane</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.lambert_equal_area_projection_polar" title="dipy.core.geometry.lambert_equal_area_projection_polar"><code class="xref py py-obj docutils literal"><span class="pre">lambert_equal_area_projection_polar</span></code></a>(theta,&nbsp;phi)</td>
<td>Lambert Equal Area Projection from polar sphere to plane</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.nearest_pos_semi_def" title="dipy.core.geometry.nearest_pos_semi_def"><code class="xref py py-obj docutils literal"><span class="pre">nearest_pos_semi_def</span></code></a>(B)</td>
<td>Least squares positive semi-definite tensor estimation</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.normalized_vector" title="dipy.core.geometry.normalized_vector"><code class="xref py py-obj docutils literal"><span class="pre">normalized_vector</span></code></a>(vec)</td>
<td>Return vector divided by its Euclidean (L2) norm</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">perpendicular_directions</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">rodrigues_axis_rotation</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">sph2latlon</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.sphere2cart" title="dipy.core.geometry.sphere2cart"><code class="xref py py-obj docutils literal"><span class="pre">sphere2cart</span></code></a>(r,&nbsp;theta,&nbsp;phi)</td>
<td>Spherical to Cartesian coordinates</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.sphere_distance" title="dipy.core.geometry.sphere_distance"><code class="xref py py-obj docutils literal"><span class="pre">sphere_distance</span></code></a>(pts1,&nbsp;pts2[,&nbsp;radius,&nbsp;...])</td>
<td>Distance across sphere surface between <cite>pts1</cite> and <cite>pts2</cite></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">vec2vec_rotmat</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.vector_cosine" title="dipy.core.geometry.vector_cosine"><code class="xref py py-obj docutils literal"><span class="pre">vector_cosine</span></code></a>(vecs1,&nbsp;vecs2)</td>
<td>Cosine of angle between two (sets of) vectors</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.vector_norm" title="dipy.core.geometry.vector_norm"><code class="xref py py-obj docutils literal"><span class="pre">vector_norm</span></code></a>(data[,&nbsp;axis,&nbsp;out])</td>
<td>Return length, i.e.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-core-gradients">
<h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">core.gradients</span></code><a class="headerlink" href="#module-core-gradients" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">GradientTable</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">auto_attr</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">gradient_table</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">gradient_table_from_bvals_bvecs</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">inv</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">polar</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">reorient_bvecs</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">vector_norm</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.core.graph">
<span id="module-core-graph"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">core.graph</span></code><a class="headerlink" href="#module-dipy.core.graph" title="Permalink to this headline">¶</a></h2>
<p>A simple graph class</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="dipy.core.graph.html#dipy.core.graph.Graph" title="dipy.core.graph.Graph"><code class="xref py py-obj docutils literal"><span class="pre">Graph</span></code></a>()</td>
<td>A simple graph class</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.core.histeq">
<span id="module-core-histeq"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">core.histeq</span></code><a class="headerlink" href="#module-dipy.core.histeq" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.histeq.histeq" title="dipy.core.histeq.histeq"><code class="xref py py-obj docutils literal"><span class="pre">histeq</span></code></a>(arr[,&nbsp;num_bins])</td>
<td>Performs an histogram equalization on <code class="docutils literal"><span class="pre">arr</span></code>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.core.ndindex">
<span id="module-core-ndindex"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">core.ndindex</span></code><a class="headerlink" href="#module-dipy.core.ndindex" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.ndindex.as_strided" title="dipy.core.ndindex.as_strided"><code class="xref py py-obj docutils literal"><span class="pre">as_strided</span></code></a>(x[,&nbsp;shape,&nbsp;strides,&nbsp;subok])</td>
<td>Make an ndarray from the given array with the given shape and strides.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.core.ndindex.ndindex" title="dipy.core.ndindex.ndindex"><code class="xref py py-obj docutils literal"><span class="pre">ndindex</span></code></a>(shape)</td>
<td>An N-dimensional iterator object to index arrays.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.core.onetime">
<span id="module-core-onetime"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">core.onetime</span></code><a class="headerlink" href="#module-dipy.core.onetime" title="Permalink to this headline">¶</a></h2>
<p>Descriptor support for NIPY.</p>
<p>Utilities to support special Python descriptors (<a class="reference internal" href="#r3" id="id1">[R3]</a>, <a class="reference internal" href="#r4" id="id2">[R4]</a>), in particular the use of
a useful pattern for properties we call &#8216;one time properties&#8217;.  These are
object attributes which are declared as properties, but become regular
attributes once they&#8217;ve been read the first time.  They can thus be evaluated
later in the object&#8217;s life cycle, but once evaluated they become normal, static
attributes with no function call overhead on access or any other constraints.</p>
<div class="section" id="references">
<h3>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h3>
<table class="docutils citation" frame="void" id="r3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[R3]</a></td><td>How-To Guide for Descriptors, Raymond</td></tr>
</tbody>
</table>
<p>Hettinger. <a class="reference external" href="http://users.rcn.com/python/download/Descriptor.htm">http://users.rcn.com/python/download/Descriptor.htm</a></p>
<table class="docutils citation" frame="void" id="r4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[R4]</a></td><td>Python data model, <a class="reference external" href="http://docs.python.org/reference/datamodel.html">http://docs.python.org/reference/datamodel.html</a></td></tr>
</tbody>
</table>
</div>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="dipy.core.onetime.html#dipy.core.onetime.OneTimeProperty" title="dipy.core.onetime.OneTimeProperty"><code class="xref py py-obj docutils literal"><span class="pre">OneTimeProperty</span></code></a>(func)</td>
<td>A descriptor to make special properties that become normal attributes.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">ResetMixin</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">auto_attr</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="dipy.core.onetime.html#dipy.core.onetime.setattr_on_read" title="dipy.core.onetime.setattr_on_read"><code class="xref py py-obj docutils literal"><span class="pre">setattr_on_read</span></code></a>(func)</td>
<td>Decorator to create OneTimeProperty attributes.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.core.optimize">
<span id="module-core-optimize"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">core.optimize</span></code><a class="headerlink" href="#module-dipy.core.optimize" title="Permalink to this headline">¶</a></h2>
<p>A unified interface for performing and debugging optimization problems.</p>
<p>Only L-BFGS-B and Powell is supported in this class for versions of
Scipy &lt; 0.12. All optimizers are available for scipy &gt;= 0.12.</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.optimize.LooseVersion" title="dipy.core.optimize.LooseVersion"><code class="xref py py-obj docutils literal"><span class="pre">LooseVersion</span></code></a>([vstring])</td>
<td>Version numbering for anarchists and software realists.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.core.optimize.NonNegativeLeastSquares" title="dipy.core.optimize.NonNegativeLeastSquares"><code class="xref py py-obj docutils literal"><span class="pre">NonNegativeLeastSquares</span></code></a>(*args,&nbsp;**kwargs)</td>
<td>A sklearn-like interface to scipy.optimize.nnls</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.optimize.Optimizer" title="dipy.core.optimize.Optimizer"><code class="xref py py-obj docutils literal"><span class="pre">Optimizer</span></code></a>(fun,&nbsp;x0[,&nbsp;args,&nbsp;method,&nbsp;jac,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.core.optimize.SKLearnLinearSolver" title="dipy.core.optimize.SKLearnLinearSolver"><code class="xref py py-obj docutils literal"><span class="pre">SKLearnLinearSolver</span></code></a>(*args,&nbsp;**kwargs)</td>
<td>Provide a sklearn-like uniform interface to algorithms that solve problems</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.optimize.minimize" title="dipy.core.optimize.minimize"><code class="xref py py-obj docutils literal"><span class="pre">minimize</span></code></a>(fun,&nbsp;x0[,&nbsp;args,&nbsp;method,&nbsp;jac,&nbsp;hess,&nbsp;...])</td>
<td>Minimization of scalar function of one or more variables.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.core.optimize.sparse_nnls" title="dipy.core.optimize.sparse_nnls"><code class="xref py py-obj docutils literal"><span class="pre">sparse_nnls</span></code></a>(y,&nbsp;X[,&nbsp;momentum,&nbsp;step_size,&nbsp;...])</td>
<td>Solve y=Xh for h, using gradient descent, with X a sparse matrix</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.optimize.spdot" title="dipy.core.optimize.spdot"><code class="xref py py-obj docutils literal"><span class="pre">spdot</span></code></a>(A,&nbsp;B)</td>
<td>The same as np.dot(A, B), except it works even if A or B or both are sparse matrices.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.core.optimize.with_metaclass" title="dipy.core.optimize.with_metaclass"><code class="xref py py-obj docutils literal"><span class="pre">with_metaclass</span></code></a>(meta,&nbsp;*bases)</td>
<td>Create a base class with a metaclass.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.core.profile">
<span id="module-core-profile"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">core.profile</span></code><a class="headerlink" href="#module-dipy.core.profile" title="Permalink to this headline">¶</a></h2>
<p>Class for profiling cython code</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="dipy.core.profile.html#dipy.core.profile.Profiler" title="dipy.core.profile.Profiler"><code class="xref py py-obj docutils literal"><span class="pre">Profiler</span></code></a>([call])</td>
<td>Profile python/cython files or functions</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.core.profile.optional_package" title="dipy.core.profile.optional_package"><code class="xref py py-obj docutils literal"><span class="pre">optional_package</span></code></a>(name[,&nbsp;trip_msg])</td>
<td>Return package-like thing and module setup for package <cite>name</cite></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.core.rng">
<span id="module-core-rng"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">core.rng</span></code><a class="headerlink" href="#module-dipy.core.rng" title="Permalink to this headline">¶</a></h2>
<p>Random number generation utilities</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="dipy.core.rng.html#dipy.core.rng.LEcuyer" title="dipy.core.rng.LEcuyer"><code class="xref py py-obj docutils literal"><span class="pre">LEcuyer</span></code></a>()</td>
<td>Generate uniformly distributed random numbers using the 32-bit generator from figure 3 of: L&#8217;Ecuyer, P.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="dipy.core.rng.html#dipy.core.rng.WichmannHill1982" title="dipy.core.rng.WichmannHill1982"><code class="xref py py-obj docutils literal"><span class="pre">WichmannHill1982</span></code></a>()</td>
<td>Algorithm AS 183 Appl.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="dipy.core.rng.html#dipy.core.rng.WichmannHill2006" title="dipy.core.rng.WichmannHill2006"><code class="xref py py-obj docutils literal"><span class="pre">WichmannHill2006</span></code></a>()</td>
<td>B.A.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.core.rng.architecture" title="dipy.core.rng.architecture"><code class="xref py py-obj docutils literal"><span class="pre">architecture</span></code></a>([executable,&nbsp;bits,&nbsp;linkage])</td>
<td>Queries the given executable (defaults to the Python interpreter binary) for various architecture information.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.rng.floor" title="dipy.core.rng.floor"><code class="xref py py-obj docutils literal"><span class="pre">floor</span></code></a>(x)</td>
<td>Return the floor of x as a float.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-core-sphere">
<h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">core.sphere</span></code><a class="headerlink" href="#module-core-sphere" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">HemiSphere</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">Sphere</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference external" href="http://docs.python.org/library/functions.html#xrange" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">xrange</span></code></a></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">auto_attr</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">cart2sphere</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">disperse_charges</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">euler_characteristic_check</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">faces_from_sphere_vertices</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">interp_rbf</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">remove_similar_vertices</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">sphere2cart</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">unique_edges</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">unique_sets</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">vector_norm</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.core.sphere_stats">
<span id="module-core-sphere-stats"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">core.sphere_stats</span></code><a class="headerlink" href="#module-dipy.core.sphere_stats" title="Permalink to this headline">¶</a></h2>
<p>Statistics on spheres</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">permutations</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">angular_similarity</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">compare_orientation_sets</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="dipy.core.sphere_stats.html#dipy.core.sphere_stats.eigenstats" title="dipy.core.sphere_stats.eigenstats"><code class="xref py py-obj docutils literal"><span class="pre">eigenstats</span></code></a>(points[,&nbsp;alpha])</td>
<td>Principal direction and confidence ellipse</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">random_uniform_on_sphere</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-core-subdivide-octahedron">
<h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">core.subdivide_octahedron</span></code><a class="headerlink" href="#module-core-subdivide-octahedron" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">HemiSphere</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">create_unit_hemisphere</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">create_unit_sphere</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<div class="section" id="test">
<h3>test<a class="headerlink" href="#test" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.test">
<code class="descclassname">dipy.core.</code><code class="descname">test</code><span class="sig-paren">(</span><em>self</em>, <em>label='fast'</em>, <em>verbose=1</em>, <em>extra_argv=None</em>, <em>doctests=False</em>, <em>coverage=False</em>, <em>raise_warnings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.test" title="Permalink to this definition">¶</a></dt>
<dd><p>Run tests for module using nose.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>label</strong> : {&#8216;fast&#8217;, &#8216;full&#8217;, &#8216;&#8217;, attribute identifier}, optional</p>
<blockquote>
<div><p>Identifies the tests to run. This can be a string to pass to
the nosetests executable with the &#8216;-A&#8217; option, or one of several
special values.  Special values are:
* &#8216;fast&#8217; - the default - which corresponds to the <code class="docutils literal"><span class="pre">nosetests</span> <span class="pre">-A</span></code></p>
<blockquote>
<div><p>option of &#8216;not slow&#8217;.</p>
</div></blockquote>
<ul class="simple">
<li>&#8216;full&#8217; - fast (as above) and slow tests as in the
&#8216;no -A&#8217; option to nosetests - this is the same as &#8216;&#8217;.</li>
<li>None or &#8216;&#8217; - run all tests.</li>
</ul>
<p>attribute_identifier - string passed directly to nosetests as &#8216;-A&#8217;.</p>
</div></blockquote>
<p><strong>verbose</strong> : int, optional</p>
<blockquote>
<div><p>Verbosity value for test outputs, in the range 1-10. Default is 1.</p>
</div></blockquote>
<p><strong>extra_argv</strong> : list, optional</p>
<blockquote>
<div><p>List with any extra arguments to pass to nosetests.</p>
</div></blockquote>
<p><strong>doctests</strong> : bool, optional</p>
<blockquote>
<div><p>If True, run doctests in module. Default is False.</p>
</div></blockquote>
<p><strong>coverage</strong> : bool, optional</p>
<blockquote>
<div><p>If True, report coverage of NumPy code. Default is False.
(This requires the <a href="#id3"><span class="problematic" id="id4">`</span></a>coverage module:</p>
<blockquote>
<div><p>&lt;<a class="reference external" href="http://nedbatchelder.com/code/modules/coverage.html">http://nedbatchelder.com/code/modules/coverage.html</a>&gt;`_).</p>
</div></blockquote>
</div></blockquote>
<p><strong>raise_warnings</strong> : str or sequence of warnings, optional</p>
<blockquote>
<div><p>This specifies which warnings to configure as &#8216;raise&#8217; instead
of &#8216;warn&#8217; during the test execution.  Valid strings are:</p>
<blockquote>
<div><ul class="simple">
<li>&#8220;develop&#8221; : equals <code class="docutils literal"><span class="pre">(DeprecationWarning,</span> <span class="pre">RuntimeWarning)</span></code></li>
<li>&#8220;release&#8221; : equals <code class="docutils literal"><span class="pre">()</span></code>, don&#8217;t raise on any warnings.</li>
</ul>
</div></blockquote>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>result</strong> : object</p>
<blockquote class="last">
<div><p>Returns the result of running the tests as a
<code class="docutils literal"><span class="pre">nose.result.TextTestResult</span></code> object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Each NumPy module exposes <cite>test</cite> in its namespace to run all tests for it.
For example, to run all tests for numpy.lib:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">lib</span><span class="o">.</span><span class="n">test</span><span class="p">()</span> 
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">lib</span><span class="o">.</span><span class="n">test</span><span class="p">()</span> 
<span class="go">Running unit tests for numpy.lib</span>
<span class="gp">...</span>
<span class="go">Ran 976 tests in 3.933s</span>
</pre></div>
</div>
<p>OK</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">errors</span> 
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">knownfail</span> 
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="cart2sphere">
<h3>cart2sphere<a class="headerlink" href="#cart2sphere" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.geometry.cart2sphere">
<code class="descclassname">dipy.core.geometry.</code><code class="descname">cart2sphere</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>z</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.geometry.cart2sphere" title="Permalink to this definition">¶</a></dt>
<dd><p>Return angles for Cartesian 3D coordinates <cite>x</cite>, <cite>y</cite>, and <cite>z</cite></p>
<p>See doc for <code class="docutils literal"><span class="pre">sphere2cart</span></code> for angle conventions and derivation
of the formulae.</p>
<p><img class="math" src="../_images/math/346935f90515992011d04c787672710cdeb8fb18.png" alt="0 \le \theta \mathrm{(theta)} \le \pi"/> and <img class="math" src="../_images/math/583751e01b5ffdac0e25af38de5c194cc875c962.png" alt="0 \le \phi \mathrm{(phi)} \le 2 \pi"/></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : array-like</p>
<blockquote>
<div><p>x coordinate in Cartesion space</p>
</div></blockquote>
<p><strong>y</strong> : array-like</p>
<blockquote>
<div><p>y coordinate in Cartesian space</p>
</div></blockquote>
<p><strong>z</strong> : array-like</p>
<blockquote>
<div><p>z coordinate</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>r</strong> : array</p>
<blockquote>
<div><p>radius</p>
</div></blockquote>
<p><strong>theta</strong> : array</p>
<blockquote>
<div><p>inclination (polar) angle</p>
</div></blockquote>
<p><strong>phi</strong> : array</p>
<blockquote class="last">
<div><p>azimuth angle</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="cart-distance">
<h3>cart_distance<a class="headerlink" href="#cart-distance" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.geometry.cart_distance">
<code class="descclassname">dipy.core.geometry.</code><code class="descname">cart_distance</code><span class="sig-paren">(</span><em>pts1</em>, <em>pts2</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.geometry.cart_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Cartesian distance between <cite>pts1</cite> and <cite>pts2</cite></p>
<p>If either of <cite>pts1</cite> or <cite>pts2</cite> is 2D, then we take the first
dimension to index points, and the second indexes coordinate.  More
generally, we take the last dimension to be the coordinate
dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pts1</strong> : (N,R) or (R,) array-like</p>
<blockquote>
<div><p>where N is the number of points and R is the number of
coordinates defining a point (<code class="docutils literal"><span class="pre">R==3</span></code> for 3D)</p>
</div></blockquote>
<p><strong>pts2</strong> : (N,R) or (R,) array-like</p>
<blockquote>
<div><p>where N is the number of points and R is the number of
coordinates defining a point (<code class="docutils literal"><span class="pre">R==3</span></code> for 3D).  It should be
possible to broadcast <cite>pts1</cite> against <cite>pts2</cite></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>d</strong> : (N,) or (0,) array</p>
<blockquote class="last">
<div><p>Cartesian distances between corresponding points in <cite>pts1</cite> and
<cite>pts2</cite></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.sphere_distance" title="dipy.core.geometry.sphere_distance"><code class="xref py py-obj docutils literal"><span class="pre">sphere_distance</span></code></a></dt>
<dd>distance between points on sphere surface</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cart_distance</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">3.0</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="circumradius">
<h3>circumradius<a class="headerlink" href="#circumradius" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.geometry.circumradius">
<code class="descclassname">dipy.core.geometry.</code><code class="descname">circumradius</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>c</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.geometry.circumradius" title="Permalink to this definition">¶</a></dt>
<dd><p>a, b and c are 3-dimensional vectors which are the vertices of a
triangle. The function returns the circumradius of the triangle, i.e
the radius of the smallest circle that can contain the triangle. In
the degenerate case when the 3 points are collinear it returns
half the distance between the furthest apart points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a, b, c</strong> : (3,) arraylike</p>
<blockquote>
<div><p>the three vertices of the triangle</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>circumradius</strong> : float</p>
<blockquote class="last">
<div><p>the desired circumradius</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="compose-matrix">
<h3>compose_matrix<a class="headerlink" href="#compose-matrix" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.geometry.compose_matrix">
<code class="descclassname">dipy.core.geometry.</code><code class="descname">compose_matrix</code><span class="sig-paren">(</span><em>scale=None</em>, <em>shear=None</em>, <em>angles=None</em>, <em>translate=None</em>, <em>perspective=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.geometry.compose_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return 4x4 transformation matrix from sequence of
transformations.</p>
<p>Code modified from the work of Christoph Gohlke link provided here
<a class="reference external" href="http://www.lfd.uci.edu/~gohlke/code/transformations.py.html">http://www.lfd.uci.edu/~gohlke/code/transformations.py.html</a></p>
<p>This is the inverse of the decompose_matrix function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>scale</strong> : vector of 3 scaling factors</p>
<p><strong>shear</strong> : list of shear factors for x-y, x-z, y-z axes</p>
<p><strong>angles</strong> : list of Euler angles about static x, y, z axes</p>
<p><strong>translate</strong> : translation vector along x, y, z axes</p>
<p><strong>perspective</strong> : perspective partition of matrix</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>matrix</strong> : 4x4 array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">dipy.core.geometry</span> <span class="kn">as</span> <span class="nn">gm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scale</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shear</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">angles</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trans</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">persp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M0</span> <span class="o">=</span> <span class="n">gm</span><span class="o">.</span><span class="n">compose_matrix</span><span class="p">(</span><span class="n">scale</span><span class="p">,</span> <span class="n">shear</span><span class="p">,</span> <span class="n">angles</span><span class="p">,</span> <span class="n">trans</span><span class="p">,</span> <span class="n">persp</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="compose-transformations">
<h3>compose_transformations<a class="headerlink" href="#compose-transformations" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="decompose-matrix">
<h3>decompose_matrix<a class="headerlink" href="#decompose-matrix" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.geometry.decompose_matrix">
<code class="descclassname">dipy.core.geometry.</code><code class="descname">decompose_matrix</code><span class="sig-paren">(</span><em>matrix</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.geometry.decompose_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return sequence of transformations from transformation matrix.</p>
<p>Code modified from the excellent work of Christoph Gohlke link provided here
<a class="reference external" href="http://www.lfd.uci.edu/~gohlke/code/transformations.py.html">http://www.lfd.uci.edu/~gohlke/code/transformations.py.html</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>matrix</strong> : array_like</p>
<blockquote>
<div><p>Non-degenerative homogeneous transformation matrix</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>tuple of:</strong> :</p>
<blockquote>
<div><p>scale : vector of 3 scaling factors
shear : list of shear factors for x-y, x-z, y-z axes
angles : list of Euler angles about static x, y, z axes
translate : translation vector along x, y, z axes
perspective : perspective partition of matrix</p>
</div></blockquote>
<p class="last"><strong>Raise ValueError if matrix is of wrong type or degenerative.</strong> :</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T0</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scale</span><span class="p">,</span> <span class="n">shear</span><span class="p">,</span> <span class="n">angles</span><span class="p">,</span> <span class="n">trans</span><span class="p">,</span> <span class="n">persp</span> <span class="o">=</span> <span class="n">decompose_matrix</span><span class="p">(</span><span class="n">T0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="dist-to-corner">
<h3>dist_to_corner<a class="headerlink" href="#dist-to-corner" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="euler-matrix">
<h3>euler_matrix<a class="headerlink" href="#euler-matrix" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.geometry.euler_matrix">
<code class="descclassname">dipy.core.geometry.</code><code class="descname">euler_matrix</code><span class="sig-paren">(</span><em>ai</em>, <em>aj</em>, <em>ak</em>, <em>axes='sxyz'</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.geometry.euler_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return homogeneous rotation matrix from Euler angles and axis sequence.</p>
<p>Code modified from the work of Christoph Gohlke link provided here
<a class="reference external" href="http://www.lfd.uci.edu/~gohlke/code/transformations.py.html">http://www.lfd.uci.edu/~gohlke/code/transformations.py.html</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ai, aj, ak</strong> : Euler&#8217;s roll, pitch and yaw angles</p>
<p><strong>axes</strong> : One of 24 axis sequences as string or encoded tuple</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>matrix: 4x4 numpy array</strong> :</p>
<p><strong>Code modified from the work of Christoph Gohlke link provided here</strong> :</p>
<p class="last"><strong>http://www.lfd.uci.edu/~gohlke/code/transformations.py.html</strong> :</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">R</span> <span class="o">=</span> <span class="n">euler_matrix</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;syxz&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">R</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="o">-</span><span class="mf">1.34786452</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">R</span> <span class="o">=</span> <span class="n">euler_matrix</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">R</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="o">-</span><span class="mf">0.383436184</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ai</span><span class="p">,</span> <span class="n">aj</span><span class="p">,</span> <span class="n">ak</span> <span class="o">=</span> <span class="p">(</span><span class="mf">4.0</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">axes</span> <span class="ow">in</span> <span class="n">_AXES2TUPLE</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
<span class="gp">... </span>   <span class="n">R</span> <span class="o">=</span> <span class="n">euler_matrix</span><span class="p">(</span><span class="n">ai</span><span class="p">,</span> <span class="n">aj</span><span class="p">,</span> <span class="n">ak</span><span class="p">,</span> <span class="n">axes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">axes</span> <span class="ow">in</span> <span class="n">_TUPLE2AXES</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
<span class="gp">... </span>   <span class="n">R</span> <span class="o">=</span> <span class="n">euler_matrix</span><span class="p">(</span><span class="n">ai</span><span class="p">,</span> <span class="n">aj</span><span class="p">,</span> <span class="n">ak</span><span class="p">,</span> <span class="n">axes</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="lambert-equal-area-projection-cart">
<h3>lambert_equal_area_projection_cart<a class="headerlink" href="#lambert-equal-area-projection-cart" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.geometry.lambert_equal_area_projection_cart">
<code class="descclassname">dipy.core.geometry.</code><code class="descname">lambert_equal_area_projection_cart</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>z</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.geometry.lambert_equal_area_projection_cart" title="Permalink to this definition">¶</a></dt>
<dd><p>Lambert Equal Area Projection from cartesian vector to plane</p>
<p>Return positions in <img class="math" src="../_images/math/ed21220f044a64d3cbfd98d95151df2dd18bd98c.png" alt="(y_1,y_2)"/> plane corresponding to the
directions of the vectors with cartesian coordinates xyz under the
Lambert Equal Area Projection mapping (see Mardia and Jupp (2000),
Directional Statistics, p. 161).</p>
<p>The Lambert EAP maps the upper hemisphere to the planar disc of radius 1 
and the lower hemisphere to the planar annulus between radii 1 and 2, 
The Lambert EAP maps the upper hemisphere to the planar disc of radius 1 
and the lower hemisphere to the planar annulus between radii 1 and 2.
and <em>vice versa</em>.
See doc for <code class="docutils literal"><span class="pre">sphere2cart</span></code> for angle conventions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : array-like</p>
<blockquote>
<div><p>x coordinate in Cartesion space</p>
</div></blockquote>
<p><strong>y</strong> : array-like</p>
<blockquote>
<div><p>y coordinate in Cartesian space</p>
</div></blockquote>
<p><strong>z</strong> : array-like</p>
<blockquote>
<div><p>z coordinate</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>y</strong> : (N,2) array</p>
<blockquote class="last">
<div><p>planar coordinates of points following mapping by Lambert&#8217;s EAP.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="lambert-equal-area-projection-polar">
<h3>lambert_equal_area_projection_polar<a class="headerlink" href="#lambert-equal-area-projection-polar" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.geometry.lambert_equal_area_projection_polar">
<code class="descclassname">dipy.core.geometry.</code><code class="descname">lambert_equal_area_projection_polar</code><span class="sig-paren">(</span><em>theta</em>, <em>phi</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.geometry.lambert_equal_area_projection_polar" title="Permalink to this definition">¶</a></dt>
<dd><p>Lambert Equal Area Projection from polar sphere to plane</p>
<p>Return positions in (y1,y2) plane corresponding to the points
with polar coordinates (theta, phi) on the unit sphere, under the
Lambert Equal Area Projection mapping (see Mardia and Jupp (2000),
Directional Statistics, p. 161).</p>
<p>See doc for <code class="docutils literal"><span class="pre">sphere2cart</span></code> for angle conventions</p>
<ul class="simple">
<li><img class="math" src="../_images/math/5d0420d862c4c6f7366a9f8fc85a1c404dc5a991.png" alt="0 \le \theta \le \pi"/> and <img class="math" src="../_images/math/021ad4f4503ff8e162ae39f4ce5586465bb63540.png" alt="0 \le \phi \le 2 \pi"/></li>
<li><img class="math" src="../_images/math/77a70292d8d79607ccb05946cdec647feb445e2d.png" alt="|(y_1,y_2)| \le 2"/></li>
</ul>
<p>The Lambert EAP maps the upper hemisphere to the planar disc of radius 1 
and the lower hemisphere to the planar annulus between radii 1 and 2,
and <em>vice versa</em>.  
Parameters
&#8212;&#8212;&#8212;-
theta : array-like</p>
<blockquote>
<div>theta spherical coordinates</div></blockquote>
<dl class="docutils">
<dt>phi <span class="classifier-delimiter">:</span> <span class="classifier">array-like</span></dt>
<dd>phi spherical coordinates</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>y</strong> : (N,2) array</p>
<blockquote class="last">
<div><p>planar coordinates of points following mapping by Lambert&#8217;s EAP.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="nearest-pos-semi-def">
<h3>nearest_pos_semi_def<a class="headerlink" href="#nearest-pos-semi-def" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.geometry.nearest_pos_semi_def">
<code class="descclassname">dipy.core.geometry.</code><code class="descname">nearest_pos_semi_def</code><span class="sig-paren">(</span><em>B</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.geometry.nearest_pos_semi_def" title="Permalink to this definition">¶</a></dt>
<dd><p>Least squares positive semi-definite tensor estimation</p>
<p>Reference: Niethammer M, San Jose Estepar R, Bouix S, Shenton M,
Westin CF.  On diffusion tensor estimation. Conf Proc IEEE Eng Med
Biol Soc.  2006;1:2622-5. PubMed PMID: 17946125; PubMed Central
PMCID: PMC2791793.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>B</strong> : (3,3) array-like</p>
<blockquote>
<div><p>B matrix - symmetric. We do not check the symmetry.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>npds</strong> : (3,3) array</p>
<blockquote class="last">
<div><p>Estimated nearest positive semi-definite array to matrix <cite>B</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nearest_pos_semi_def</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="go">array([[ 0.75,  0.  ,  0.  ],</span>
<span class="go">       [ 0.  ,  0.75,  0.  ],</span>
<span class="go">       [ 0.  ,  0.  ,  0.  ]])</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="normalized-vector">
<h3>normalized_vector<a class="headerlink" href="#normalized-vector" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.geometry.normalized_vector">
<code class="descclassname">dipy.core.geometry.</code><code class="descname">normalized_vector</code><span class="sig-paren">(</span><em>vec</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.geometry.normalized_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Return vector divided by its Euclidean (L2) norm</p>
<p>See <a class="reference internal" href="../glossary.html#term-unit-vector"><span class="xref std std-term">unit vector</span></a> and <a class="reference internal" href="../glossary.html#term-euclidean-norm"><span class="xref std std-term">Euclidean norm</span></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vec</strong> : array-like shape (3,)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>nvec</strong> : array shape (3,)</p>
<blockquote class="last">
<div><p>vector divided by L2 norm</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">vec</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l2n</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span> <span class="n">vec</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nvec</span> <span class="o">=</span> <span class="n">normalized_vector</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span> <span class="o">/</span> <span class="n">l2n</span><span class="p">,</span> <span class="n">nvec</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vec</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">normalized_vector</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(3,)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="perpendicular-directions">
<h3>perpendicular_directions<a class="headerlink" href="#perpendicular-directions" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="rodrigues-axis-rotation">
<h3>rodrigues_axis_rotation<a class="headerlink" href="#rodrigues-axis-rotation" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="sph2latlon">
<h3>sph2latlon<a class="headerlink" href="#sph2latlon" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="sphere2cart">
<h3>sphere2cart<a class="headerlink" href="#sphere2cart" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.geometry.sphere2cart">
<code class="descclassname">dipy.core.geometry.</code><code class="descname">sphere2cart</code><span class="sig-paren">(</span><em>r</em>, <em>theta</em>, <em>phi</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.geometry.sphere2cart" title="Permalink to this definition">¶</a></dt>
<dd><p>Spherical to Cartesian coordinates</p>
<p>This is the standard physics convention where <cite>theta</cite> is the
inclination (polar) angle, and <cite>phi</cite> is the azimuth angle.</p>
<p>Imagine a sphere with center (0,0,0).  Orient it with the z axis
running south-&gt;north, the y axis running west-east and the x axis
from posterior to anterior.  <cite>theta</cite> (the inclination angle) is the
angle to rotate from the z-axis (the zenith) around the y-axis,
towards the x axis.  Thus the rotation is counter-clockwise from the
point of view of positive y.  <cite>phi</cite> (azimuth) gives the angle of
rotation around the z-axis towards the y axis.  The rotation is
counter-clockwise from the point of view of positive z.</p>
<p>Equivalently, given a point P on the sphere, with coordinates x, y,
z, <cite>theta</cite> is the angle between P and the z-axis, and <cite>phi</cite> is
the angle between the projection of P onto the XY plane, and the X
axis.</p>
<p>Geographical nomenclature designates theta as &#8216;co-latitude&#8217;, and phi
as &#8216;longitude&#8217;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>r</strong> : array-like</p>
<blockquote>
<div><p>radius</p>
</div></blockquote>
<p><strong>theta</strong> : array-like</p>
<blockquote>
<div><p>inclination or polar angle</p>
</div></blockquote>
<p><strong>phi</strong> : array-like</p>
<blockquote>
<div><p>azimuth angle</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>x</strong> : array</p>
<blockquote>
<div><p>x coordinate(s) in Cartesion space</p>
</div></blockquote>
<p><strong>y</strong> : array</p>
<blockquote>
<div><p>y coordinate(s) in Cartesian space</p>
</div></blockquote>
<p><strong>z</strong> : array</p>
<blockquote class="last">
<div><p>z coordinate</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>See these pages:</p>
<ul class="simple">
<li><a class="reference external" href="http://en.wikipedia.org/wiki/Spherical_coordinate_system">http://en.wikipedia.org/wiki/Spherical_coordinate_system</a></li>
<li><a class="reference external" href="http://mathworld.wolfram.com/SphericalCoordinates.html">http://mathworld.wolfram.com/SphericalCoordinates.html</a></li>
</ul>
<p>for excellent discussion of the many different conventions
possible.  Here we use the physics conventions, used in the
wikipedia page.</p>
<p>Derivations of the formulae are simple. Consider a vector x, y, z of
length r (norm of x, y, z).  The inclination angle (theta) can be
found from: cos(theta) == z / r -&gt; z == r * cos(theta).  This gives
the hypotenuse of the projection onto the XY plane, which we will
call Q. Q == r*sin(theta). Now x / Q == cos(phi) -&gt; x == r *
sin(theta) * cos(phi) and so on.</p>
<p>We have deliberately named this function <code class="docutils literal"><span class="pre">sphere2cart</span></code> rather than
<code class="docutils literal"><span class="pre">sph2cart</span></code> to distinguish it from the Matlab function of that
name, because the Matlab function uses an unusual convention for the
angles that we did not want to replicate.  The Matlab function is
trivial to implement with the formulae given in the Matlab help.</p>
</dd></dl>

</div>
<div class="section" id="sphere-distance">
<h3>sphere_distance<a class="headerlink" href="#sphere-distance" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.geometry.sphere_distance">
<code class="descclassname">dipy.core.geometry.</code><code class="descname">sphere_distance</code><span class="sig-paren">(</span><em>pts1</em>, <em>pts2</em>, <em>radius=None</em>, <em>check_radius=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.geometry.sphere_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance across sphere surface between <cite>pts1</cite> and <cite>pts2</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pts1</strong> : (N,R) or (R,) array-like</p>
<blockquote>
<div><p>where N is the number of points and R is the number of
coordinates defining a point (<code class="docutils literal"><span class="pre">R==3</span></code> for 3D)</p>
</div></blockquote>
<p><strong>pts2</strong> : (N,R) or (R,) array-like</p>
<blockquote>
<div><p>where N is the number of points and R is the number of
coordinates defining a point (<code class="docutils literal"><span class="pre">R==3</span></code> for 3D).  It should be
possible to broadcast <cite>pts1</cite> against <cite>pts2</cite></p>
</div></blockquote>
<p><strong>radius</strong> : None or float, optional</p>
<blockquote>
<div><p>Radius of sphere.  Default is to work out radius from mean of the
length of each point vector</p>
</div></blockquote>
<p><strong>check_radius</strong> : bool, optional</p>
<blockquote>
<div><p>If True, check if the points are on the sphere surface - i.e
check if the vector lengths in <cite>pts1</cite> and <cite>pts2</cite> are close to
<cite>radius</cite>.  Default is True.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>d</strong> : (N,) or (0,) array</p>
<blockquote class="last">
<div><p>Distances between corresponding points in <cite>pts1</cite> and <cite>pts2</cite>
across the spherical surface, i.e. the great circle distance</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.cart_distance" title="dipy.core.geometry.cart_distance"><code class="xref py py-obj docutils literal"><span class="pre">cart_distance</span></code></a></dt>
<dd>cartesian distance between points</dd>
<dt><a class="reference internal" href="dipy.core.geometry.html#dipy.core.geometry.vector_cosine" title="dipy.core.geometry.vector_cosine"><code class="xref py py-obj docutils literal"><span class="pre">vector_cosine</span></code></a></dt>
<dd>cosine of angle between vectors</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="s1">&#39;</span><span class="si">%.4f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">sphere_distance</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="go">1.5708</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="s1">&#39;</span><span class="si">%.4f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">sphere_distance</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="go">4.7124</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="vec2vec-rotmat">
<h3>vec2vec_rotmat<a class="headerlink" href="#vec2vec-rotmat" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="vector-cosine">
<h3>vector_cosine<a class="headerlink" href="#vector-cosine" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.geometry.vector_cosine">
<code class="descclassname">dipy.core.geometry.</code><code class="descname">vector_cosine</code><span class="sig-paren">(</span><em>vecs1</em>, <em>vecs2</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.geometry.vector_cosine" title="Permalink to this definition">¶</a></dt>
<dd><p>Cosine of angle between two (sets of) vectors</p>
<p>The cosine of the angle between two vectors <code class="docutils literal"><span class="pre">v1</span></code> and <code class="docutils literal"><span class="pre">v2</span></code> is
given by the inner product of <code class="docutils literal"><span class="pre">v1</span></code> and <code class="docutils literal"><span class="pre">v2</span></code> divided by the
product of the vector lengths:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">v_cos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">inner</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">v1</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span> <span class="o">*</span>
                            <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">v2</span><span class="o">**</span><span class="mi">2</span><span class="p">)))</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vecs1</strong> : (N, R) or (R,) array-like</p>
<blockquote>
<div><p>N vectors (as rows) or single vector.  Vectors have R elements.</p>
</div></blockquote>
<p><strong>vecs1</strong> : (N, R) or (R,) array-like</p>
<blockquote>
<div><p>N vectors (as rows) or single vector.  Vectors have R elements.
It should be possible to broadcast <cite>vecs1</cite> against <cite>vecs2</cite></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vcos</strong> : (N,) or (0,) array</p>
<blockquote class="last">
<div><p>Vector cosines.  To get the angles you will need <code class="docutils literal"><span class="pre">np.arccos</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The vector cosine will be the same as the correlation only if all
the input vectors have zero mean.</p>
</dd></dl>

</div>
<div class="section" id="vector-norm">
<h3>vector_norm<a class="headerlink" href="#vector-norm" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.geometry.vector_norm">
<code class="descclassname">dipy.core.geometry.</code><code class="descname">vector_norm</code><span class="sig-paren">(</span><em>data</em>, <em>axis=None</em>, <em>out=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.geometry.vector_norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return length, i.e. euclidean norm, of ndarray along axis.</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">vector_norm</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">vector_norm</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">v</span><span class="o">*</span><span class="n">v</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">vector_norm</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">v</span><span class="o">*</span><span class="n">v</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vector_norm</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">v</span><span class="o">*</span><span class="n">v</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vector_norm</span><span class="p">([])</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vector_norm</span><span class="p">([</span><span class="mf">1.0</span><span class="p">])</span>
<span class="go">1.0</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="gradienttable">
<h3><code class="xref py py-class docutils literal"><span class="pre">GradientTable</span></code><a class="headerlink" href="#gradienttable" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="auto-attr">
<h3>auto_attr<a class="headerlink" href="#auto-attr" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="gradient-table">
<h3>gradient_table<a class="headerlink" href="#gradient-table" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="gradient-table-from-bvals-bvecs">
<h3>gradient_table_from_bvals_bvecs<a class="headerlink" href="#gradient-table-from-bvals-bvecs" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="inv">
<h3>inv<a class="headerlink" href="#inv" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="polar">
<h3>polar<a class="headerlink" href="#polar" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="reorient-bvecs">
<h3>reorient_bvecs<a class="headerlink" href="#reorient-bvecs" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id5">
<h3>vector_norm<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="graph">
<h3><a class="reference internal" href="dipy.core.graph.html#dipy.core.graph.Graph" title="dipy.core.graph.Graph"><code class="xref py py-class docutils literal"><span class="pre">Graph</span></code></a><a class="headerlink" href="#graph" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.core.graph.Graph">
<em class="property">class </em><code class="descclassname">dipy.core.graph.</code><code class="descname">Graph</code><a class="headerlink" href="#dipy.core.graph.Graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>A simple graph class</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.graph.Graph.add_edge" title="dipy.core.graph.Graph.add_edge"><code class="xref py py-obj docutils literal"><span class="pre">add_edge</span></code></a>(n,&nbsp;m[,&nbsp;ws,&nbsp;wp])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.core.graph.Graph.add_node" title="dipy.core.graph.Graph.add_node"><code class="xref py py-obj docutils literal"><span class="pre">add_node</span></code></a>(n[,&nbsp;attr])</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.graph.Graph.all_paths" title="dipy.core.graph.Graph.all_paths"><code class="xref py py-obj docutils literal"><span class="pre">all_paths</span></code></a>(graph,&nbsp;start[,&nbsp;end,&nbsp;path])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.core.graph.Graph.children" title="dipy.core.graph.Graph.children"><code class="xref py py-obj docutils literal"><span class="pre">children</span></code></a>(n)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.graph.Graph.del_node" title="dipy.core.graph.Graph.del_node"><code class="xref py py-obj docutils literal"><span class="pre">del_node</span></code></a>(n)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.core.graph.Graph.del_node_and_edges" title="dipy.core.graph.Graph.del_node_and_edges"><code class="xref py py-obj docutils literal"><span class="pre">del_node_and_edges</span></code></a>(n)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.graph.Graph.down" title="dipy.core.graph.Graph.down"><code class="xref py py-obj docutils literal"><span class="pre">down</span></code></a>(n)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.core.graph.Graph.down_short" title="dipy.core.graph.Graph.down_short"><code class="xref py py-obj docutils literal"><span class="pre">down_short</span></code></a>(n)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.graph.Graph.parents" title="dipy.core.graph.Graph.parents"><code class="xref py py-obj docutils literal"><span class="pre">parents</span></code></a>(n)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.core.graph.Graph.shortest_path" title="dipy.core.graph.Graph.shortest_path"><code class="xref py py-obj docutils literal"><span class="pre">shortest_path</span></code></a>(graph,&nbsp;start[,&nbsp;end,&nbsp;path])</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.graph.Graph.up" title="dipy.core.graph.Graph.up"><code class="xref py py-obj docutils literal"><span class="pre">up</span></code></a>(n)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.core.graph.Graph.up_short" title="dipy.core.graph.Graph.up_short"><code class="xref py py-obj docutils literal"><span class="pre">up_short</span></code></a>(n)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.core.graph.Graph.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.graph.Graph.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>A graph class with nodes and edges :-)</p>
<p>This class allows us to:</p>
<ol class="arabic simple">
<li>find the shortest path</li>
<li>find all paths</li>
<li>add/delete nodes and edges</li>
<li>get parent &amp; children nodes</li>
</ol>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.core.graph</span> <span class="kn">import</span> <span class="n">Graph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">=</span><span class="n">Graph</span><span class="p">()</span>    
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">up_short</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="go">[&#39;d&#39;, &#39;b&#39;, &#39;a&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="dipy.core.graph.Graph.add_edge">
<code class="descname">add_edge</code><span class="sig-paren">(</span><em>n</em>, <em>m</em>, <em>ws=True</em>, <em>wp=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.graph.Graph.add_edge" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.core.graph.Graph.add_node">
<code class="descname">add_node</code><span class="sig-paren">(</span><em>n</em>, <em>attr=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.graph.Graph.add_node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.core.graph.Graph.all_paths">
<code class="descname">all_paths</code><span class="sig-paren">(</span><em>graph</em>, <em>start</em>, <em>end=None</em>, <em>path=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.graph.Graph.all_paths" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.core.graph.Graph.children">
<code class="descname">children</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.graph.Graph.children" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.core.graph.Graph.del_node">
<code class="descname">del_node</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.graph.Graph.del_node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.core.graph.Graph.del_node_and_edges">
<code class="descname">del_node_and_edges</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.graph.Graph.del_node_and_edges" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.core.graph.Graph.down">
<code class="descname">down</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.graph.Graph.down" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.core.graph.Graph.down_short">
<code class="descname">down_short</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.graph.Graph.down_short" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.core.graph.Graph.parents">
<code class="descname">parents</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.graph.Graph.parents" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.core.graph.Graph.shortest_path">
<code class="descname">shortest_path</code><span class="sig-paren">(</span><em>graph</em>, <em>start</em>, <em>end=None</em>, <em>path=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.graph.Graph.shortest_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.core.graph.Graph.up">
<code class="descname">up</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.graph.Graph.up" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.core.graph.Graph.up_short">
<code class="descname">up_short</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.graph.Graph.up_short" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="histeq">
<h3>histeq<a class="headerlink" href="#histeq" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.histeq.histeq">
<code class="descclassname">dipy.core.histeq.</code><code class="descname">histeq</code><span class="sig-paren">(</span><em>arr</em>, <em>num_bins=256</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.histeq.histeq" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs an histogram equalization on <code class="docutils literal"><span class="pre">arr</span></code>.
This was taken from:
<a class="reference external" href="http://www.janeriksolem.net/2009/06/histogram-equalization-with-python-and.html">http://www.janeriksolem.net/2009/06/histogram-equalization-with-python-and.html</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>arr</strong> : ndarray</p>
<blockquote>
<div><p>Image on which to perform histogram equalization.</p>
</div></blockquote>
<p><strong>num_bins</strong> : int</p>
<blockquote>
<div><p>Number of bins used to construct the histogram.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>result</strong> : ndarray</p>
<blockquote class="last">
<div><p>Histogram equalized image.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="as-strided">
<h3>as_strided<a class="headerlink" href="#as-strided" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.ndindex.as_strided">
<code class="descclassname">dipy.core.ndindex.</code><code class="descname">as_strided</code><span class="sig-paren">(</span><em>x</em>, <em>shape=None</em>, <em>strides=None</em>, <em>subok=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.ndindex.as_strided" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an ndarray from the given array with the given shape and strides.</p>
</dd></dl>

</div>
<div class="section" id="ndindex">
<h3>ndindex<a class="headerlink" href="#ndindex" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.ndindex.ndindex">
<code class="descclassname">dipy.core.ndindex.</code><code class="descname">ndindex</code><span class="sig-paren">(</span><em>shape</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.ndindex.ndindex" title="Permalink to this definition">¶</a></dt>
<dd><p>An N-dimensional iterator object to index arrays.</p>
<p>Given the shape of an array, an <cite>ndindex</cite> instance iterates over
the N-dimensional index of the array. At each iteration a tuple
of indices is returned; the last dimension is iterated over first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>shape</strong> : tuple of ints</p>
<blockquote class="last">
<div><p>The dimensions of the array.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.core.ndindex</span> <span class="kn">import</span> <span class="n">ndindex</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">ndindex</span><span class="p">(</span><span class="n">shape</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
<span class="go">(0, 0, 0)</span>
<span class="go">(0, 1, 0)</span>
<span class="go">(1, 0, 0)</span>
<span class="go">(1, 1, 0)</span>
<span class="go">(2, 0, 0)</span>
<span class="go">(2, 1, 0)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="onetimeproperty">
<h3><a class="reference internal" href="dipy.core.onetime.html#dipy.core.onetime.OneTimeProperty" title="dipy.core.onetime.OneTimeProperty"><code class="xref py py-class docutils literal"><span class="pre">OneTimeProperty</span></code></a><a class="headerlink" href="#onetimeproperty" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.core.onetime.OneTimeProperty">
<em class="property">class </em><code class="descclassname">dipy.core.onetime.</code><code class="descname">OneTimeProperty</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.onetime.OneTimeProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>A descriptor to make special properties that become normal attributes.</p>
<dl class="method">
<dt id="dipy.core.onetime.OneTimeProperty.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.onetime.OneTimeProperty.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a OneTimeProperty instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>func</strong> : method</p>
<blockquote class="last">
<div><p>The method that will be called the first time to compute a value.
Afterwards, the method&#8217;s name will be a standard attribute holding
the value of this computation.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="resetmixin">
<h3><code class="xref py py-class docutils literal"><span class="pre">ResetMixin</span></code><a class="headerlink" href="#resetmixin" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id6">
<h3>auto_attr<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="setattr-on-read">
<h3>setattr_on_read<a class="headerlink" href="#setattr-on-read" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.onetime.setattr_on_read">
<code class="descclassname">dipy.core.onetime.</code><code class="descname">setattr_on_read</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.onetime.setattr_on_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to create OneTimeProperty attributes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>func</strong> : method</p>
<blockquote class="last">
<div><p>The method that will be called the first time to compute a value.
Afterwards, the method&#8217;s name will be a standard attribute holding the
value of this computation.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MagicProp</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@setattr_on_read</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">a</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="mi">99</span>
<span class="gp">... </span>    
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">MagicProp</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;a&#39;</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">__dict__</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">a</span>
<span class="go">99</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;a&#39;</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">__dict__</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="looseversion">
<h3><a class="reference internal" href="#dipy.core.optimize.LooseVersion" title="dipy.core.optimize.LooseVersion"><code class="xref py py-class docutils literal"><span class="pre">LooseVersion</span></code></a><a class="headerlink" href="#looseversion" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.core.optimize.LooseVersion">
<em class="property">class </em><code class="descclassname">dipy.core.optimize.</code><code class="descname">LooseVersion</code><span class="sig-paren">(</span><em>vstring=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.LooseVersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">distutils.version.Version</span></code></p>
<p>Version numbering for anarchists and software realists.
Implements the standard interface for version number classes as
described above.  A version number consists of a series of numbers,
separated by either periods or strings of letters.  When comparing
version numbers, the numeric components will be compared
numerically, and the alphabetic components lexically.  The following
are all valid version numbers, in no particular order:</p>
<blockquote>
<div>1.5.1
1.5.2b2
161
3.10a
8.02
3.4j
1996.07.12
3.2.pl0
3.1.1.6
2g6
11g
0.960923
2.2beta29
1.13++
5.5.kw
2.0b1pl0</div></blockquote>
<p>In fact, there is no such thing as an invalid version number under
this scheme; the rules for comparison are simple and predictable,
but may not always give the results you want (for some definition
of &#8220;want&#8221;).</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.optimize.LooseVersion.parse" title="dipy.core.optimize.LooseVersion.parse"><code class="xref py py-obj docutils literal"><span class="pre">parse</span></code></a>(vstring)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.core.optimize.LooseVersion.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>vstring=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.LooseVersion.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dipy.core.optimize.LooseVersion.component_re">
<code class="descname">component_re</code><em class="property"> = &lt;_sre.SRE_Pattern object&gt;</em><a class="headerlink" href="#dipy.core.optimize.LooseVersion.component_re" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.core.optimize.LooseVersion.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>vstring</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.LooseVersion.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="nonnegativeleastsquares">
<h3><a class="reference internal" href="#dipy.core.optimize.NonNegativeLeastSquares" title="dipy.core.optimize.NonNegativeLeastSquares"><code class="xref py py-class docutils literal"><span class="pre">NonNegativeLeastSquares</span></code></a><a class="headerlink" href="#nonnegativeleastsquares" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.core.optimize.NonNegativeLeastSquares">
<em class="property">class </em><code class="descclassname">dipy.core.optimize.</code><code class="descname">NonNegativeLeastSquares</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.NonNegativeLeastSquares" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.core.optimize.SKLearnLinearSolver" title="dipy.core.optimize.SKLearnLinearSolver"><code class="xref py py-class docutils literal"><span class="pre">dipy.core.optimize.SKLearnLinearSolver</span></code></a></p>
<p>A sklearn-like interface to scipy.optimize.nnls</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.optimize.NonNegativeLeastSquares.fit" title="dipy.core.optimize.NonNegativeLeastSquares.fit"><code class="xref py py-obj docutils literal"><span class="pre">fit</span></code></a>(X,&nbsp;y)</td>
<td>Fit the NonNegativeLeastSquares linear model to data</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">predict</span></code>(X)</td>
<td>Predict using the result of the model</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.core.optimize.NonNegativeLeastSquares.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.NonNegativeLeastSquares.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.core.optimize.NonNegativeLeastSquares.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>X</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.NonNegativeLeastSquares.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the NonNegativeLeastSquares linear model to data</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="optimizer">
<h3><a class="reference internal" href="#dipy.core.optimize.Optimizer" title="dipy.core.optimize.Optimizer"><code class="xref py py-class docutils literal"><span class="pre">Optimizer</span></code></a><a class="headerlink" href="#optimizer" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.core.optimize.Optimizer">
<em class="property">class </em><code class="descclassname">dipy.core.optimize.</code><code class="descname">Optimizer</code><span class="sig-paren">(</span><em>fun</em>, <em>x0</em>, <em>args=()</em>, <em>method='L-BFGS-B'</em>, <em>jac=None</em>, <em>hess=None</em>, <em>hessp=None</em>, <em>bounds=None</em>, <em>constraints=()</em>, <em>tol=None</em>, <em>callback=None</em>, <em>options=None</em>, <em>evolution=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.Optimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.optimize.Optimizer.print_summary" title="dipy.core.optimize.Optimizer.print_summary"><code class="xref py py-obj docutils literal"><span class="pre">print_summary</span></code></a>()</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.core.optimize.Optimizer.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>fun</em>, <em>x0</em>, <em>args=()</em>, <em>method='L-BFGS-B'</em>, <em>jac=None</em>, <em>hess=None</em>, <em>hessp=None</em>, <em>bounds=None</em>, <em>constraints=()</em>, <em>tol=None</em>, <em>callback=None</em>, <em>options=None</em>, <em>evolution=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.Optimizer.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for handling minimization of scalar function of one or more
variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fun</strong> : callable</p>
<blockquote>
<div><p>Objective function.</p>
</div></blockquote>
<p><strong>x0</strong> : ndarray</p>
<blockquote>
<div><p>Initial guess.</p>
</div></blockquote>
<p><strong>args</strong> : tuple, optional</p>
<blockquote>
<div><p>Extra arguments passed to the objective function and its
derivatives (Jacobian, Hessian).</p>
</div></blockquote>
<p><strong>method</strong> : str, optional</p>
<blockquote>
<div><p>Type of solver.  Should be one of</p>
<blockquote>
<div><ul class="simple">
<li>&#8216;Nelder-Mead&#8217;</li>
<li>&#8216;Powell&#8217;</li>
<li>&#8216;CG&#8217;</li>
<li>&#8216;BFGS&#8217;</li>
<li>&#8216;Newton-CG&#8217;</li>
<li>&#8216;Anneal&#8217;</li>
<li>&#8216;L-BFGS-B&#8217;</li>
<li>&#8216;TNC&#8217;</li>
<li>&#8216;COBYLA&#8217;</li>
<li>&#8216;SLSQP&#8217;</li>
<li>&#8216;dogleg&#8217;</li>
<li>&#8216;trust-ncg&#8217;</li>
</ul>
</div></blockquote>
</div></blockquote>
<p><strong>jac</strong> : bool or callable, optional</p>
<blockquote>
<div><p>Jacobian of objective function. Only for CG, BFGS, Newton-CG,
dogleg, trust-ncg.
If <cite>jac</cite> is a Boolean and is True, <cite>fun</cite> is assumed to return the
value of Jacobian along with the objective function. If False, the
Jacobian will be estimated numerically.
<cite>jac</cite> can also be a callable returning the Jacobian of the
objective. In this case, it must accept the same arguments
as <cite>fun</cite>.</p>
</div></blockquote>
<p><strong>hess, hessp</strong> : callable, optional</p>
<blockquote>
<div><p>Hessian of objective function or Hessian of objective function
times an arbitrary vector p.  Only for Newton-CG,
dogleg, trust-ncg.
Only one of <cite>hessp</cite> or <cite>hess</cite> needs to be given.  If <cite>hess</cite> is
provided, then <cite>hessp</cite> will be ignored.  If neither <cite>hess</cite> nor
<cite>hessp</cite> is provided, then the hessian product will be approximated
using finite differences on <cite>jac</cite>. <cite>hessp</cite> must compute the Hessian
times an arbitrary vector.</p>
</div></blockquote>
<p><strong>bounds</strong> : sequence, optional</p>
<blockquote>
<div><p>Bounds for variables (only for L-BFGS-B, TNC and SLSQP).
<code class="docutils literal"><span class="pre">(min,</span> <span class="pre">max)</span></code> pairs for each element in <code class="docutils literal"><span class="pre">x</span></code>, defining
the bounds on that parameter. Use None for one of <code class="docutils literal"><span class="pre">min</span></code> or
<code class="docutils literal"><span class="pre">max</span></code> when there is no bound in that direction.</p>
</div></blockquote>
<p><strong>constraints</strong> : dict or sequence of dict, optional</p>
<blockquote>
<div><p>Constraints definition (only for COBYLA and SLSQP).
Each constraint is defined in a dictionary with fields:</p>
<blockquote>
<div><dl class="docutils">
<dt>type <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Constraint type: &#8216;eq&#8217; for equality, &#8216;ineq&#8217; for inequality.</p>
</dd>
<dt>fun <span class="classifier-delimiter">:</span> <span class="classifier">callable</span></dt>
<dd><p class="first last">The function defining the constraint.</p>
</dd>
<dt>jac <span class="classifier-delimiter">:</span> <span class="classifier">callable, optional</span></dt>
<dd><p class="first last">The Jacobian of <cite>fun</cite> (only for SLSQP).</p>
</dd>
<dt>args <span class="classifier-delimiter">:</span> <span class="classifier">sequence, optional</span></dt>
<dd><p class="first last">Extra arguments to be passed to the function and Jacobian.</p>
</dd>
</dl>
</div></blockquote>
<p>Equality constraint means that the constraint function result is to
be zero whereas inequality means that it is to be non-negative.
Note that COBYLA only supports inequality constraints.</p>
</div></blockquote>
<p><strong>tol</strong> : float, optional</p>
<blockquote>
<div><p>Tolerance for termination. For detailed control, use
solver-specific options.</p>
</div></blockquote>
<p><strong>callback</strong> : callable, optional</p>
<blockquote>
<div><p>Called after each iteration, as <code class="docutils literal"><span class="pre">callback(xk)</span></code>, where <code class="docutils literal"><span class="pre">xk</span></code> is
the current parameter vector. Only available using Scipy &gt;= 0.12.</p>
</div></blockquote>
<p><strong>options</strong> : dict, optional</p>
<blockquote>
<div><p>A dictionary of solver options. All methods accept the following
generic options:</p>
<blockquote>
<div><dl class="docutils">
<dt>maxiter <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">Maximum number of iterations to perform.</p>
</dd>
<dt>disp <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">Set to True to print convergence messages.</p>
</dd>
</dl>
</div></blockquote>
<p>For method-specific options, see
<cite>show_options(&#8216;minimize&#8217;, method)</cite>.</p>
</div></blockquote>
<p><strong>evolution</strong> : bool, optional</p>
<blockquote class="last">
<div><p>save history of x for each iteration. Only available using Scipy
&gt;= 0.12.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">scipy.optimize.minimize</span></code></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="dipy.core.optimize.Optimizer.evolution">
<code class="descname">evolution</code><a class="headerlink" href="#dipy.core.optimize.Optimizer.evolution" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dipy.core.optimize.Optimizer.fopt">
<code class="descname">fopt</code><a class="headerlink" href="#dipy.core.optimize.Optimizer.fopt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dipy.core.optimize.Optimizer.message">
<code class="descname">message</code><a class="headerlink" href="#dipy.core.optimize.Optimizer.message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dipy.core.optimize.Optimizer.nfev">
<code class="descname">nfev</code><a class="headerlink" href="#dipy.core.optimize.Optimizer.nfev" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dipy.core.optimize.Optimizer.nit">
<code class="descname">nit</code><a class="headerlink" href="#dipy.core.optimize.Optimizer.nit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.core.optimize.Optimizer.print_summary">
<code class="descname">print_summary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.Optimizer.print_summary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dipy.core.optimize.Optimizer.xopt">
<code class="descname">xopt</code><a class="headerlink" href="#dipy.core.optimize.Optimizer.xopt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="sklearnlinearsolver">
<h3><a class="reference internal" href="#dipy.core.optimize.SKLearnLinearSolver" title="dipy.core.optimize.SKLearnLinearSolver"><code class="xref py py-class docutils literal"><span class="pre">SKLearnLinearSolver</span></code></a><a class="headerlink" href="#sklearnlinearsolver" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.core.optimize.SKLearnLinearSolver">
<em class="property">class </em><code class="descclassname">dipy.core.optimize.</code><code class="descname">SKLearnLinearSolver</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.SKLearnLinearSolver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">abc.NewBase</span></code></p>
<p>Provide a sklearn-like uniform interface to algorithms that solve problems
of the form: <img class="math" src="../_images/math/66e2721b3fec3e56e1f27411551205be6f4f190f.png" alt="y = Ax"/> for <img class="math" src="../_images/math/188c175aac0a8a9c22499336711b5d7256407254.png" alt="x"/></p>
<p>Sub-classes of SKLearnLinearSolver should provide a &#8216;fit&#8217; method that have
the following signature: <cite>SKLearnLinearSolver.fit(X, y)</cite>, which would set
an attribute <cite>SKLearnLinearSolver.coef_</cite>, with the shape (X.shape[1],),
such that an estimate of y can be calculated as:
<cite>y_hat = np.dot(X, SKLearnLinearSolver.coef_.T)</cite></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.core.optimize.SKLearnLinearSolver.fit" title="dipy.core.optimize.SKLearnLinearSolver.fit"><code class="xref py py-obj docutils literal"><span class="pre">fit</span></code></a>(X,&nbsp;y)</td>
<td>Implement for all derived classes</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.core.optimize.SKLearnLinearSolver.predict" title="dipy.core.optimize.SKLearnLinearSolver.predict"><code class="xref py py-obj docutils literal"><span class="pre">predict</span></code></a>(X)</td>
<td>Predict using the result of the model</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.core.optimize.SKLearnLinearSolver.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.SKLearnLinearSolver.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.core.optimize.SKLearnLinearSolver.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>X</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.SKLearnLinearSolver.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement for all derived classes</p>
</dd></dl>

<dl class="method">
<dt id="dipy.core.optimize.SKLearnLinearSolver.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.SKLearnLinearSolver.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict using the result of the model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>X</strong> : array-like (n_samples, n_features)</p>
<blockquote>
<div><p>Samples.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>C</strong> : array, shape = (n_samples,)</p>
<blockquote class="last">
<div><p>Predicted values.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="minimize">
<h3>minimize<a class="headerlink" href="#minimize" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.optimize.minimize">
<code class="descclassname">dipy.core.optimize.</code><code class="descname">minimize</code><span class="sig-paren">(</span><em>fun</em>, <em>x0</em>, <em>args=()</em>, <em>method=None</em>, <em>jac=None</em>, <em>hess=None</em>, <em>hessp=None</em>, <em>bounds=None</em>, <em>constraints=()</em>, <em>tol=None</em>, <em>callback=None</em>, <em>options=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.minimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimization of scalar function of one or more variables.</p>
<p>In general, the optimization problems are of the form:</p>
<p>minimize f(x)</p>
<p>subject to:</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">g_i(x)</span> <span class="pre">&gt;=</span> <span class="pre">0</span></code>, i = 1,...,m
<code class="docutils literal"><span class="pre">h_j(x)</span>&nbsp; <span class="pre">=</span> <span class="pre">0</span></code>, j = 1,...,p</div></blockquote>
<p>Where x is a vector of one or more variables.
<code class="docutils literal"><span class="pre">g_i(x)</span></code> are the inequality constraints.
<code class="docutils literal"><span class="pre">h_j(x)</span></code> are the equality constrains.</p>
<p>Optionally, the lower and upper bounds for each element in x can also be specified 
using the <cite>bounds</cite> argument.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fun</strong> : callable</p>
<blockquote>
<div><p>Objective function.</p>
</div></blockquote>
<p><strong>x0</strong> : ndarray</p>
<blockquote>
<div><p>Initial guess.</p>
</div></blockquote>
<p><strong>args</strong> : tuple, optional</p>
<blockquote>
<div><p>Extra arguments passed to the objective function and its
derivatives (Jacobian, Hessian).</p>
</div></blockquote>
<p><strong>method</strong> : str or callable, optional</p>
<blockquote>
<div><p>Type of solver.  Should be one of</p>
<blockquote>
<div><ul class="simple">
<li>&#8216;Nelder-Mead&#8217; <span class="xref std std-ref">(see here)</span></li>
<li>&#8216;Powell&#8217;      <span class="xref std std-ref">(see here)</span></li>
<li>&#8216;CG&#8217;          <span class="xref std std-ref">(see here)</span></li>
<li>&#8216;BFGS&#8217;        <span class="xref std std-ref">(see here)</span></li>
<li>&#8216;Newton-CG&#8217;   <span class="xref std std-ref">(see here)</span></li>
<li>&#8216;L-BFGS-B&#8217;    <span class="xref std std-ref">(see here)</span></li>
<li>&#8216;TNC&#8217;         <span class="xref std std-ref">(see here)</span></li>
<li>&#8216;COBYLA&#8217;      <span class="xref std std-ref">(see here)</span></li>
<li>&#8216;SLSQP&#8217;       <span class="xref std std-ref">(see here)</span></li>
<li>&#8216;dogleg&#8217;      <span class="xref std std-ref">(see here)</span></li>
<li>&#8216;trust-ncg&#8217;   <span class="xref std std-ref">(see here)</span></li>
<li>custom - a callable object (added in version 0.14.0),
see below for description.</li>
</ul>
</div></blockquote>
<p>If not given, chosen to be one of <code class="docutils literal"><span class="pre">BFGS</span></code>, <code class="docutils literal"><span class="pre">L-BFGS-B</span></code>, <code class="docutils literal"><span class="pre">SLSQP</span></code>,
depending if the problem has constraints or bounds.</p>
</div></blockquote>
<p><strong>jac</strong> : bool or callable, optional</p>
<blockquote>
<div><p>Jacobian (gradient) of objective function. Only for CG, BFGS,
Newton-CG, L-BFGS-B, TNC, SLSQP, dogleg, trust-ncg.
If <cite>jac</cite> is a Boolean and is True, <cite>fun</cite> is assumed to return the
gradient along with the objective function. If False, the
gradient will be estimated numerically.
<cite>jac</cite> can also be a callable returning the gradient of the
objective. In this case, it must accept the same arguments as <cite>fun</cite>.</p>
</div></blockquote>
<p><strong>hess, hessp</strong> : callable, optional</p>
<blockquote>
<div><p>Hessian (matrix of second-order derivatives) of objective function or
Hessian of objective function times an arbitrary vector p.  Only for
Newton-CG, dogleg, trust-ncg.
Only one of <cite>hessp</cite> or <cite>hess</cite> needs to be given.  If <cite>hess</cite> is
provided, then <cite>hessp</cite> will be ignored.  If neither <cite>hess</cite> nor
<cite>hessp</cite> is provided, then the Hessian product will be approximated
using finite differences on <cite>jac</cite>. <cite>hessp</cite> must compute the Hessian
times an arbitrary vector.</p>
</div></blockquote>
<p><strong>bounds</strong> : sequence, optional</p>
<blockquote>
<div><p>Bounds for variables (only for L-BFGS-B, TNC and SLSQP).
<code class="docutils literal"><span class="pre">(min,</span> <span class="pre">max)</span></code> pairs for each element in <code class="docutils literal"><span class="pre">x</span></code>, defining
the bounds on that parameter. Use None for one of <code class="docutils literal"><span class="pre">min</span></code> or
<code class="docutils literal"><span class="pre">max</span></code> when there is no bound in that direction.</p>
</div></blockquote>
<p><strong>constraints</strong> : dict or sequence of dict, optional</p>
<blockquote>
<div><p>Constraints definition (only for COBYLA and SLSQP).
Each constraint is defined in a dictionary with fields:</p>
<blockquote>
<div><dl class="docutils">
<dt>type <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Constraint type: &#8216;eq&#8217; for equality, &#8216;ineq&#8217; for inequality.</p>
</dd>
<dt>fun <span class="classifier-delimiter">:</span> <span class="classifier">callable</span></dt>
<dd><p class="first last">The function defining the constraint.</p>
</dd>
<dt>jac <span class="classifier-delimiter">:</span> <span class="classifier">callable, optional</span></dt>
<dd><p class="first last">The Jacobian of <cite>fun</cite> (only for SLSQP).</p>
</dd>
<dt>args <span class="classifier-delimiter">:</span> <span class="classifier">sequence, optional</span></dt>
<dd><p class="first last">Extra arguments to be passed to the function and Jacobian.</p>
</dd>
</dl>
</div></blockquote>
<p>Equality constraint means that the constraint function result is to
be zero whereas inequality means that it is to be non-negative.
Note that COBYLA only supports inequality constraints.</p>
</div></blockquote>
<p><strong>tol</strong> : float, optional</p>
<blockquote>
<div><p>Tolerance for termination. For detailed control, use solver-specific
options.</p>
</div></blockquote>
<p><strong>options</strong> : dict, optional</p>
<blockquote>
<div><p>A dictionary of solver options. All methods accept the following
generic options:</p>
<blockquote>
<div><dl class="docutils">
<dt>maxiter <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">Maximum number of iterations to perform.</p>
</dd>
<dt>disp <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">Set to True to print convergence messages.</p>
</dd>
</dl>
</div></blockquote>
<p>For method-specific options, see <code class="xref py py-func docutils literal"><span class="pre">show_options()</span></code>.</p>
</div></blockquote>
<p><strong>callback</strong> : callable, optional</p>
<blockquote>
<div><p>Called after each iteration, as <code class="docutils literal"><span class="pre">callback(xk)</span></code>, where <code class="docutils literal"><span class="pre">xk</span></code> is the
current parameter vector.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>res</strong> : OptimizeResult</p>
<blockquote class="last">
<div><p>The optimization result represented as a <code class="docutils literal"><span class="pre">OptimizeResult</span></code> object.
Important attributes are: <code class="docutils literal"><span class="pre">x</span></code> the solution array, <code class="docutils literal"><span class="pre">success</span></code> a
Boolean flag indicating if the optimizer exited successfully and
<code class="docutils literal"><span class="pre">message</span></code> which describes the cause of the termination. See
<cite>OptimizeResult</cite> for a description of other attributes.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><code class="xref py py-obj docutils literal"><span class="pre">minimize_scalar</span></code></dt>
<dd>Interface to minimization algorithms for scalar univariate functions</dd>
<dt><code class="xref py py-obj docutils literal"><span class="pre">show_options</span></code></dt>
<dd>Additional options accepted by the solvers</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>This section describes the available solvers that can be selected by the
&#8216;method&#8217; parameter. The default method is <em>BFGS</em>.</p>
<p><strong>Unconstrained minimization</strong></p>
<p>Method <span class="xref std std-ref">Nelder-Mead</span> uses the
Simplex algorithm <a class="reference internal" href="#r14" id="id7">[R14]</a>, <a class="reference internal" href="#r15" id="id8">[R15]</a>. This algorithm has been successful
in many applications but other algorithms using the first and/or
second derivatives information might be preferred for their better
performances and robustness in general.</p>
<p>Method <span class="xref std std-ref">Powell</span> is a modification
of Powell&#8217;s method <a class="reference internal" href="#r16" id="id9">[R16]</a>, <a class="reference internal" href="#r17" id="id10">[R17]</a> which is a conjugate direction
method. It performs sequential one-dimensional minimizations along
each vector of the directions set (<cite>direc</cite> field in <cite>options</cite> and
<cite>info</cite>), which is updated at each iteration of the main
minimization loop. The function need not be differentiable, and no
derivatives are taken.</p>
<p>Method <span class="xref std std-ref">CG</span> uses a nonlinear conjugate
gradient algorithm by Polak and Ribiere, a variant of the
Fletcher-Reeves method described in <a class="reference internal" href="#r18" id="id11">[R18]</a> pp.  120-122. Only the
first derivatives are used.</p>
<p>Method <span class="xref std std-ref">BFGS</span> uses the quasi-Newton
method of Broyden, Fletcher, Goldfarb, and Shanno (BFGS) <a class="reference internal" href="#r18" id="id12">[R18]</a>
pp. 136. It uses the first derivatives only. BFGS has proven good
performance even for non-smooth optimizations. This method also
returns an approximation of the Hessian inverse, stored as
<cite>hess_inv</cite> in the OptimizeResult object.</p>
<p>Method <span class="xref std std-ref">Newton-CG</span> uses a
Newton-CG algorithm <a class="reference internal" href="#r18" id="id13">[R18]</a> pp. 168 (also known as the truncated
Newton method). It uses a CG method to the compute the search
direction. See also <em>TNC</em> method for a box-constrained
minimization with a similar algorithm.</p>
<p>Method <span class="xref std std-ref">dogleg</span> uses the dog-leg
trust-region algorithm <a class="reference internal" href="#r18" id="id14">[R18]</a> for unconstrained minimization. This
algorithm requires the gradient and Hessian; furthermore the
Hessian is required to be positive definite.</p>
<p>Method <span class="xref std std-ref">trust-ncg</span> uses the
Newton conjugate gradient trust-region algorithm <a class="reference internal" href="#r18" id="id15">[R18]</a> for
unconstrained minimization. This algorithm requires the gradient
and either the Hessian or a function that computes the product of
the Hessian with a given vector.</p>
<p><strong>Constrained minimization</strong></p>
<p>Method <span class="xref std std-ref">L-BFGS-B</span> uses the L-BFGS-B
algorithm <a class="reference internal" href="#r19" id="id16">[R19]</a>, <a class="reference internal" href="#r20" id="id17">[R20]</a> for bound constrained minimization.</p>
<p>Method <span class="xref std std-ref">TNC</span> uses a truncated Newton
algorithm <a class="reference internal" href="#r18" id="id18">[R18]</a>, <a class="reference internal" href="#r21" id="id19">[R21]</a> to minimize a function with variables subject
to bounds. This algorithm uses gradient information; it is also
called Newton Conjugate-Gradient. It differs from the <em>Newton-CG</em>
method described above as it wraps a C implementation and allows
each variable to be given upper and lower bounds.</p>
<p>Method <span class="xref std std-ref">COBYLA</span> uses the
Constrained Optimization BY Linear Approximation (COBYLA) method
<a class="reference internal" href="#r22" id="id20">[R22]</a>, <a class="footnote-reference" href="#id24" id="id21">[10]</a>, <a class="footnote-reference" href="#id25" id="id22">[11]</a>. The algorithm is based on linear
approximations to the objective function and each constraint. The
method wraps a FORTRAN implementation of the algorithm. The
constraints functions &#8216;fun&#8217; may return either a single number
or an array or list of numbers.</p>
<p>Method <span class="xref std std-ref">SLSQP</span> uses Sequential
Least SQuares Programming to minimize a function of several
variables with any combination of bounds, equality and inequality
constraints. The method wraps the SLSQP Optimization subroutine
originally implemented by Dieter Kraft <a class="footnote-reference" href="#id26" id="id23">[12]</a>. Note that the
wrapper handles infinite values in bounds by converting them into
large floating values.</p>
<p><strong>Custom minimizers</strong></p>
<p>It may be useful to pass a custom minimization method, for example
when using a frontend to this method such as <cite>scipy.optimize.basinhopping</cite>
or a different library.  You can simply pass a callable as the <code class="docutils literal"><span class="pre">method</span></code>
parameter.</p>
<p>The callable is called as <code class="docutils literal"><span class="pre">method(fun,</span> <span class="pre">x0,</span> <span class="pre">args,</span> <span class="pre">**kwargs,</span> <span class="pre">**options)</span></code>
where <code class="docutils literal"><span class="pre">kwargs</span></code> corresponds to any other parameters passed to <cite>minimize</cite>
(such as <cite>callback</cite>, <cite>hess</cite>, etc.), except the <cite>options</cite> dict, which has
its contents also passed as <cite>method</cite> parameters pair by pair.  Also, if
<cite>jac</cite> has been passed as a bool type, <cite>jac</cite> and <cite>fun</cite> are mangled so that
<cite>fun</cite> returns just the function values and <cite>jac</cite> is converted to a function
returning the Jacobian.  The method shall return an <code class="docutils literal"><span class="pre">OptimizeResult</span></code>
object.</p>
<p>The provided <cite>method</cite> callable must be able to accept (and possibly ignore)
arbitrary parameters; the set of parameters accepted by <cite>minimize</cite> may
expand in future versions and then these parameters will be passed to
the method.  You can find an example in the scipy.optimize tutorial.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.11.0.</span></p>
</div>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r14" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R14]</td><td><em>(<a class="fn-backref" href="#id7">1</a>, <a class="fn-backref" href="#id27">2</a>)</em> Nelder, J A, and R Mead. 1965. A Simplex Method for Function
Minimization. The Computer Journal 7: 308-13.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r15" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R15]</td><td><em>(<a class="fn-backref" href="#id8">1</a>, <a class="fn-backref" href="#id28">2</a>)</em> Wright M H. 1996. Direct search methods: Once scorned, now
respectable, in Numerical Analysis 1995: Proceedings of the 1995
Dundee Biennial Conference in Numerical Analysis (Eds. D F
Griffiths and G A Watson). Addison Wesley Longman, Harlow, UK.
191-208.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r16" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R16]</td><td><em>(<a class="fn-backref" href="#id9">1</a>, <a class="fn-backref" href="#id29">2</a>)</em> Powell, M J D. 1964. An efficient method for finding the minimum of
a function of several variables without calculating derivatives. The
Computer Journal 7: 155-162.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r17" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R17]</td><td><em>(<a class="fn-backref" href="#id10">1</a>, <a class="fn-backref" href="#id30">2</a>)</em> Press W, S A Teukolsky, W T Vetterling and B P Flannery.
Numerical Recipes (any edition), Cambridge University Press.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r18" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R18]</td><td><em>(<a class="fn-backref" href="#id11">1</a>, <a class="fn-backref" href="#id12">2</a>, <a class="fn-backref" href="#id13">3</a>, <a class="fn-backref" href="#id14">4</a>, <a class="fn-backref" href="#id15">5</a>, <a class="fn-backref" href="#id18">6</a>, <a class="fn-backref" href="#id31">7</a>, <a class="fn-backref" href="#id39">8</a>)</em> Nocedal, J, and S J Wright. 2006. Numerical Optimization.
Springer New York.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r19" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R19]</td><td><em>(<a class="fn-backref" href="#id16">1</a>, <a class="fn-backref" href="#id32">2</a>)</em> Byrd, R H and P Lu and J. Nocedal. 1995. A Limited Memory
Algorithm for Bound Constrained Optimization. SIAM Journal on
Scientific and Statistical Computing 16 (5): 1190-1208.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r20" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R20]</td><td><em>(<a class="fn-backref" href="#id17">1</a>, <a class="fn-backref" href="#id33">2</a>)</em> Zhu, C and R H Byrd and J Nocedal. 1997. L-BFGS-B: Algorithm
778: L-BFGS-B, FORTRAN routines for large scale bound constrained
optimization. ACM Transactions on Mathematical Software 23 (4):
550-560.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r21" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R21]</td><td><em>(<a class="fn-backref" href="#id19">1</a>, <a class="fn-backref" href="#id34">2</a>)</em> Nash, S G. Newton-Type Minimization Via the Lanczos Method.
1984. SIAM Journal of Numerical Analysis 21: 770-778.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r22" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R22]</td><td><em>(<a class="fn-backref" href="#id20">1</a>, <a class="fn-backref" href="#id35">2</a>)</em> Powell, M J D. A direct search optimization method that models
the objective and constraint functions by linear interpolation.
1994. Advances in Optimization and Numerical Analysis, eds. S. Gomez
and J-P Hennart, Kluwer Academic (Dordrecht), 51-67.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id24" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[10]</td><td><em>(<a class="fn-backref" href="#id21">1</a>, <a class="fn-backref" href="#id36">2</a>)</em> Powell M J D. Direct search algorithms for optimization
calculations. 1998. Acta Numerica 7: 287-336.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id25" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[11]</td><td><em>(<a class="fn-backref" href="#id22">1</a>, <a class="fn-backref" href="#id37">2</a>)</em> Powell M J D. A view of algorithms for optimization without
derivatives. 2007.Cambridge University Technical Report DAMTP
2007/NA03</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id26" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[12]</td><td><em>(<a class="fn-backref" href="#id23">1</a>, <a class="fn-backref" href="#id38">2</a>)</em> Kraft, D. A software package for sequential quadratic
programming. 1988. Tech. Rep. DFVLR-FB 88-28, DLR German Aerospace
Center &#8211; Institute for Flight Mechanics, Koln, Germany.</td></tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Let us consider the problem of minimizing the Rosenbrock function. This
function (and its respective derivatives) is implemented in <cite>rosen</cite>
(resp. <cite>rosen_der</cite>, <cite>rosen_hess</cite>) in the <cite>scipy.optimize</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="kn">import</span> <span class="n">minimize</span><span class="p">,</span> <span class="n">rosen</span><span class="p">,</span> <span class="n">rosen_der</span>
</pre></div>
</div>
<p>A simple application of the <em>Nelder-Mead</em> method is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x0</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">1.9</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">minimize</span><span class="p">(</span><span class="n">rosen</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;Nelder-Mead&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="o">.</span><span class="n">x</span>
<span class="go">[ 1.  1.  1.  1.  1.]</span>
</pre></div>
</div>
<p>Now using the <em>BFGS</em> algorithm, using the first derivative and a few
options:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">minimize</span><span class="p">(</span><span class="n">rosen</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;BFGS&#39;</span><span class="p">,</span> <span class="n">jac</span><span class="o">=</span><span class="n">rosen_der</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">options</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;gtol&#39;</span><span class="p">:</span> <span class="mf">1e-6</span><span class="p">,</span> <span class="s1">&#39;disp&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">})</span>
<span class="go">Optimization terminated successfully.</span>
<span class="go">         Current function value: 0.000000</span>
<span class="go">         Iterations: 52</span>
<span class="go">         Function evaluations: 64</span>
<span class="go">         Gradient evaluations: 64</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="o">.</span><span class="n">x</span>
<span class="go">array([ 1.  1.  1.  1.  1.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
<span class="go">Optimization terminated successfully.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="o">.</span><span class="n">hess_inv</span>
<span class="go">[[ 0.00749589  0.01255155  0.02396251  0.04750988  0.09495377]</span>
<span class="go"> [ 0.01255155  0.02510441  0.04794055  0.09502834  0.18996269]</span>
<span class="go"> [ 0.02396251  0.04794055  0.09631614  0.19092151  0.38165151]</span>
<span class="go"> [ 0.04750988  0.09502834  0.19092151  0.38341252  0.7664427 ]</span>
<span class="go"> [ 0.09495377  0.18996269  0.38165151  0.7664427   1.53713523]]</span>
</pre></div>
</div>
<p>Next, consider a minimization problem with several constraints (namely
Example 16.4 from <a class="reference internal" href="#r18" id="id39">[R18]</a>). The objective function is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fun</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mf">2.5</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<p>There are three constraints defined as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cons</span> <span class="o">=</span> <span class="p">({</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ineq&#39;</span><span class="p">,</span> <span class="s1">&#39;fun&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span>  <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="p">},</span>
<span class="gp">... </span>        <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ineq&#39;</span><span class="p">,</span> <span class="s1">&#39;fun&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">6</span><span class="p">},</span>
<span class="gp">... </span>        <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ineq&#39;</span><span class="p">,</span> <span class="s1">&#39;fun&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="p">})</span>
</pre></div>
</div>
<p>And variables must be positive, hence the following bounds:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bnds</span> <span class="o">=</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
</pre></div>
</div>
<p>The optimization problem is solved using the SLSQP method as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">minimize</span><span class="p">(</span><span class="n">fun</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;SLSQP&#39;</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="n">bnds</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">constraints</span><span class="o">=</span><span class="n">cons</span><span class="p">)</span>
</pre></div>
</div>
<p>It should converge to the theoretical solution (1.4 ,1.7).</p>
</dd></dl>

</div>
<div class="section" id="sparse-nnls">
<h3>sparse_nnls<a class="headerlink" href="#sparse-nnls" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.optimize.sparse_nnls">
<code class="descclassname">dipy.core.optimize.</code><code class="descname">sparse_nnls</code><span class="sig-paren">(</span><em>y</em>, <em>X</em>, <em>momentum=1</em>, <em>step_size=0.01</em>, <em>non_neg=True</em>, <em>check_error_iter=10</em>, <em>max_error_checks=10</em>, <em>converge_on_sse=0.99</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.sparse_nnls" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve y=Xh for h, using gradient descent, with X a sparse matrix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>y</strong> : 1-d array of shape (N)</p>
<blockquote>
<div><p>The data. Needs to be dense.</p>
</div></blockquote>
<p><strong>X</strong> : ndarray. May be either sparse or dense. Shape (N, M)</p>
<blockquote>
<div><p>The regressors</p>
</div></blockquote>
<p><strong>momentum</strong> : float, optional (default: 1).</p>
<blockquote>
<div><p>The persistence of the gradient.</p>
</div></blockquote>
<p><strong>step_size</strong> : float, optional (default: 0.01).</p>
<blockquote>
<div><p>The increment of parameter update in each iteration</p>
</div></blockquote>
<p><strong>non_neg</strong> : Boolean, optional (default: True)</p>
<blockquote>
<div><p>Whether to enforce non-negativity of the solution.</p>
</div></blockquote>
<p><strong>check_error_iter</strong> : int (default:10)</p>
<blockquote>
<div><p>How many rounds to run between error evaluation for
convergence-checking.</p>
</div></blockquote>
<p><strong>max_error_checks</strong> : int (default: 10)</p>
<blockquote>
<div><p>Don&#8217;t check errors more than this number of times if no improvement in
r-squared is seen.</p>
</div></blockquote>
<p><strong>converge_on_sse</strong> : float (default: 0.99)</p>
<blockquote>
<div><p>a percentage improvement in SSE that is required each time to say
that things are still going well.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>h_best</strong> : The best estimate of the parameters.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="spdot">
<h3>spdot<a class="headerlink" href="#spdot" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.optimize.spdot">
<code class="descclassname">dipy.core.optimize.</code><code class="descname">spdot</code><span class="sig-paren">(</span><em>A</em>, <em>B</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.spdot" title="Permalink to this definition">¶</a></dt>
<dd><p>The same as np.dot(A, B), except it works even if A or B or both
are sparse matrices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>A, B</strong> : arrays of shape (m, n), (n, k)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>The matrix product AB. If both A and B are sparse, the result will be a</strong> :</p>
<p><strong>sparse matrix. Otherwise, a dense result is returned</strong> :</p>
<p><strong>See discussion here:</strong> :</p>
<p class="last"><strong>http://mail.scipy.org/pipermail/scipy-user/2010-November/027700.html</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="with-metaclass">
<h3>with_metaclass<a class="headerlink" href="#with-metaclass" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.optimize.with_metaclass">
<code class="descclassname">dipy.core.optimize.</code><code class="descname">with_metaclass</code><span class="sig-paren">(</span><em>meta</em>, <em>*bases</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.optimize.with_metaclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a base class with a metaclass.</p>
</dd></dl>

</div>
<div class="section" id="profiler">
<h3><a class="reference internal" href="dipy.core.profile.html#dipy.core.profile.Profiler" title="dipy.core.profile.Profiler"><code class="xref py py-class docutils literal"><span class="pre">Profiler</span></code></a><a class="headerlink" href="#profiler" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.core.profile.Profiler">
<em class="property">class </em><code class="descclassname">dipy.core.profile.</code><code class="descname">Profiler</code><span class="sig-paren">(</span><em>call=None</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.profile.Profiler" title="Permalink to this definition">¶</a></dt>
<dd><p>Profile python/cython files or functions</p>
<p>If you are profiling cython code you need to add    
# cython: profile=True on the top of your .pyx file</p>
<p>and for the functions that you do not want to profile you can use
this decorator in your cython files</p>
<p>&#64;cython.profile(False)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>caller: file or function call</strong> :</p>
<p class="last"><strong>args: function arguments</strong> :</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://docs.cython.org/src/tutorial/profiling_tutorial.html">http://docs.cython.org/src/tutorial/profiling_tutorial.html</a>
<a class="reference external" href="http://docs.python.org/library/profile.html">http://docs.python.org/library/profile.html</a>
<a class="reference external" href="http://packages.python.org/line_profiler/">http://packages.python.org/line_profiler/</a></p>
<p class="rubric">Examples</p>
<p>import dipy.core.profile as p
import numpy as np
p.Profiler(np.sum,np.random.rand(1000000,3))
fname=&#8217;test.py&#8217;
p.Profiler(fname)
p.print_stats(10)
p.print_stats(&#8216;det&#8217;)</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="88%" />
<col width="12%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>stats: function, stats.print_stats(10) will prin the 10 slower functions</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="dipy.core.profile.html#dipy.core.profile.Profiler.print_stats" title="dipy.core.profile.Profiler.print_stats"><code class="xref py py-obj docutils literal"><span class="pre">print_stats</span></code></a>([N])</td>
<td>Print stats for profiling</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.core.profile.Profiler.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>call=None</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.profile.Profiler.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.core.profile.Profiler.print_stats">
<code class="descname">print_stats</code><span class="sig-paren">(</span><em>N=10</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.profile.Profiler.print_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Print stats for profiling</p>
<p>You can use it in all different ways developed in pstats
for example
print_stats(10) will give you the 10 slowest calls
or
print_stats(&#8216;function_name&#8217;)
will give you the stats for all the calls with name &#8216;function_name&#8217;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>N</strong> : stats.print_stats argument</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="optional-package">
<h3>optional_package<a class="headerlink" href="#optional-package" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.profile.optional_package">
<code class="descclassname">dipy.core.profile.</code><code class="descname">optional_package</code><span class="sig-paren">(</span><em>name</em>, <em>trip_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.profile.optional_package" title="Permalink to this definition">¶</a></dt>
<dd><p>Return package-like thing and module setup for package <cite>name</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : str</p>
<blockquote>
<div><p>package name</p>
</div></blockquote>
<p><strong>trip_msg</strong> : None or str</p>
<blockquote>
<div><p>message to give when someone tries to use the return package, but we
could not import it, and have returned a TripWire object instead.
Default message if None.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>pkg_like</strong> : module or <code class="docutils literal"><span class="pre">TripWire</span></code> instance</p>
<blockquote>
<div><p>If we can import the package, return it.  Otherwise return an object
raising an error when accessed</p>
</div></blockquote>
<p><strong>have_pkg</strong> : bool</p>
<blockquote>
<div><p>True if import for package was succesful, false otherwise</p>
</div></blockquote>
<p><strong>module_setup</strong> : function</p>
<blockquote class="last">
<div><p>callable usually set as <code class="docutils literal"><span class="pre">setup_module</span></code> in calling namespace, to allow
skipping tests.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="lecuyer">
<h3>LEcuyer<a class="headerlink" href="#lecuyer" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.rng.LEcuyer">
<code class="descclassname">dipy.core.rng.</code><code class="descname">LEcuyer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.rng.LEcuyer" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate uniformly distributed random numbers using the 32-bit
generator from figure 3 of:
L&#8217;Ecuyer, P. Efficient and portable combined random number
generators, C.A.C.M., vol. 31, 742-749 &amp; 774-?, June 1988.</p>
<p>The cycle length is claimed to be 2.30584E+18</p>
</dd></dl>

</div>
<div class="section" id="wichmannhill1982">
<h3>WichmannHill1982<a class="headerlink" href="#wichmannhill1982" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.rng.WichmannHill1982">
<code class="descclassname">dipy.core.rng.</code><code class="descname">WichmannHill1982</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.rng.WichmannHill1982" title="Permalink to this definition">¶</a></dt>
<dd><p>Algorithm AS 183 Appl. Statist. (1982) vol.31, no.2</p>
<p>Returns a pseudo-random number rectangularly distributed
between 0 and 1.   The cycle length is 6.95E+12 (See page 123
of Applied Statistics (1984) vol.33), not as claimed in the
original article.</p>
<p>ix, iy and iz should be set to integer values between 1 and
30000 before the first entry.</p>
<p>Integer arithmetic up to 5212632 is required.</p>
</dd></dl>

</div>
<div class="section" id="wichmannhill2006">
<h3>WichmannHill2006<a class="headerlink" href="#wichmannhill2006" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.rng.WichmannHill2006">
<code class="descclassname">dipy.core.rng.</code><code class="descname">WichmannHill2006</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.rng.WichmannHill2006" title="Permalink to this definition">¶</a></dt>
<dd><p>B.A. Wichmann, I.D. Hill, Generating good pseudo-random numbers,
Computational Statistics &amp; Data Analysis, Volume 51, Issue 3, 1
December 2006, Pages 1614-1622, ISSN 0167-9473, DOI:
10.1016/j.csda.2006.05.019. (<a class="reference external" href="http://www.sciencedirect.com/science/article/B6V8V-4K7F86W-2/2/a3a33291b8264e4c882a8f21b6e43351">http://www.sciencedirect.com/science/article/B6V8V-4K7F86W-2/2/a3a33291b8264e4c882a8f21b6e43351</a>)
for advice on generating many sequences for use together, and on alternative algorithms and codes</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.core</span> <span class="kn">import</span> <span class="n">rng</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span><span class="o">.</span><span class="n">ix</span><span class="p">,</span> <span class="n">rng</span><span class="o">.</span><span class="n">iy</span><span class="p">,</span> <span class="n">rng</span><span class="o">.</span><span class="n">iz</span><span class="p">,</span> <span class="n">rng</span><span class="o">.</span><span class="n">it</span> <span class="o">=</span> <span class="mi">100001</span><span class="p">,</span> <span class="mi">200002</span><span class="p">,</span> <span class="mi">300003</span><span class="p">,</span> <span class="mi">400004</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="n">rng</span><span class="o">.</span><span class="n">WichmannHill2006</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="architecture">
<h3>architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.rng.architecture">
<code class="descclassname">dipy.core.rng.</code><code class="descname">architecture</code><span class="sig-paren">(</span><em>executable='/usr/bin/python2'</em>, <em>bits=''</em>, <em>linkage=''</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.rng.architecture" title="Permalink to this definition">¶</a></dt>
<dd><p>Queries the given executable (defaults to the Python interpreter
binary) for various architecture information.</p>
<p>Returns a tuple (bits,linkage) which contains information about
the bit architecture and the linkage format used for the
executable. Both values are returned as strings.</p>
<p>Values that cannot be determined are returned as given by the
parameter presets. If bits is given as &#8216;&#8217;, the sizeof(pointer)
(or sizeof(long) on Python version &lt; 1.5.2) is used as
indicator for the supported pointer size.</p>
<p>The function relies on the system&#8217;s &#8220;file&#8221; command to do the
actual work. This is available on most if not all Unix
platforms. On some non-Unix platforms where the &#8220;file&#8221; command
does not exist and the executable is set to the Python interpreter
binary defaults from _default_architecture are used.</p>
</dd></dl>

</div>
<div class="section" id="floor">
<h3>floor<a class="headerlink" href="#floor" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.rng.floor">
<code class="descclassname">dipy.core.rng.</code><code class="descname">floor</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.rng.floor" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the floor of x as a float.
This is the largest integral value &lt;= x.</p>
</dd></dl>

</div>
<div class="section" id="hemisphere">
<h3><code class="xref py py-class docutils literal"><span class="pre">HemiSphere</span></code><a class="headerlink" href="#hemisphere" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="sphere">
<h3><code class="xref py py-class docutils literal"><span class="pre">Sphere</span></code><a class="headerlink" href="#sphere" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="xrange">
<h3><code class="xref py py-class docutils literal"><span class="pre">xrange</span></code><a class="headerlink" href="#xrange" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id40">
<h3>auto_attr<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id41">
<h3>cart2sphere<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="disperse-charges">
<h3>disperse_charges<a class="headerlink" href="#disperse-charges" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="euler-characteristic-check">
<h3>euler_characteristic_check<a class="headerlink" href="#euler-characteristic-check" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="faces-from-sphere-vertices">
<h3>faces_from_sphere_vertices<a class="headerlink" href="#faces-from-sphere-vertices" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="interp-rbf">
<h3>interp_rbf<a class="headerlink" href="#interp-rbf" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="remove-similar-vertices">
<h3>remove_similar_vertices<a class="headerlink" href="#remove-similar-vertices" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id42">
<h3>sphere2cart<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="unique-edges">
<h3>unique_edges<a class="headerlink" href="#unique-edges" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="unique-sets">
<h3>unique_sets<a class="headerlink" href="#unique-sets" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id43">
<h3>vector_norm<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="permutations">
<h3><code class="xref py py-class docutils literal"><span class="pre">permutations</span></code><a class="headerlink" href="#permutations" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="angular-similarity">
<h3>angular_similarity<a class="headerlink" href="#angular-similarity" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="compare-orientation-sets">
<h3>compare_orientation_sets<a class="headerlink" href="#compare-orientation-sets" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="eigenstats">
<h3>eigenstats<a class="headerlink" href="#eigenstats" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.core.sphere_stats.eigenstats">
<code class="descclassname">dipy.core.sphere_stats.</code><code class="descname">eigenstats</code><span class="sig-paren">(</span><em>points</em>, <em>alpha=0.05</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.core.sphere_stats.eigenstats" title="Permalink to this definition">¶</a></dt>
<dd><p>Principal direction and confidence ellipse</p>
<p>Implements equations in section 6.3.1(ii) of Fisher, Lewis and
Embleton, supplemented by equations in section 3.2.5.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>points</strong> : arraey_like (N,3)</p>
<blockquote>
<div><p>array of points on the sphere of radius 1 in <img class="math" src="../_images/math/c5c2e59778e48347320e2fd1db4fdf42eebaa35d.png" alt="\mathbb{R}^3"/></p>
</div></blockquote>
<p><strong>alpha</strong> : real or None</p>
<blockquote>
<div><p>1 minus the coverage for the confidence ellipsoid, e.g. 0.05 for 95% coverage.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>centre</strong> : vector (3,)</p>
<blockquote>
<div><p>centre of ellipsoid</p>
</div></blockquote>
<p><strong>b1</strong> : vector (2,)</p>
<blockquote class="last">
<div><p>lengths of semi-axes of ellipsoid</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="random-uniform-on-sphere">
<h3>random_uniform_on_sphere<a class="headerlink" href="#random-uniform-on-sphere" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id44">
<h3><code class="xref py py-class docutils literal"><span class="pre">HemiSphere</span></code><a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="create-unit-hemisphere">
<h3>create_unit_hemisphere<a class="headerlink" href="#create-unit-hemisphere" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="create-unit-sphere">
<h3>create_unit_sphere<a class="headerlink" href="#create-unit-sphere" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
  <li><a href="../index.html">Dipy Home</a> |&nbsp;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2008-2011, dipy developers &lt;nipy-devel@neuroimaging.scipy.org&gt;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.5.
    </div>
  </body>
</html>