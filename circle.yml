dependencies:
  pre:
    - sudo apt-get update;
    - sudo apt-get install -y ipython python-tables python-vtk;
    - sudo apt-get install -y xvfb;
    - sudo apt-get install -y python-tk;
    - sudo apt-get install -y python-imaging;
    - pip install nose
    - pip install sphinx
    - pip install matplotlib
    # Enable systemwide vtk
    - ln -sf /usr/lib/pymodules/python2.7/vtk ~/virtualenvs/venv-system/lib/python2.7/site-packages/

checkout:
  post:
    - mkdir for_testing

test:
  override:
    # TESTS
    # Change into an innocuous directory and find tests from installation
    #- nosetests --with-doctest --verbose dipy:
    #    pwd:
    #      for_testing
    #
    # DOC BUILDS
    - cd doc && make html

general:
  artifacts:
    - "doc/_build/html"